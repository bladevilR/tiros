(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72802d2a","chunk-ffe7c64a","chunk-72e72170","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7"],{"0d29":function(e,t,r){},5371:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("a-row",{staticStyle:{"padding-bottom":"10px"},attrs:{gutter:24}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-upload",{attrs:{multiple:!0,"file-list":e.fileList,remove:e.handleRemove,"before-upload":e.beforeUpload,"default-file-list":e.defaultFileList}},[t("a-button",{staticClass:"border-primary-4"},[e._v("添加文件")])],1)],1)],1),t("a-row",[e.showUpload?t("a-col",{attrs:{span:5}},[t("a-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:e.beginUpload}},[e._v("上传至服务器")])],1):e._e(),t("a-col",{staticStyle:{color:"#cccccc"},attrs:{span:19}},[e._v("一次最多上传"+e._s(e.fileSize)+"个文件，且单个文件不能超过10MB")])],1)],1)},a=[],i=r("e2aa");function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function i(r,n,a,i){var o=n&&n.prototype instanceof u?n:u,s=Object.create(o.prototype);return c(s,"_invoke",function(r,n,a){var i,o,c,u=0,s=a||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return i=t,o=0,c=e,f.n=r,l}};function h(r,n){for(o=r,c=n,t=0;!d&&u&&!a&&t<s.length;t++){var a,i=s[t],h=f.p,m=i[2];r>3?(a=m===n)&&(c=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=e):i[0]<=h&&((a=r<2&&h<i[1])?(o=0,f.v=n,f.n=i[1]):h<m&&(a=r<3||i[0]>n||n>m)&&(i[4]=r,i[5]=n,f.n=m,o=0))}if(a||r>1)return l;throw d=!0,n}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&h(s,m),o=s,c=m;(t=o<2?e:c)||!d;){i||(o?o<3?(o>1&&(f.n=-1),h(o,c)):f.n=c:f.v=c);try{if(u=2,i){if(o||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,o<2&&(o=0)}else 1===o&&(t=i.return)&&t.call(i),o<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=e}else if((t=(d=f.n<0)?c:r.call(n,f))!==l)break}catch(t){i=e,o=1,c=t}finally{u=1}}return{value:t,done:d}}}(r,a,i),!0),s}var l={};function u(){}function s(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(c(t={},n,(function(){return this})),t),h=d.prototype=u.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return s.prototype=d,c(h,"constructor",d),c(d,"constructor",s),s.displayName="GeneratorFunction",c(d,a,"GeneratorFunction"),c(h),c(h,a,"Generator"),c(h,n,(function(){return this})),c(h,"toString",(function(){return"[object Generator]"})),(o=function(){return{w:i,m:m}})()}function c(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}c=function(e,t,r,n){function i(t,r){c(e,t,(function(e){return this._invoke(t,r,e)}))}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},c(e,t,r,n)}function l(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,c,"next",e)}function c(e){l(i,n,a,o,c,"throw",e)}o(void 0)}))}}var s={name:"DocUpload",props:{path:{type:String,default:""},fileSize:{type:Number,default:5},defaultFileList:{type:Array,default:[]},showUpload:{type:Boolean,default:!0},isFileEmpty:{type:Boolean,default:!1}},watch:{uploadFiles:{immediate:!1,handler:function(){var e=u(o().m((function e(t){return o().w((function(e){while(1)switch(e.n){case 0:if(t.length!==this.fileList.length){e.n=1;break}return e.n=1,this.$emit("uploaded",this.uploadFiles);case 1:return e.a(2)}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},data:function(){return{fileList:[],uploadFiles:[],isLoading:!1}},methods:{beforeUpload:function(e){var t=e.size/1024/1024<10;return t?(this.fileList.push(e),this.$emit("fileNum",this.fileList.length),this.$emit("setBforeUploadStatus",!1),!1):(this.$message.error("文件不得大于10MB!"),!1)},handleRemove:function(e){var t=this.fileList.indexOf(e),r=this.fileList.slice();r.splice(t,1),this.fileList=r,this.$emit("fileNum",this.fileList.length),this.$emit("removed",e)},beginUpload:function(){var e=this;return new Promise((function(t,r){var n=e.fileList,a=e.fileSize;if(!e.isFileEmpty&&0===n.length)return e.$emit("upLoadingEnd"),e.$message.warning("请选择要上传的文件"),void r();n.length>a?(e.$message.error("一次最多上传"+a+"个文件!"),r()):e.customRequest().then((function(){t()})).catch((function(e){r()}))}))},customRequest:function(){var e=this,t=this.fileList;if(t.length<1)return this.$emit("uploaded",[]),this.$emit("upLoadingEnd"),Promise.resolve();this.isLoading=!0;var r=[];return t.forEach((function(t){var n=new FormData;n.append("file",t),r.push(e.saveFile(n,t))})),Promise.all(r).finally((function(){e.isLoading=!1,e.$emit("upLoadingEnd")}))},saveFile:function(){var e=u(o().m((function e(t,r){var n=this;return o().w((function(e){while(1)switch(e.n){case 0:return e.a(2,Object(i["d"])(t,this.path).then((function(e){e.success?(n.getUploadData(r,e),n.$emit("setUpLoadingEndStatus",!0)):(n.$message.error(e.message),n.$emit("uploadFail",r))})))}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),getUploadData:function(e,t){var r=this.uploadFiles,n={name:e.name,type:this.handleFileName(e),fileSize:Math.round(e.size/1024),savepath:t.result};r.push(n)},handleFileName:function(e){var t=e.name.lastIndexOf("."),r=e.name.length,n=e.name.substring(t+1,r);return n}}},d=s,f=(r("9615"),r("2877")),h=Object(f["a"])(d,n,a,!1,null,"69990be1",null);t["default"]=h.exports},5464:function(e,t,r){"use strict";r("0d29")},5633:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("span",[t("a-select",{key:e.key,attrs:{"allow-clear":"",value:e.getValueSting,disabled:e.disabled,placeholder:"线路"},on:{change:e.handleChange,select:e.onSelect}},[t("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.optionData,(function(r,n){return t("a-select-option",{key:n,attrs:{value:r.lineId}},[t("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:r.lineName}},[e._v(" "+e._s(r.lineName)+" ")])])}))],2)],1)},a=[],i=r("8fad"),o={name:"LineSelectList",props:{value:[String],triggerChange:Boolean,disabled:Boolean,defaultFirst:Boolean},data:function(){return{optionData:[],selectValue:"",key:0}},created:function(){this.findList()},computed:{getValueSting:function(){return null!=this.value?this.value.toString():void 0}},methods:{findList:function(){var e=this;Object(i["Jb"])().then((function(t){t.success&&(e.optionData=t.result,e.defaultFirst&&e.optionData&&e.optionData.length>0&&setTimeout((function(){e.$emit("change",e.optionData[0].lineId),e.$emit("input",e.optionData[0].lineId)}),500))}))},handleChange:function(e,t){var r="";if(t&&t.componentOptions.children[0].data&&(r=t.componentOptions.children[0].data.attrs.title),this.$emit("change",e),this.$emit("input",e),this.$emit("changeName",r),this.triggerChange)if(e){var n=this.optionData[t.key];this.$emit("change",e,n)}else this.$emit("change",e,null)},onSelect:function(e,t){if(e){var r=this.optionData[t.data.key];this.$emit("select",e,r)}else this.$emit("select","",null)}}},c=o,l=r("2877"),u=Object(l["a"])(c,n,a,!1,null,"77265147",null);t["default"]=u.exports},"94c2d":function(e,t,r){},9615:function(e,t,r){"use strict";r("94c2d")},b7b4:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"j",(function(){return i})),r.d(t,"n",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"v",(function(){return u})),r.d(t,"x",(function(){return c})),r.d(t,"p",(function(){return d})),r.d(t,"F",(function(){return f})),r.d(t,"H",(function(){return h})),r.d(t,"r",(function(){return m})),r.d(t,"o",(function(){return g})),r.d(t,"l",(function(){return b})),r.d(t,"y",(function(){return v})),r.d(t,"a",(function(){return y})),r.d(t,"i",(function(){return j})),r.d(t,"m",(function(){return w})),r.d(t,"s",(function(){return O})),r.d(t,"B",(function(){return q})),r.d(t,"C",(function(){return P})),r.d(t,"G",(function(){return x})),r.d(t,"J",(function(){return $})),r.d(t,"g",(function(){return L})),r.d(t,"k",(function(){return C})),r.d(t,"t",(function(){return _})),r.d(t,"e",(function(){return S})),r.d(t,"u",(function(){return I})),r.d(t,"E",(function(){return T})),r.d(t,"z",(function(){return F})),r.d(t,"A",(function(){return R})),r.d(t,"d",(function(){return k})),r.d(t,"f",(function(){return D})),r.d(t,"q",(function(){return p})),r.d(t,"D",(function(){return N})),r.d(t,"I",(function(){return E})),r.d(t,"h",(function(){return z})),r.d(t,"w",(function(){return s}));var n=r("0fea"),a=function(e){return Object(n["j"])("/quality/rectify/add",e)},i=function(e){return Object(n["j"])("/quality/rectify/delete",e)},o=function(e){return Object(n["j"])("/quality/rectify/edit",e)},c=function(e){return Object(n["d"])("/quality/rectify/page",e)},l=function(e){return Object(n["j"])("/quality/rectify/close",e)},u=function(e){return Object(n["d"])("/quality/rectify/get",e)},s=function(e){return Object(n["d"])("/quality/rectify/getCode",e)},d=function(e){return Object(n["d"])("/quality/measurealert/page",e)},f=function(e){return Object(n["d"])("/quality/measurethreshold/form/page-data-form",e)},h=function(e){return Object(n["j"])("/quality/measurethreshold/threshold/save",e)},m=function(e){return Object(n["d"])("/quality/measurethreshold/threshold/list/".concat(e))},p=function(e){return Object(n["d"])("/serialPlan/plan/forms/online-form/alert-records",{dataRecordId:e})},g=function(e){return Object(n["j"])("/quality/measurethreshold/threshold/edit",e)},b=function(e){return Object(n["j"])("/quality/measurethreshold/threshold/delete",e)},v=function(e){return Object(n["d"])("/quality/measurethreshold/threshold/get",e)},y=function(e){return Object(n["j"])("/quality/leaverecord/add",e)},j=function(e){return Object(n["j"])("/quality/leaverecord/delete",e)},k=function(e){return Object(n["j"])("/quality/leaverecord/close",e)},w=function(e){return Object(n["j"])("/quality/leaverecord/edit",e)},O=function(e){return Object(n["d"])("/quality/leaverecord/page",e)},q=function(e,t){return Object(n["c"])("/quality/leaverecord/workLeaveRecordExport",e,t)},P=function(e){return Object(n["d"])("/quality/exception-transfer/page",e)},x=function(e){return Object(n["j"])("/quality/exception-transfer/add",e)},$=function(e){return Object(n["j"])("/quality/exception-transfer/edit",e)},L=function(e){return Object(n["j"])("/quality/exception-transfer/decide",e)},C=function(e){return Object(n["j"])("/quality/exception-transfer/delete",e)},_=function(e){return Object(n["d"])("/quality/record-confirm/list",e)},S=function(e){return Object(n["j"])("/quality/record-confirm/confirm",e)},I=function(e){return Object(n["d"])("/quality/record-confirm/work-record/get",e)},F=function(e){return Object(n["d"])("/serialPlan/plan/forms/check-record/get",e)},R=function(e){return Object(n["d"])("/workcheck/get",e)},D=function(e){return Object(n["j"])("/quality/record-confirm/confirm",e)},T=function(e){return Object(n["d"])("/quality/record-confirm/page",e)},N=function(e){return Object(n["d"])("/quality/record-confirm/page/check-record",e)},E=function(e){return Object(n["j"])("/serialPlan/plan/forms/judge/save",e)},z=function(e){return Object(n["j"])("/serialPlan/plan/forms/judge/delete",e)}},bcfa:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{padding:"5px"}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"名称"}},[t("a-input",{attrs:{placeholder:"输入作业检查表名称","allow-clear":""},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"修程"}},[t("j-dict-select-tag",{attrs:{triggerChange:"",dictCode:"bu_repair_program,name,id"},on:{change:e.handleProgram},model:{value:e.queryParam.repairProId,callback:function(t){e.$set(e.queryParam,"repairProId",t)},expression:"queryParam.repairProId"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"规程"}},[t("j-dict-select-tag",{attrs:{triggerChange:"",dictCode:e.dicStr},on:{focus:e.handleFocusRegu},model:{value:e.queryParam.reguId,callback:function(t){e.$set(e.queryParam,"reguId",t)},expression:"queryParam.reguId"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"线路"}},[t("line-select-list",{model:{value:e.queryParam.lineId,callback:function(t){e.$set(e.queryParam,"lineId",t)},expression:"queryParam.lineId"}})],1)],1)],1),t("a-row",[t("a-col",[t("span",{staticClass:"table-page-search-submitButtons"},[t("a-space",[t("a-button",{on:{click:e.findList}},[e._v("查询")]),t("a-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),t("a-button",{attrs:{disabled:1!=e.records.length},on:{click:e.handleEdit}},[e._v("编辑")]),t("a-button",{attrs:{disabled:e.records.length<1},on:{click:e.deleteRecord}},[e._v("删除")]),t("a-button",{on:{click:e.importData}},[e._v("导入")]),t("a-button",{attrs:{disabled:1!=e.records.length},on:{click:e.print}},[e._v("导出打印")])],1)],1)])],1)],1)],1),t("div",{staticStyle:{height:"calc(100vh - 272px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 272px)"},attrs:{border:"",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","max-height":"100%","auto-resize":"","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}},on:{"checkbox-change":e.checkboxChange,"checkbox-all":e.checkboxChange}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"title",title:"检查表名称",align:"left","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.row;return[t("div",[t("a",{on:{click:function(t){return t.stopPropagation(),e.handleSeeing(n)}}},[e._v(e._s(n.title))])])]}}])}),t("vxe-table-column",{attrs:{field:"lineName",title:"线路",width:"160"}}),t("vxe-table-column",{attrs:{field:"repairProName",title:"修程",width:"200"}}),t("vxe-table-column",{attrs:{field:"status_dictText",title:"状态",width:"100"}})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1),t("job-check-item-modal",{ref:"modalForm",on:{ok:e.loadData}}),t("JobCheckTableView",{ref:"jobCheckTableView"}),t("JobCheckTableExport",{ref:"tablePrintRef"}),t("ImportCheck",{ref:"importForm",on:{ok:e.loadData}})],1)},a=[],i=r("b7b4"),o=r("5633"),c=r("9108"),l=r("aaa8"),u=r("c1c7"),s=r("3cf2"),d=r("ca00"),f=r("8fad"),h={components:{LineSelectList:o["default"],jobCheckItemModal:c["default"],JobCheckTableView:l["default"],ImportCheck:u["default"],JobCheckTableExport:s["default"]},name:"List",data:function(){return{records:[],dicStr:"",queryParam:{name:"",repairProId:"",reguId:"",lineId:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[]}},created:function(){this.findList()},methods:{handleFocusRegu:function(){var e=this.queryParam.repairProId;Object(d["e"])(e)&&this.$message.warn("请先选择修程类型")},handleProgram:function(e){e?this.dicStr="bu_repair_regu_info,name,id,status=1 and repair_pro_id='".concat(e,"'"):(this.queryParam.reguId="",this.dicStr="")},checkboxChange:function(e){this.records=e.records},openModal:function(){this.$refs.stationModalForm.showModal()},findList:function(){var e=this;this.loading=!0,Object(f["vc"])(this.queryParam).then((function(t){t.success&&(e.totalResult=t.result.total,e.loading=!1,e.records=[],e.tableData=t.result.records)}))},handlePageChange:function(e){var t=e.currentPage,r=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=r,this.findList()},handleEdit:function(){var e=this.$refs.listTable.getCheckboxRecords();1==e.length?(this.$refs.modalForm.edit(e[0]),this.$refs.modalForm.title="编辑"):this.$message.error("请选择一条数据进行编辑！")},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增"},deleteRecord:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否删除选中".concat(t.length,"条数据？"),okText:"确定",cancelText:"取消",onOk:function(){var r=t.map((function(e,t){return e.id})).join(",");Object(f["V"])("ids=".concat(r)).then((function(t){t.success?(e.findList(),e.$message.success(t.message)):e.$message.error(t.message)}))}}):this.$message.error("尚未选中任何数据!")},importData:function(){this.$refs.importForm.show()},loadData:function(){this.findList()},handleSeeing:function(e){var t=this;Object(i["A"])({id:e.id}).then((function(e){if(e.success&&e.result){var r=e.result;t.$refs.jobCheckTableView.show(r)}else t.$message.error("加载记录数据异常")}))},print:function(){var e=this.$refs.listTable.getCheckboxRecords();this.$refs.tablePrintRef.printById(e[0].id)}}},m=h,p=(r("5464"),r("2877")),g=Object(p["a"])(m,n,a,!1,null,null,null);t["default"]=g.exports},c1c7:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:450,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"线路"}},[t("line-select-list",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["lineId",e.validatorRules.lineId],expression:"['lineId', validatorRules.lineId]",modifiers:{trim:!0}}]})],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"修程类型"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["repairProgramId",e.validatorRules.repairProgramId],expression:"['repairProgramId', validatorRules.repairProgramId]",modifiers:{trim:!0}}],attrs:{triggerChange:!0,placeholder:"请选择修程",dictCode:"bu_repair_program,name,id"}})],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"文件上传",required:""}},[t("a-upload",{attrs:{multiple:!1,"file-list":e.fileList,accept:".docx,.doc",remove:e.handleRemove,"before-upload":e.beforeUpload}},[t("a-button",{attrs:{type:"primary"}},[e._v("添加文件")])],1)],1)],1)],1)],1)],1)],1)},a=[],i=r("5633"),o=r("5371"),c=r("8fad"),l={name:"ImportCheck",components:{LineSelectList:i["default"],DocUpload:o["default"]},data:function(){return{title:"导入",visible:!1,model:{},fileList:[],labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:14}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{lineId:{rules:[{required:!0,message:"请选择线路!"}]},repairProgramId:{rules:[{required:!0,message:"请选择修程!"}]}}}},created:function(){},methods:{show:function(){this.form.resetFields(),this.visible=!0},handleRemove:function(e){var t=this.fileList.indexOf(e),r=this.fileList.slice();r.splice(t,1),this.fileList=r},beforeUpload:function(e){var t=e.size/1024/1024<10;if(t){var r="application/msword"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type;if(r)return this.$set(this.fileList,0,e),!1;this.$message.error("只支持Word或Excel文件导入!")}else this.$message.error("文件不得大于10MB!")},customRequest:function(e){var t=this;this.confirmLoading=!0;var r=this.fileList;r.forEach((function(r){var n=new FormData;n.append("file",r),n.append("lineId",e.lineId),n.append("repairProId",e.repairProgramId),Object(c["Ec"])(n).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok"),t.close()):t.$message.error(e.message)})).finally((function(){t.confirmLoading=!1}))}))},handleOk:function(){var e=this,t=this;t.form.validateFields((function(r,n){if(!r){var a=Object.assign(t.model,n);t.fileList.length>0?t.customRequest(a):e.$message.error("请您先添加上传文件！")}}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1,this.fileList=[]}}},u=l,s=r("2877"),d=Object(s["a"])(u,n,a,!1,null,null,null);t["default"]=d.exports}}]);