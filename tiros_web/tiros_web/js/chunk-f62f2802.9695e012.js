(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f62f2802","chunk-5df533bd","chunk-2d0ccf78"],{"00c9":function(e,t,a){"use strict";a("8826")},1712:function(e,t,a){},3481:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-spin",{staticStyle:{height:"calc(100%)"},attrs:{spinning:e.spinning,id:"mySpin"}},[t("div",{staticStyle:{"text-align":"right"}},[t("a-space",[t("a-button",{on:{click:e.zoomIn}},[e._v("放大")]),t("a-button",{on:{click:e.zoomOut}},[e._v("缩小")])],1)],1),t("div",{staticStyle:{height:"calc(100% - 35px)"}},[t("div",{staticStyle:{width:"100%",height:"calc(100% - 5px)","padding-top":"5px"},attrs:{id:"viewProject"}})])])},i=[],o=a("b47d"),l={name:"TaskManageModal",props:["planId"],data:function(){return{visible:!1,spinning:!1,project:null,projectData:{Tasks:[]}}},mounted:function(){this.loadProject()},methods:{zoomIn:function(){this.project.zoomIn()},zoomOut:function(){this.project.zoomOut()},loadProject:function(){var e=this;mini.parse(),this.project=new PlusProject,this.project.setStyle("width:100%;height:100%"),this.project.setBorderStyle("border:1px dotted #cdcdcd");var t=[new PlusProject.IDColumn,{name:"Name",header:"任务名称<br/>String",field:"Name",width:150},new PlusProject.StartColumn,new PlusProject.FinishColumn,new PlusProject.DurationColumn,{name:"programName",header:"修程<br/>String",field:"programName",width:100}];this.project.setColumns(t),this.project.render(document.getElementById("viewProject")),this.project.enableManualSchedule=!0,this.project.setShowDirty(!1),this.project.allowOrderProject=!1,this.project.setEditOnDblClick(!1),this.project.setTableViewWidth(550),this.project.on("cellbeginedit",(function(e){e.cancel=!0})),this.project.setTopTimeScale("month"),this.project.setBottomTimeScale("day"),this.project.setRowHeight(28),this.project.setAllowDragDrop(!0),this.project.setShowLinkLines(!1),this.project.on("itemdragcomplete",(function(t){var a=t.action,r=t.item;if("move"===a){var i=e.$moment(r.startDate),o=e.$moment(r.finishDate);r.Finish=new Date(e.$moment(r.Start).add(o.diff(i,"days"),"days").format("YYYY-MM-DD"))}})),this.getTemplateInfo()},save:function(){var e=this,t=[];this.projectData.Tasks.forEach((function(a){var r=Object.assign({},a);r.startDate=e.$moment(a.startDate).format("YYYY-MM-DD hh:mm:ss"),r.finishDate=e.$moment(a.Finish).format("YYYY-MM-DD hh:mm:ss"),r.Start=e.$moment(a.Start).format("YYYY-MM-DD hh:mm:ss"),r.Finish=e.$moment(a.Finish).format("YYYY-MM-DD hh:mm:ss"),t.push(r)})),Object(o["Jb"])(t).then((function(t){t.success?(e.$message.success("保存成功"),e.$emit("ok")):e.$message.error("保存失败")}))},getTemplateInfo:function(){var e=this;this.spinning=!0,Object(o["Bb"])({planYearId:this.planId}).then((function(t){t.success?(e.projectData=t.result,e.projectData.StartDate=new Date(e.projectData.StartDate),e.projectData.FinishDate=new Date(e.projectData.FinishDate),e.projectData.Tasks=mini.arrayToTree(e.projectData.Tasks,"children","UID","ParentId"),e.project.loadData(e.projectData)):e.$message.error("加载年计划明细数据失败"),e.spinning=!1})).catch((function(t){e.$message.error("加载年计划明细数据异常")}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},s=l,n=(a("00c9"),a("2877")),d=Object(n["a"])(s,r,i,!1,null,null,null);t["default"]=d.exports},"4fd4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,destroyOnClose:!0,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-form",{attrs:{form:e.form}},[t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"线路"}},[t("line-select-list",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineId",e.validatorRules.lineId],expression:"['lineId', validatorRules.lineId]"}],on:{changeName:e.changeLine}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"总列次"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["trainIndex",e.validatorRules.trainIndex],expression:"['trainIndex', validatorRules.trainIndex]"}],staticStyle:{width:"100%"},attrs:{min:1,max:999999}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"修程次数"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["programIndex",e.validatorRules.programIndex],expression:"['programIndex', validatorRules.programIndex]"}],staticStyle:{width:"100%"},attrs:{min:0,max:999999}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"修程"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["programId",e.validatorRules.programId],expression:"['programId', validatorRules.programId]"}],attrs:{triggerChange:!0,dictCode:"bu_repair_program,name,id"},on:{changeName:e.changeprogram}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开始时间"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["startDate",e.validatorRules.startDate],expression:"['startDate', validatorRules.startDate]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"结束时间"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["finishDate",e.validatorRules.finishDate],expression:"['finishDate', validatorRules.finishDate]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol1,wrapperCol:e.wrapperCol1,label:"备注"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",e.validatorRules.remark],expression:"['remark', validatorRules.remark]"}]})],1)],1)],1)],1)],1)},i=[],o=a("c1df"),l=a.n(o),s=a("5633"),n={components:{LineSelectList:s["default"]},data:function(){return{title:"新增计划",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}},labelCol1:{xs:{span:24},sm:{span:3}},wrapperCol1:{xs:{span:24},sm:{span:21}},form:this.$form.createForm(this),validatorRules:{lineId:{rules:[{required:!0,message:"请选择线路!"}]},trainIndex:{rules:[{required:!0,message:"请输入第几列!"}],initialValue:1},programId:{rules:[{required:!0,message:"请选择修程!"}]},startDate:{rules:[{required:!0,message:"请选择开始时间!"}]},finishDate:{rules:[{required:!0,message:"请选择结束时间!"}]},remark:{rules:[{max:255,message:"输入长度不能超过255字符!"}]},programIndex:{rules:[{required:!0,message:"请输入修程次数!"}]}}}},methods:{moment:l.a,add:function(){this.edit({})},edit:function(e){var t=this;this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue({trainIndex:e.trainIndex,lineId:e.lineId,programId:e.programId,startDate:e.startDate,finishDate:e.finishDate,remark:e.remark,programIndex:e.programIndex})}))},handleOk:function(){var e=this;this.form.validateFields((function(t,a){if(!t){var r=Object.assign(e.model,a,{startDate:l()(a.startDate).format("YYYY-MM-DD"),finishDate:l()(a.finishDate).format("YYYY-MM-DD"),amount:1});e.$emit("ok",r),e.close()}}))},changeLine:function(e){this.model.lineName=e},changeprogram:function(e){this.model.programName=e},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},d=n,m=a("2877"),c=Object(m["a"])(d,r,i,!1,null,null,null);t["default"]=c.exports},7222:function(e,t,a){"use strict";a("1712")},8826:function(e,t,a){},b39a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{id:"yearPlanItemContent"}},[t("div",{staticClass:"info-wrapper info-top-wrapper"},[t("h4",[e._v("基本信息")]),t("a-form",{attrs:{form:e.form}},[t("a-row",[t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"计划名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["title",e.validatorRules.title],expression:"['title', validatorRules.title]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入内容"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"计划年份"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["year",e.validatorRules.year],expression:"['year', validatorRules.year]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{mode:"year",placeholder:"请选择年份",format:"YYYY",open:e.yearPickShow},on:{panelChange:e.yearPanelChange,openChange:e.yearOpenChange}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"首列时间"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["firstTime",e.validatorRules.firstTime],expression:"['firstTime', validatorRules.firstTime]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"车辆段"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["depotId",e.validatorRules.depotId],expression:"['depotId', validatorRules.depotId]",modifiers:{trim:!0}}],attrs:{triggerChange:!0,placeholder:"请选择",dictCode:"bu_mtr_depot,name,id"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"车间"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["workshopId",e.validatorRules.workshopId],expression:"['workshopId', validatorRules.workshopId]",modifiers:{trim:!0}}],attrs:{triggerChange:!0,placeholder:"请选择",dictCode:"bu_mtr_workshop,name,id"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"架修模板"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["middlePlanTemplate"],expression:"['middlePlanTemplate']",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{triggerChange:!0,placeholder:"请选择",dictCode:"bu_tp_repair_plan,tp_name,id,repair_program_id in (select id from bu_repair_program where pro_type = 1)"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"架修数"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["middleAmount",e.validatorRules.middleAmount],expression:"['middleAmount', validatorRules.middleAmount]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{max:99999999}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"大修数"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["hightAmount",e.validatorRules.hightAmount],expression:"['hightAmount', validatorRules.hightAmount]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{max:99999999}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"大修模板"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["hightPlanTemplate"],expression:"['hightPlanTemplate']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,placeholder:"请选择",dictCode:"bu_tp_repair_plan,tp_name,id,repair_program_id in (select id from bu_repair_program where pro_type = 2)"}})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol1,wrapperCol:e.wrapperCol1,label:"备注"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["remark",e.validatorRules.remark],expression:"['remark',validatorRules.remark]",modifiers:{trim:!0}}]})],1)],1)],1)],1)],1),t("div",{staticClass:"info-wrapper info-top-wrapper"},[t("h4",[e._v("明细信息")]),e.isReadonly?e._e():t("div",{staticClass:"buttonDiv"},[t("a-space",[t("a-button",{on:{click:e.handleAdd}},[e._v("新增计划")]),t("a-button",{on:{click:e.handleAutoGenerate}},[e._v("自动生成")]),t("a-button",{attrs:{disabled:!e.canEdit,title:"必须先保存年计划才能使用"},on:{click:e.handlePlanChart}},[e._v("图形化编辑")]),e.canEdit?e._e():t("span",{staticStyle:{color:"#a19e9e"}},[e._v("<- 必须先保存年计划才能使用图形化编辑")])],1)],1),t("div",{staticStyle:{margin:"10px 0",height:"430px"}},[t("vxe-table",{ref:"listTable",attrs:{border:"","max-height":"100%",data:e.tableData,align:"center","show-overflow":"tooltip"}},[t("vxe-table-column",{attrs:{width:"120",title:"线路",field:"lineName"}}),t("vxe-table-column",{attrs:{width:"100",title:"总列次",field:"trainIndex",align:"right","header-align":"center"}}),t("vxe-table-column",{attrs:{width:"100",title:"修程次数",field:"programIndex",align:"right","header-align":"center"}}),t("vxe-table-column",{attrs:{width:"200",align:"left","header-align":"center",title:"检修修程",field:"programName"}}),t("vxe-table-column",{attrs:{width:"200",title:"开始时间",field:"startDate"}}),t("vxe-table-column",{attrs:{width:"200",title:"完成时间",field:"finishDate"}}),t("vxe-table-column",{attrs:{title:"备注",field:"remark",align:"left","header-align":"center"}}),e.isReadonly?e._e():t("vxe-table-column",{attrs:{title:"操作",width:"10%",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("a-space",[t("a",{on:{click:function(t){return t.stopPropagation(),e.handleEdit(r)}}},[e._v("编辑")]),t("a",{on:{click:function(t){return t.stopPropagation(),e.handleDel(r)}}},[e._v("删除")])])]}}],null,!1,1855362271)})],1)],1)]),t("plan-item-modal",{ref:"modalForm",on:{ok:e.addPlan}}),t("a-modal",{attrs:{centered:"",width:"100%",dialogClass:"fullDialog",visible:e.visible,title:"年计划排程",closable:!0,destroyOnClose:!0},on:{ok:e.saveChart,cancel:function(t){e.visible=!1}}},[t("plan-chart",{ref:"planChart",attrs:{"plan-id":e.planId},on:{ok:function(t){return e.saveSuccess()}}})],1)],1)},i=[],o=a("c1df"),l=a.n(o),s=a("4fd4"),n=a("b47d"),d=a("ca00"),m=a("3481");function c(e){return f(e)||h(e)||u(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return g(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}function h(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var v={components:{PlanItemModal:s["default"],PlanChart:m["default"]},data:function(){return{visible:!1,canEdit:!1,title:"操作",planId:"",tableData:[],yearPickShow:!1,form:this.$form.createForm(this,{onValuesChange:this.changeField}),model:{},validatorRules:{title:{rules:[{required:!0,message:"请输入标题!"},{max:32,message:"输入长度不能超过32字符!"}]},year:{rules:[{required:!0,message:"请选择计划年份!"}]},depotId:{rules:[{required:!0,message:"请选择车辆段!"}]},workshopId:{rules:[{required:!0,message:"请选择车间!"}]},firstTime:{rules:[{required:!0,message:"请选择首列时间!"}]},hightAmount:{rules:[{required:!0,message:"请输入大修数!"}]},middleAmount:{rules:[{required:!0,message:"请输入架修数!"}]},remark:{rules:[{max:255,message:"输入长度不能超过255字符!"}]}},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}},labelCol1:{xs:{span:24},sm:{span:2}},wrapperCol1:{xs:{span:24},sm:{span:21}}}},props:{businessKey:{type:String,default:null},isReadonly:{type:Boolean,default:!1},fromFlow:{type:Boolean,default:!1}},mounted:function(){this.businessKey&&this.show(this.businessKey)},methods:{handlePlanChart:function(){this.visible=!0},saveChart:function(){var e=this;this.$confirm({okText:"继续",content:"确定后将覆盖原有的年计划排程，是否继续？",onOk:function(){e.$refs.planChart.save()}})},saveSuccess:function(){this.loadYearPlanDetail(),this.visible=!1},moment:l.a,show:function(e){this.planId=e,Object(d["e"])(this.planId)?(this.form.resetFields(),this.tableData=[]):this.loadYearPlanDetail()},loadYearPlanDetail:function(){var e=this;Object(n["Ab"])({id:this.planId}).then((function(t){if(t.success){var a=t.result;e.canEdit=!0,e.form.resetFields(),e.model=Object.assign({},a),e.$nextTick((function(){e.form.setFieldsValue({title:a.title,depotId:a.depotId,workshopId:a.workshopId,year:l()(a.year||new Date,"YYYY"),firstTime:l()(a.firstTime||new Date,"YYYY-MM-DD"),hightAmount:a.hightAmount,middleAmount:a.middleAmount,hightPlanTemplate:a.hightPlanTemplate,middlePlanTemplate:a.middlePlanTemplate,remark:a.remark}),e.tableData=a.detailList,e.sortFun()}))}}))},handleDel:function(e){this.tableData=this.tableData.filter((function(t){return t!==e}))},handleEdit:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="编辑"},handleAutoGenerate:function(){var e=this;this.form.validateFields((function(t,a){if(!t){var r=Object.assign(a,{year:l()(a.year).format("YYYY"),firstTime:l()(a.firstTime).format("YYYY-MM-DD")});if(a.middleAmount>0&&Object(d["e"])(a.middlePlanTemplate))return void e.$message.warning("请先选择架修模板");if(a.hightAmount>0&&Object(d["e"])(a.hightPlanTemplate))return void e.$message.warning("请先选择大修模板");e.$confirm({okText:"继续",content:"自动生成将覆盖原有的年计划排程，是否继续？",onOk:function(){e.commonOK(r)}})}}))},commonOK:function(e){var t=this,a=e;a.middleTpRepairPlanId=a.middlePlanTemplate,a.hightTpRepairPlanId=a.hightPlanTemplate,Object(n["Tb"])(a).then((function(e){e.success?Object(d["e"])(e.result)?t.$message.warning("没有数据!"):(t.tableData=c(e.result),t.sortFun(),t.$message.success(e.message),t.canEdit=!1):t.$message.error(e.message)}))},save:function(e){var t=this;return new Promise((function(a,r){t.form.validateFields((function(a,i){if(a)r(),t.$message.warning("请填写完整基本信息");else{var o=Object.assign(t.model,i,{year:l()(i.year).format("YYYY"),firstTime:l()(i.firstTime).format("YYYY-MM-DD"),detailList:t.tableData});o.Tasks=t.tableData,Object(d["e"])(t.planId)?Object(n["m"])(o).then((function(a){a.success?(t.close(),t.fromFlow?(e.res=a,t.$emit("ok",e)):t.$emit("ok",a)):t.fromFlow?(e.res=a,t.$emit("fail",e)):t.$emit("fail",a)})):(Object.assign(o,{id:t.planId}),Object(n["N"])(o).then((function(a){a.success?(t.close(),t.fromFlow?(e.res=a,t.$emit("ok",e)):t.$emit("ok",a)):t.fromFlow?(e.res=a,t.$emit("fail",e)):t.$emit("fail",a)})))}}))}))},changeField:function(e,t){var a=Object.keys(t)[0];if("year"===a){if(this.form.getFieldValue("year")&&this.form.getFieldValue("depotId")){var r={year:l()(this.form.getFieldValue("year")).format("YYYY"),depotId:this.form.getFieldValue("depotId")};this.getAmount(r)}}else if("depotId"===a&&this.form.getFieldValue("year")&&t[a]){var i={year:l()(this.form.getFieldValue("year")).format("YYYY"),depotId:t[a]};this.getAmount(i)}},getAmount:function(e){var t=this;Object(n["gb"])(e).then((function(e){if(e.success){var a=e.result;(a.hightRepair||a.middleRepair)&&t.form.setFieldsValue({hightAmount:a.hightRepair,middleAmount:a.middleRepair})}}))},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增"},addPlan:function(e){for(var t=!1,a=0,r=this.tableData.length;a<r;a++)null!=e.id&&e.id&&this.tableData[a].id===e.id&&(t=!0,Object.assign(this.tableData[a],e));t||this.tableData.push(e),this.sortFun()},sortFun:function(){this.tableData.sort((function(e,t){return e.trainIndex-t.trainIndex}))},yearOpenChange:function(e){this.yearPickShow=e},yearPanelChange:function(e){this.form.setFieldsValue({year:e}),this.yearPickShow=!1},handleBack:function(){this.$router.back()},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1,this.tableData=[]}}},b=v,w=(a("7222"),a("2877")),C=Object(w["a"])(b,r,i,!1,null,null,null);t["default"]=C.exports}}]);