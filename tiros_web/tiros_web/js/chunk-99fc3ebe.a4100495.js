(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99fc3ebe"],{5688:function(t,r,e){},5786:function(t,r,e){t.exports=e.p+"img/magic.deee3b0e.svg"},7347:function(t,r,e){"use strict";e.d(r,"h",(function(){return M})),e.d(r,"d",(function(){return A})),e.d(r,"g",(function(){return N})),e.d(r,"f",(function(){return $})),e.d(r,"e",(function(){return Q})),e.d(r,"t",(function(){return a})),e.d(r,"i",(function(){return o})),e.d(r,"B",(function(){return i})),e.d(r,"c",(function(){return c})),e.d(r,"o",(function(){return u})),e.d(r,"D",(function(){return s})),e.d(r,"v",(function(){return l})),e.d(r,"u",(function(){return d})),e.d(r,"p",(function(){return f})),e.d(r,"s",(function(){return p})),e.d(r,"E",(function(){return b})),e.d(r,"F",(function(){return h})),e.d(r,"H",(function(){return m})),e.d(r,"z",(function(){return g})),e.d(r,"C",(function(){return x})),e.d(r,"j",(function(){return k})),e.d(r,"k",(function(){return w})),e.d(r,"l",(function(){return j})),e.d(r,"I",(function(){return O})),e.d(r,"G",(function(){return v})),e.d(r,"n",(function(){return S})),e.d(r,"q",(function(){return P})),e.d(r,"r",(function(){return C})),e.d(r,"w",(function(){return T})),e.d(r,"x",(function(){return _})),e.d(r,"a",(function(){return D})),e.d(r,"m",(function(){return B})),e.d(r,"y",(function(){return F})),e.d(r,"b",(function(){return L})),e.d(r,"J",(function(){return I})),e.d(r,"K",(function(){return q})),e.d(r,"A",(function(){return y}));var n=e("0fea"),a=function(t){return Object(n["d"])("/board/centerProgress/finishQuality",t)},o=function(t){return Object(n["d"])("/board/centerProgress/burnDownChartData",t)},i=function(t){return Object(n["d"])("/board/centerProgress/listProgress",t)},c=function(t){return Object(n["d"])("/board/centerCost/getAreaChart",t)},u=function(t){return Object(n["d"])("/board/centerCost/getDepotCost",t)},s=function(t){return Object(n["d"])("/board/centerCost/getMaterialCostTopTen",t)},d=function(t){return Object(n["d"])("/board/centerCost/getLastTenTrainCost",t)},l=function(t){return Object(n["d"])("/board/centerCost/getLastTenTrainNo",t)},f=function(t){return Object(n["d"])("/board/centerQuality/getDepotFault",t)},p=function(t){return Object(n["d"])("/board/centerQuality/getFaultTrend",t)},b=function(t){return Object(n["d"])("/board/centerQuality/getSysFault",t)},h=function(t){return Object(n["d"])("/board/workshopProgress/getTaskTrend",t)},m=function(t){return Object(n["d"])("/board/workshopProgress/getWorkGroupOrderInfo",t)},g=function(t){return Object(n["d"])("/board/workshopProgress/listOrderTask",t)},y=function(t){return Object(n["d"])("/board/workshopProgress/listOutsourceTaskProgress",t)},x=function(t){return Object(n["d"])("/board/workshopProgress/listWorkGroupTaskProgress",t)},k=function(t){return Object(n["d"])("/board/workshopCost/getCostItem",t)},w=function(t){return Object(n["d"])("/board/workshopCost/get-month-data",t)},O=function(t){return Object(n["d"])("/board/workshopCost/getAreaChart",t)},j=function(t){return Object(n["d"])("/board/workshopCost/getCostProportion",t)},v=function(t){return Object(n["d"])("/board/workshopCost/getThresholdAlert",t)},S=function(t){return Object(n["d"])("/board/workshopQuality/getDayFaultTrend",t)},P=function(t){return Object(n["d"])("/board/workshopQuality/getFaultRanking",t)},C=function(t){return Object(n["d"])("/board/workshopQuality/getFaultSystemCount",t)},T=function(t){return Object(n["d"])("/board/workshopQuality/getLatestFault",t)},_=function(t){return Object(n["d"])("/board/workshopQuality/getLatestOutsourceFault",t)},I=function(t){return Object(n["d"])("/board/workstation/list",t)},q=function(t){return Object(n["d"])("/board/workstation/get",t)},D=function(t){return Object(n["d"])("/board/homepage/data/item/alert",t)},B=function(t){return Object(n["d"])("/board/homepage/data/item/data",t)},F=function(t){return Object(n["d"])("/board/homepage/fault/listLatest",t)},L=function(t){return Object(n["d"])("/board/homepage/plan/list",t)},Q=function(t){return Object(n["d"])("/board/group/order/total/count",t)},$=function(t){return Object(n["d"])("/board/group/person/rank",t)},N=function(t){return Object(n["d"])("/board/group/order/today/list",t)},A=function(t){return Object(n["d"])("/board/group/material/lack",t)},M=function(t){return Object(n["d"])("/board/group/tool/check-alert",t)}},"7d15":function(t,r,e){"use strict";e("5688")},df0e:function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t._self._c;return r("div",{staticStyle:{height:"calc(100% - 5px)",overflow:"hidden"},on:{click:t.hiddenFilter}},[r("div",{style:{position:"absolute",top:1,right:0,zIndex:999,cursor:"pointer"},on:{click:t.onShowFilter}},[r("img",{attrs:{src:e("5786")}})]),r("div",{ref:"filterBox",staticClass:"filterBox",on:{click:function(t){t.stopPropagation()}}},[r("a-form",{attrs:{layout:"horizontal","label-col":{span:6},wrapperCol:{span:18}}},[r("a-row",{attrs:{gutter:16}},[r("a-col",{attrs:{md:24,sm:24}},[r("a-form-item",{attrs:{label:"车辆段"}},[r("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_mtr_depot,name,id"},model:{value:t.queryParam.depotId,callback:function(r){t.$set(t.queryParam,"depotId",r)},expression:"queryParam.depotId"}})],1)],1),r("a-col",{attrs:{md:24,sm:24}},[r("a-form-item",{attrs:{label:"线路"}},[r("line-select-list",{model:{value:t.lineId,callback:function(r){t.lineId=r},expression:"lineId"}})],1)],1),r("a-col",{attrs:{md:24,sm:24}},[r("a-form-item",{attrs:{label:"车辆"}},[r("j-dict-select-seach-tag",{attrs:{dictCode:t.dictTrainStr},model:{value:t.queryParam.trainNo,callback:function(r){t.$set(t.queryParam,"trainNo",r)},expression:"queryParam.trainNo"}})],1)],1),r("a-col",{attrs:{md:24,sm:24}},[r("a-form-item",{attrs:{label:"时间"}},[r("a-range-picker",{attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:t.onDayChange}})],1)],1),r("a-col",{attrs:{md:24,sm:24}},[r("a-form-item",[r("a-checkbox-group",{staticStyle:{width:"100%","margin-top":"6px"},model:{value:t.programTypeItems,callback:function(r){t.programTypeItems=r},expression:"programTypeItems"}},[r("a-row",[r("a-col",{attrs:{span:9}},[r("a-checkbox",{attrs:{value:"1"}},[t._v(" 架修 ")])],1),r("a-col",{attrs:{span:9}},[r("a-checkbox",{attrs:{value:"2"}},[t._v(" 大修 ")])],1)],1)],1)],1)],1),r("a-col",{attrs:{md:24,sm:8}},[r("a-button",{attrs:{type:"primary",block:""},on:{click:t.findList}},[t._v("切换条件")])],1)],1)],1)],1),r("div",{staticStyle:{"margin-top":"20px","padding-right":"5px"}},[r("a-row",{attrs:{gutter:24}},t._l(t.dataSourceM,(function(e){return r("a-col",{key:e.name,attrs:{md:6,sm:24}},[r("na-card-light",{attrs:{title:e.name}},[r("a-row",[r("a-col",{staticStyle:{"text-align":"center","padding-top":"10px"},attrs:{span:11}},[r("a-icon",{staticStyle:{"font-size":"60px"},attrs:{type:"pay-circle"}}),r("div",{staticStyle:{"margin-top":"10px"}},[r("span",[t._v(t._s(e.cost))]),t._v("元")])],1),r("a-col",{attrs:{span:1}},[r("a-divider",{staticStyle:{height:"110px"},attrs:{type:"vertical"}})],1),r("a-col",{staticStyle:{"text-align":"center","padding-top":"10px"},attrs:{span:11}},[r("a-icon",{staticStyle:{"font-size":"60px"},attrs:{type:"gold"}}),r("div",{staticStyle:{"margin-top":"10px"}},[r("span",[t._v(t._s(e.quantity))]),t._v("个")])],1)],1)],1)],1)})),1)],1),r("div",{staticStyle:{"margin-top":"20px","padding-right":"5px",height:"calc(100% - 200px)"}},[r("a-row",{staticStyle:{height:"calc(100% - 0px)"},attrs:{gutter:24}},[r("a-col",{staticStyle:{height:"calc(100% - 10px)"},attrs:{md:12,sm:24}},[r("na-card-light",{attrs:{title:"物料消耗占比"}},[r("div",{staticStyle:{width:"100%",height:"calc(100% - 0px)"},attrs:{id:"chart1"}})])],1),r("a-col",{staticStyle:{height:"calc(100% - 10px)"},attrs:{md:12,sm:24}},[r("na-card-light",{attrs:{title:"安全库存预警"}},[r("div",{staticStyle:{height:"calc(100% - 47px)"}},[r("vxe-table",{ref:"listTable",staticStyle:{width:"100%"},attrs:{border:"none",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"},"max-height":"100%"}},[r("vxe-table-column",{attrs:{field:"order",title:"序号",width:"60"}}),r("vxe-table-column",{attrs:{field:"materialCode",title:"物资编码",width:"120"}}),r("vxe-table-column",{attrs:{field:"materialName",title:"物资名称"}}),r("vxe-table-column",{attrs:{field:"alertStock",title:"安全库存",width:"80"}}),r("vxe-table-column",{attrs:{field:"currentStock",title:"当前库存",width:"80"}}),r("vxe-table-column",{attrs:{field:"diffStock",title:"偏差",width:"80"}})],1)],1)])],1)],1)],1)])},a=[],o=e("7347"),i=e("313e"),c=e("d2ac"),u=e("5633"),s={name:"CostWorkshopPage",components:{NaCardLight:c["default"],LineSelectList:u["default"]},data:function(){return{dictTrainStr:"bu_train_info,train_no,train_no",tableData:[],dataSourceB:[],dataSourceM:[],queryParam:{depotId:"",lineId:"",trainNo:"",endDate:"",startDate:"",programType:""},allAlign:"center",isList:!1,lineId:"",programTypeItems:[]}},created:function(){this.findList()},watch:{lineId:function(t,r){this.dictTrainStr=t?"bu_train_info,train_no,train_no,line_id="+t:"bu_train_info,train_no,train_no"}},methods:{hiddenFilter:function(){this.$refs.filterBox.style.display="none"},onShowFilter:function(t){"block"===this.$refs.filterBox.style.display?this.$refs.filterBox.style.display="none":(this.$refs.filterBox.style.top=t.pageY+"px",this.$refs.filterBox.style.left=t.pageX-270+"px",this.$refs.filterBox.style.display="block"),t.stopPropagation()},onDayChange:function(t,r){this.queryParam.startDate=r[0],this.queryParam.endDate=r[1]},findList:function(){var t=this;if(this.programTypeItems.length>0){var r=this.programTypeItems.indexOf("1")>-1,e=this.programTypeItems.indexOf("2")>-1;r&&e?this.queryParam.programType=0:r&&!e?this.queryParam.programType=1:!r&&e&&(this.queryParam.programType=2)}else this.queryParam.programType=0;this.queryParam.lineId=this.lineId,Object(o["j"])(this.queryParam).then((function(r){t.dataSourceM=r.result})),Object(o["l"])(this.queryParam).then((function(r){t.dataSourceB=r.result,t.dataSourceB&&t.dataSourceB.length>0?t.chart1(t.dataSourceB):t.chart1([])})),Object(o["G"])(this.queryParam).then((function(r){t.tableData=r.result}))},chart1:function(t){var r=i["b"](document.getElementById("chart1")),e={toolbox:{show:!1},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"成本",type:"pie",radius:"55%",center:["50%","50%"],data:t.map((function(t){return{name:t.item,value:t.count}})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};r.setOption(e)}}},d=s,l=(e("7d15"),e("2877")),f=Object(l["a"])(d,n,a,!1,null,"580305aa",null);r["default"]=f.exports}}]);