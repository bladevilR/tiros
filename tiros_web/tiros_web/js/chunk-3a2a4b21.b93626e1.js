(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a2a4b21"],{"087a":function(t,n,r){t.exports=r.p+"img/title_bg.76432aee.png"},"0bdc":function(t,n,r){},"3bcd":function(t,n,r){"use strict";r.d(n,"P",(function(){return i})),r.d(n,"N",(function(){return s})),r.d(n,"F",(function(){return a})),r.d(n,"J",(function(){return o})),r.d(n,"t",(function(){return c})),r.d(n,"i",(function(){return v})),r.d(n,"j",(function(){return _})),r.d(n,"h",(function(){return y})),r.d(n,"g",(function(){return O})),r.d(n,"l",(function(){return g})),r.d(n,"c",(function(){return j})),r.d(n,"e",(function(){return C})),r.d(n,"f",(function(){return k})),r.d(n,"d",(function(){return w})),r.d(n,"b",(function(){return L})),r.d(n,"x",(function(){return x})),r.d(n,"z",(function(){return T})),r.d(n,"w",(function(){return S})),r.d(n,"H",(function(){return A})),r.d(n,"I",(function(){return D})),r.d(n,"y",(function(){return P})),r.d(n,"A",(function(){return E})),r.d(n,"B",(function(){return N})),r.d(n,"M",(function(){return F})),r.d(n,"r",(function(){return I})),r.d(n,"E",(function(){return z})),r.d(n,"k",(function(){return d})),r.d(n,"D",(function(){return f})),r.d(n,"u",(function(){return l})),r.d(n,"L",(function(){return u})),r.d(n,"a",(function(){return p})),r.d(n,"K",(function(){return G})),r.d(n,"m",(function(){return q})),r.d(n,"p",(function(){return B})),r.d(n,"o",(function(){return $})),r.d(n,"G",(function(){return m})),r.d(n,"v",(function(){return h})),r.d(n,"C",(function(){return b})),r.d(n,"n",(function(){return J})),r.d(n,"q",(function(){return Q})),r.d(n,"s",(function(){return R})),r.d(n,"O",(function(){return M}));var e=r("0fea"),i=function(t){return Object(e["d"])("/produce/train/history/tree/line-train",t)},s=function(t){return Object(e["d"])("/produce/train/history/maximo-asset/list-child",t)},a=function(t){return Object(e["d"])("/produce/train/history/train/get",t)},o=function(t){return Object(e["d"])("/produce/train/history/train/period",t)},c=function(t){return Object(e["d"])("/produce/train/history/maximo-asset/get",t)},u=function(t){return Object(e["d"])("/produce/train/history/work/page",t)},l=function(t){return Object(e["d"])("/produce/train/history/measure/page",t)},d=function(t){return Object(e["d"])("/produce/train/history/fault/page",t)},f=function(t){return Object(e["d"])("/produce/train/history/forms/page",t)},p=function(t){return Object(e["d"])("/produce/train/history/change/page",t)},m=function(t){return Object(e["d"])("/produce/train/history/train/period",t)},h=function(t){return Object(e["d"])("/produce/train/history/workLeaveRecord/page",t)},b=function(t){return Object(e["d"])("/produce/train/history/workRectify/page",t)},v=function(t){return Object(e["d"])("/produce/fault/detail/count",t)},_=function(t){return Object(e["d"])("/produce/fault/detail/page",t)},g=function(t){return Object(e["d"])("/produce/fault/statistics",t)},y=function(t){return Object(e["j"])("/produce/fault/compare",t)},O=function(t){return Object(e["d"])("/produce/fault/time-effect/data",t)},j=function(t){return Object(e["d"])("/produce/cost/detail/count",t)},C=function(t){return Object(e["d"])("/produce/cost/detail/page",t)},k=function(t){return Object(e["j"])("/produce/cost/statistics",t)},w=function(t){return Object(e["d"])("/produce/cost/compare/count-6year",t)},L=function(t){return Object(e["j"])("/produce/cost/compare",t)},x=function(t){return Object(e["d"])("/produce/plan/list",t)},T=function(t){return Object(e["d"])("/produce/plan/task/listByPlanId/".concat(t))},S=function(t){return Object(e["d"])("/produce/plan/get/".concat(t))},A=function(t){return Object(e["d"])("/serialPlan/plan/get/".concat(t))},D=function(t){return Object(e["d"])("/produce/plan/task/get/".concat(t))},P=function(t){return Object(e["d"])("/produce/plan/regu/list/".concat(t))},E=function(t){return Object(e["d"])("/produce/plan/train-struct/list/".concat(t))},N=function(t){return Object(e["d"])("/produce/plan/train-struct/orders/".concat(t))},F=function(t){return Object(e["d"])("/workshop/list",t)},I=function(t){return Object(e["d"])("/produce/workshop/fault/latest",t)},z=function(t){return Object(e["d"])("/produce/workshop/workstation/list",t)},G=function(t){return Object(e["d"])("/produce/workshop/train-track",t)},q=function(t){return Object(e["d"])("/produce/kpi/group",t)},B=function(t){return Object(e["d"])("/produce/kpi/user",t)},$=function(t){return Object(e["d"])("/produce/kpi/plan/list",t)},J=function(t){return Object(e["d"])("/produce/kpi/plan/get",t)},Q=function(t){return Object(e["d"])("/serialPlan/plan/material/lack",t)},R=function(t){return Object(e["d"])("/board/plan-group-statistic/get-last-working-plan",t)},M=function(t){return Object(e["d"])("/board/plan-group-statistic/list",t)}},"3cba":function(t,n,r){"use strict";r("0bdc")},"43f7":function(t,n,r){"use strict";r.d(n,"c",(function(){return s})),r.d(n,"a",(function(){return a})),r.d(n,"v",(function(){return o})),r.d(n,"e",(function(){return i})),r.d(n,"q",(function(){return c})),r.d(n,"m",(function(){return u})),r.d(n,"d",(function(){return b})),r.d(n,"t",(function(){return v})),r.d(n,"r",(function(){return d})),r.d(n,"p",(function(){return l})),r.d(n,"u",(function(){return p})),r.d(n,"o",(function(){return m})),r.d(n,"b",(function(){return h})),r.d(n,"n",(function(){return _})),r.d(n,"s",(function(){return f})),r.d(n,"f",(function(){return g})),r.d(n,"h",(function(){return y})),r.d(n,"g",(function(){return O})),r.d(n,"l",(function(){return j})),r.d(n,"j",(function(){return C})),r.d(n,"i",(function(){return k})),r.d(n,"k",(function(){return w}));var e=r("0fea"),i=function(t){return Object(e["d"])("/report/excel/get",{tempCode:t})},s=function(t){return Object(e["d"])("/report/daily/get",t)},a=function(t){return Object(e["d"])("/report/daily/generate",t)},o=function(t){return Object(e["j"])("/report/daily/save",t)},c=function(t){return Object(e["d"])("/report/fault/count/trains",t)},u=function(t){return Object(e["d"])("/report/fault/count/systems",t)},l=function(t){return Object(e["d"])("/report/fault/detail/list",t)},d=function(t){return Object(e["d"])("/report/cost/detail/statistic-consume",t)},f=function(t){return Object(e["d"])("/report/cost/detail/statistic-must-random",t)},p=function(t){return Object(e["d"])("/report/turnover/detail/page",t)},m=function(t){return Object(e["d"])("/report/cost/kpi/page",t)},h=function(t,n){return Object(e["c"])("/report/cost/kpi/export",t,n)},b=function(t){return Object(e["d"])("/report/fault/train-count/sys",t)},v=function(t){return Object(e["d"])("/report/cost/train/statistic",t)},_=function(t){return Object(e["d"])("/report/cost/train/get-cars-number",t)},g=function(t){return Object(e["d"])("/produce/plan/summary/cost",t)},y=function(t){return Object(e["d"])("/produce/plan/summary/fault",t)},O=function(t){return Object(e["d"])("/produce/plan/summary/total",t)},j=function(t){return Object(e["d"])("/produce/plan/summary/work-time",t)},C=function(t){return Object(e["d"])("/produce/plan/summary/period",t)},k=function(t){return Object(e["d"])("/produce/plan/summary/outsource",t)},w=function(t){return Object(e["d"])("/produce/plan/summary/progress",t)}},7347:function(t,n,r){"use strict";r.d(n,"h",(function(){return B})),r.d(n,"d",(function(){return q})),r.d(n,"g",(function(){return G})),r.d(n,"f",(function(){return z})),r.d(n,"e",(function(){return I})),r.d(n,"t",(function(){return i})),r.d(n,"i",(function(){return s})),r.d(n,"B",(function(){return a})),r.d(n,"c",(function(){return o})),r.d(n,"o",(function(){return c})),r.d(n,"D",(function(){return u})),r.d(n,"v",(function(){return d})),r.d(n,"u",(function(){return l})),r.d(n,"p",(function(){return f})),r.d(n,"s",(function(){return p})),r.d(n,"E",(function(){return m})),r.d(n,"F",(function(){return h})),r.d(n,"H",(function(){return b})),r.d(n,"z",(function(){return v})),r.d(n,"C",(function(){return g})),r.d(n,"j",(function(){return y})),r.d(n,"k",(function(){return O})),r.d(n,"l",(function(){return C})),r.d(n,"I",(function(){return j})),r.d(n,"G",(function(){return k})),r.d(n,"n",(function(){return w})),r.d(n,"q",(function(){return L})),r.d(n,"r",(function(){return x})),r.d(n,"w",(function(){return T})),r.d(n,"x",(function(){return S})),r.d(n,"a",(function(){return P})),r.d(n,"m",(function(){return E})),r.d(n,"y",(function(){return N})),r.d(n,"b",(function(){return F})),r.d(n,"J",(function(){return A})),r.d(n,"K",(function(){return D})),r.d(n,"A",(function(){return _}));var e=r("0fea"),i=function(t){return Object(e["d"])("/board/centerProgress/finishQuality",t)},s=function(t){return Object(e["d"])("/board/centerProgress/burnDownChartData",t)},a=function(t){return Object(e["d"])("/board/centerProgress/listProgress",t)},o=function(t){return Object(e["d"])("/board/centerCost/getAreaChart",t)},c=function(t){return Object(e["d"])("/board/centerCost/getDepotCost",t)},u=function(t){return Object(e["d"])("/board/centerCost/getMaterialCostTopTen",t)},l=function(t){return Object(e["d"])("/board/centerCost/getLastTenTrainCost",t)},d=function(t){return Object(e["d"])("/board/centerCost/getLastTenTrainNo",t)},f=function(t){return Object(e["d"])("/board/centerQuality/getDepotFault",t)},p=function(t){return Object(e["d"])("/board/centerQuality/getFaultTrend",t)},m=function(t){return Object(e["d"])("/board/centerQuality/getSysFault",t)},h=function(t){return Object(e["d"])("/board/workshopProgress/getTaskTrend",t)},b=function(t){return Object(e["d"])("/board/workshopProgress/getWorkGroupOrderInfo",t)},v=function(t){return Object(e["d"])("/board/workshopProgress/listOrderTask",t)},_=function(t){return Object(e["d"])("/board/workshopProgress/listOutsourceTaskProgress",t)},g=function(t){return Object(e["d"])("/board/workshopProgress/listWorkGroupTaskProgress",t)},y=function(t){return Object(e["d"])("/board/workshopCost/getCostItem",t)},O=function(t){return Object(e["d"])("/board/workshopCost/get-month-data",t)},j=function(t){return Object(e["d"])("/board/workshopCost/getAreaChart",t)},C=function(t){return Object(e["d"])("/board/workshopCost/getCostProportion",t)},k=function(t){return Object(e["d"])("/board/workshopCost/getThresholdAlert",t)},w=function(t){return Object(e["d"])("/board/workshopQuality/getDayFaultTrend",t)},L=function(t){return Object(e["d"])("/board/workshopQuality/getFaultRanking",t)},x=function(t){return Object(e["d"])("/board/workshopQuality/getFaultSystemCount",t)},T=function(t){return Object(e["d"])("/board/workshopQuality/getLatestFault",t)},S=function(t){return Object(e["d"])("/board/workshopQuality/getLatestOutsourceFault",t)},A=function(t){return Object(e["d"])("/board/workstation/list",t)},D=function(t){return Object(e["d"])("/board/workstation/get",t)},P=function(t){return Object(e["d"])("/board/homepage/data/item/alert",t)},E=function(t){return Object(e["d"])("/board/homepage/data/item/data",t)},N=function(t){return Object(e["d"])("/board/homepage/fault/listLatest",t)},F=function(t){return Object(e["d"])("/board/homepage/plan/list",t)},I=function(t){return Object(e["d"])("/board/group/order/total/count",t)},z=function(t){return Object(e["d"])("/board/group/person/rank",t)},G=function(t){return Object(e["d"])("/board/group/order/today/list",t)},q=function(t){return Object(e["d"])("/board/group/material/lack",t)},B=function(t){return Object(e["d"])("/board/group/tool/check-alert",t)}},f2d1:function(t,n,r){"use strict";r.r(n);var i=function(){var t=this,n=t._self._c;return n("div",{staticClass:"monitor-main"},[n("div",{staticClass:"main-content"},[n("div",{staticClass:"main_top"},[n("div",{staticClass:"main_top_left"},[n("div",{staticClass:"header_info_box"},[t._m(0),n("div",{staticClass:"m_content"},t._l(t.alertList,(function(r){return n("a",{key:r.itemCode,staticClass:"card_color_info alert",on:{click:function(n){return t.jumpAlertPage(r.itemCode)}}},[n("div",[t._v(t._s(r.itemValue))]),n("div",{staticClass:"small_text"},[t._v(t._s(r.itemDesc))])])})),0)]),n("div",{staticClass:"header_info_box"},[t._m(1),n("div",{staticClass:"m_content group_fault"},t._l(t.groupFaultList,(function(r){return n("div",{key:r.groupName,staticClass:"fault_item"},[n("div",{staticClass:"flex_1"},[t._v(t._s(r.groupName))]),n("div",{staticClass:"fault_count"},[t._v(t._s(r.currentMonth))])])})),0)])]),n("div",{staticClass:"main_top_midden"},[t._m(2),n("div",{staticClass:"midden_info day"},[n("div",{staticClass:"box"},[n("div",{staticClass:"box_num"},[n("div",{staticClass:"text"},[t._v(t._s(t.safeDays.slice(0,1)))])]),n("div",{staticClass:"box_num"},[n("div",{staticClass:"text"},[t._v(t._s(t.safeDays.slice(1,2)))])]),n("div",{staticClass:"box_num"},[n("div",{staticClass:"text"},[t._v(t._s(t.safeDays.slice(2,3)))])]),n("div",{staticClass:"box_num"},[n("div",{staticClass:"text"},[t._v(t._s(t.safeDays.slice(3,4)))])]),n("div",{staticClass:"box_num"},[n("div",{staticClass:"text"},[t._v(t._s(t.safeDays.slice(4,5)))])]),n("div",{staticClass:"label_text"},[t._v("安全生产天数")])])]),t._m(3)]),n("div",{staticClass:"main_top_right"},[n("div",{staticClass:"header_info_box area_data"},[t._m(4),n("div",{staticClass:"m_content"},t._l(t.dataList,(function(r){return n("div",{key:r.itemCode,staticClass:"card_color_info data"},[n("div",[t._v(t._s(r.itemValue))]),n("div",{staticClass:"small_text"},[t._v(t._s(r.itemDesc))])])})),0)]),t._m(5)])]),n("div",{staticClass:"main_box cost"},[n("div",{staticClass:"plan-card"},[n("div",{staticClass:"card_title"},[t._v("列计划进度")]),n("div",{staticClass:"m_content"},[n("div",{staticClass:"scroll_content",class:{animation:t.planAnimation}},t._l(t.planProgressList,(function(r){return n("div",{key:r.id,staticClass:"m_item item_progress"},[n("div",{staticClass:"m_text ellipsis"},[n("span",[t._v(t._s("".concat(r.trainNo,"车辆-").concat(r.repairProgramName,"计划")))])]),n("div",{staticClass:"progress"},[n("div",{staticClass:"prog",style:{width:"".concat(r.progress,"%")}}),n("div",{staticClass:"prog_text"},[t._v(t._s(r.progress+"%"))])])])})),0)])])]),n("div",{staticClass:"main_box task"},[n("div",{staticClass:"card"},[t._m(6),n("div",{staticClass:"m_content"},[n("div",{staticClass:"scroll_content",class:{animation:t.nfAnimation}},t._l(t.newFaultList,(function(r){return n("div",{key:r.id,staticClass:"m_item"},[n("div",{staticClass:"flex_1 ellipsis"},[t._v(t._s(r.faultDesc))]),n("div",[t._v(t._s(r.reportTime))])])})),0)])]),n("div",{staticClass:"card out_source"},[t._m(7),n("div",{staticClass:"m_content"},[n("div",{staticClass:"scroll_content",class:{animation:t.osAnimation}},t._l(t.outSourceList,(function(r){return n("div",{key:r.id,staticClass:"m_item item_progress"},[n("div",{staticClass:"m_text ellipsis"},[n("span",[t._v(t._s(r.Name))])]),n("div",{staticClass:"progress"},[n("div",{staticClass:"prog",style:{width:"".concat(r.PercentComplete,"%")}}),n("div",{staticClass:"prog_text"},[t._v(t._s(r.PercentComplete+"%"))])])])})),0)])]),n("div",{staticClass:"card"},[t._m(8),n("div",{staticClass:"m_content"},[n("div",{staticClass:"scroll_content",class:{animation:t.taskAnimation}},t._l(t.taskList,(function(r){return n("div",{key:r.id,staticClass:"m_item"},[n("div",{staticClass:"flex_1 ellipsis"},[n("a-tooltip",{attrs:{trigger:"none"}},[n("template",{slot:"title"},[t._v(" "+t._s(r.orderName)+" ")]),t._v(" "+t._s(r.orderName)+" ")],2)],1),n("div",[t._v(t._s(r.orderStatus_dictText))]),n("div",[t._v(t._s(r.startTime))])])})),0)])])]),n("div",{staticClass:"main_box compare"},[n("div",{staticClass:"card lack"},[t._m(9),n("div",{staticClass:"m_content"},[n("div",{staticClass:"scroll_content",class:{animation:t.lackAnimation}},t._l(t.lackList,(function(r){return n("div",{key:r.id,staticClass:"m_item"},[n("div",{staticClass:"m_text_code ellipsis"},[t._v(t._s(r.code))]),n("div",{staticClass:"m_text_name ellipsis"},[t._v(t._s(r.name))]),n("div",{staticClass:"m_text_lack ellipsis"},[t._v(t._s(r.lack))])])})),0)])]),t._m(10),t._m(11),n("div",{staticClass:"card group_task"},[t._m(12),n("div",{staticClass:"m_content"},[n("div",{staticClass:"scroll_content",class:{animation:t.wgAnimation}},t._l(t.workGroupTaskList,(function(r){return n("div",{key:r.groupName,staticClass:"m_item item_progress"},[n("div",{staticClass:"m_text ellipsis"},[n("span",[t._v(t._s(r.groupName))])]),n("div",{staticClass:"progress"},[n("div",{staticClass:"prog",style:{width:"".concat(r.progress,"%")}}),n("div",{staticClass:"prog_text"},[t._v(t._s(r.progress+"%"))])])])})),0)])])])])])},s=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("预警信息")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("班组故障排名")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"midden_info m_title"},[n("img",{attrs:{src:r("087a"),alt:""}}),n("div",{staticClass:"text"},[t._v("苏州车辆架大修信息监控大屏")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"midden_info chart"},[n("div",{staticClass:"chart_box"},[n("div",{staticClass:"m_title"},[n("span",[t._v("物料消耗占比")])]),n("div",{staticClass:"echart_container",attrs:{id:"materialEchart"}})]),n("div",{staticClass:"chart_box"},[n("div",{staticClass:"m_title"},[n("span",[t._v("故障系统占比")])]),n("div",{staticClass:"echart_container",attrs:{id:"faultEchart"}})])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("数据区")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"header_info_box"},[n("div",{staticClass:"m_title"},[n("span",[t._v("物料消耗分类占比")])]),n("div",{staticClass:"m_content"},[n("div",{staticClass:"echart_container",attrs:{id:"materialTypeEchart"}})])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("最新故障")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("委外任务进度")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("工单作业")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("当前缺料")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"card flex_2"},[n("div",{staticClass:"m_title"},[n("span",[t._v("物料成本趋势")])]),n("div",{staticClass:"m_content"},[n("div",{staticClass:"echart_container",attrs:{id:"materialCostEchart"}})])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"card flex_2"},[n("div",{staticClass:"m_title"},[n("span",[t._v("故障趋势")])]),n("div",{staticClass:"m_content"},[n("div",{staticClass:"echart_container",attrs:{id:"falutTrendEchart"}})])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"m_title"},[n("span",[t._v("工班任务进度")])])}],a=r("313e"),o=r("7347"),c=r("b47d"),u=r("3bcd"),l=r("4ec3"),d=r("43f7");function f(t){return b(t)||h(t)||m(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,n){if(t){if("string"==typeof t)return v(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,n):void 0}}function h(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function b(t){if(Array.isArray(t))return v(t)}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,e,i,s){var c=e&&e.prototype instanceof o?e:o,u=Object.create(c.prototype);return g(u,"_invoke",function(r,e,i){var s,o,c,u=0,l=i||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,r){return s=n,o=0,c=t,f.n=r,a}};function p(r,e){for(o=r,c=e,n=0;!d&&u&&!i&&n<l.length;n++){var i,s=l[n],p=f.p,m=s[2];r>3?(i=m===e)&&(c=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=t):s[0]<=p&&((i=r<2&&p<s[1])?(o=0,f.v=e,f.n=s[1]):p<m&&(i=r<3||s[0]>e||e>m)&&(s[4]=r,s[5]=e,f.n=m,o=0))}if(i||r>1)return a;throw d=!0,e}return function(i,l,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,m),o=l,c=m;(n=o<2?t:c)||!d;){s||(o?o<3?(o>1&&(f.n=-1),p(o,c)):f.n=c:f.v=c);try{if(u=2,s){if(o||(i="next"),n=s[i]){if(!(n=n.call(s,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,o<2&&(o=0)}else 1===o&&(n=s.return)&&n.call(s),o<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),o=1);s=t}else if((n=(d=f.n<0)?c:r.call(e,f))!==a)break}catch(n){s=t,o=1,c=n}finally{u=1}}return{value:n,done:d}}}(r,i,s),!0),u}var a={};function o(){}function c(){}function u(){}n=Object.getPrototypeOf;var l=[][e]?n(n([][e]())):(g(n={},e,(function(){return this})),n),d=u.prototype=o.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,g(t,i,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=u,g(d,"constructor",u),g(u,"constructor",c),c.displayName="GeneratorFunction",g(u,i,"GeneratorFunction"),g(d),g(d,i,"Generator"),g(d,e,(function(){return this})),g(d,"toString",(function(){return"[object Generator]"})),(_=function(){return{w:s,m:f}})()}function g(t,n,r,e){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}g=function(t,n,r,e){function s(n,r){g(t,n,(function(t){return this._invoke(n,r,t)}))}n?i?i(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(s("next",0),s("throw",1),s("return",2))},g(t,n,r,e)}function y(t,n,r,e,i,s,a){try{var o=t[s](a),c=o.value}catch(t){return void r(t)}o.done?n(c):Promise.resolve(c).then(e,i)}function O(t){return function(){var n=this,r=arguments;return new Promise((function(e,i){var s=t.apply(n,r);function a(t){y(s,e,i,a,o,"next",t)}function o(t){y(s,e,i,a,o,"throw",t)}a(void 0)}))}}var j={name:"MonitorScreen",components:{},data:function(){return{alertList:[],dataList:[],groupFaultList:[],newFaultList:[],taskList:[],outSourceList:[],workGroupTaskList:[],planProgressList:[],faultTrendList:[],lackList:[],safeDays:"00000",nfAnimation:!1,taskAnimation:!1,osAnimation:!1,wgAnimation:!1,lackAnimation:!1,planAnimation:!1,costList:{userNum:0,materialCost:0,outsourceCost:0,toolNum:0,system:0}}},computed:{permissionList:function(){return this.$store.getters.permissionList||[]}},mounted:function(){this.initAll(),this.initRunDay()},methods:{initAll:function(){this.materialUseEchart(),this.faultEchart(),this.martrialCostEchart(),this.initAlert(),this.initData(),this.initFaultOfGroup(),this.initNewFault(),this.initTask(),this.initOutSource(),this.initWorkGroupTask(),this.initLackList(),this.initFaultTrend(),this.initPlanProgress()},initRunDay:function(){var t=this;Object(l["y"])("SafeServiceDays").then((function(n){n.success?t.safeDays=(n.result.configValue?Number(n.result.configValue):0).toString().padStart(5,"0"):(t.safeDays="00000",t.$message.error(n.message))}))},materialUseEchart:function(){var t=O(_().m((function t(){var n,r=this;return _().w((function(t){while(1)switch(t.n){case 0:return t.n=1,Object(u["f"])({}).then((function(t){var n={consumeDataList:[],categoryDataList:[]};return t.success?(t.result&&t.result.consumeDataList&&t.result.consumeDataList.length&&(n.consumeDataList=t.result.consumeDataList.filter((function(t,n){return n<6})).map((function(t){return{value:t.count,name:t.item}}))),t.result&&t.result.categoryDataList&&t.result.categoryDataList.length&&(n.categoryDataList=t.result.categoryDataList.filter((function(t,n){return n<6})).map((function(t){return{value:t.count,name:t.item}})))):r.$message.error(t.message),n}));case 1:n=t.v,this.createEchart("materialEchart","成本",n.consumeDataList),this.createEchart2("materialTypeEchart","物料消耗数量",n.categoryDataList);case 2:return t.a(2)}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),faultEchart:function(){var t=O(_().m((function t(){var n,r=this;return _().w((function(t){while(1)switch(t.n){case 0:return t.n=1,Object(u["l"])({}).then((function(t){if(t.success){if(t.result&&t.result.systemItemList&&t.result.systemItemList.length)return t.result.systemItemList.sort((function(t,n){return n.faultCount-t.faultCount})).filter((function(t,n){return n<6})).map((function(t){return{value:t.faultCount,name:t.systemName}}))}else r.$message.error(t.message);return[]}));case 1:n=t.v,this.createEchart("faultEchart","故障数",n);case 2:return t.a(2)}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),martrialCostEchart:function(){var t=O(_().m((function t(){var n,r,e=this;return _().w((function(t){while(1)switch(t.n){case 0:return t.n=1,Object(o["v"])({}).then((function(t){return t.success?t.result:(e.$message.error(t.message),[])}));case 1:return n=t.v,t.n=2,Object(o["u"])({}).then((function(t){if(t.success){if(n&&n.length>0&&t.result&&t.result.length)return t.result}else e.$message.error(t.message);return[]}));case 2:r=t.v,n.length&&r.length||(n=[],r=[]),this.createBarEchart("materialCostEchart",n,r);case 3:return t.a(2)}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),initAlert:function(){var t=this;Object(o["a"])().then((function(n){n.success&&(t.alertList=n.result)}))},initData:function(){var t=this;Object(o["m"])().then((function(n){n.success&&(t.dataList=n.result)}))},initFaultOfGroup:function(){var t=this;Object(o["q"])({}).then((function(n){n.success&&(n.result.sort((function(t,n){return n.currentMonth-t.currentMonth})),t.groupFaultList=n.result)}))},initNewFault:function(){var t=this;Object(o["y"])({}).then((function(n){n.success&&(t.newFaultList=n.result,t.run(t.newFaultList,"nfAnimation",4))}))},initTask:function(){var t=this,n=[Object(c["zb"])({status:1,pageNo:1,pageSize:100}).then((function(t){return t.success?t.result.records:[]})),Object(c["zb"])({status:2,pageNo:1,pageSize:100}).then((function(t){return t.success?t.result.records:[]}))];Promise.all(n).then((function(n){var r=[].concat(f(n[0]),f(n[1]));r.length<100?Object(c["zb"])({status:8,pageNo:1,pageSize:100-r.length}).then((function(n){n.success&&(r=[].concat(f(r),f(n.result.records))),r.sort((function(t,n){return new Date(n.startTime).getTime()-new Date(t.startTime).getTime()})),t.taskList=JSON.parse(JSON.stringify(r)),setTimeout((function(){t.run(t.taskList,"taskAnimation",4)}),1e3)})):(r.sort((function(t,n){return new Date(n.startTime).getTime()-new Date(t.startTime).getTime()})),t.taskList=JSON.parse(JSON.stringify(r)),setTimeout((function(){t.run(t.taskList,"taskAnimation",4)}),1e3))}))},initOutSource:function(){var t=this;Object(o["A"])({}).then((function(n){n.success&&(t.outSourceList=n.result,setTimeout((function(){t.run(t.outSourceList,"osAnimation",4)}),500))}))},initWorkGroupTask:function(){var t=this;Object(o["C"])({}).then((function(n){n.success&&(t.workGroupTaskList=n.result,setTimeout((function(){t.run(t.workGroupTaskList,"wgAnimation",5)}),2e3))}))},initPlanProgress:function(){var t=this;this.planProgressList=[],Promise.all([Object(c["sb"])({progressStatus:1,pageNo:1,pageSize:1e3}).then((function(n){var r;return n.success?(r=t.planProgressList).push.apply(r,f(n.result.records)):[]})),Object(c["sb"])({progressStatus:2,pageNo:1,pageSize:1e3}).then((function(n){var r;return n.success?(r=t.planProgressList).push.apply(r,f(n.result.records)):[]})).then((function(n){setTimeout((function(){t.run(t.planProgressList,"planAnimation",1)}),1500)}))])},initCostList:function(){var t=this;Object(o["k"])({}).then((function(n){n.success&&(Object.assign(t.costList,n.result),t.createRadar("costRadar","",[t.costList.userNum,t.costList.materialCost,t.costList.outsourceCost,t.costList.toolNum,t.costList.system]))}))},initLackList:function(){var t=this;this.lackList=[],Object(u["q"])({}).then((function(n){n.success&&(t.lackList=n.result,setTimeout((function(){t.run(t.lackList,"lackAnimation",6)}),1500))}))},initFaultTrend:function(){var t=O(_().m((function t(){var n=this;return _().w((function(t){while(1)switch(t.n){case 0:Object(d["q"])({year:this.$moment(new Date).format("YYYY")}).then((function(t){t.success?(n.faultTrendList=t.result.filter((function(t,n){return n>0})).map((function(t){return{trainNo:t.trainNo,repair:t.repair,warranty:t.warranty,outsource:0}})),n.createFalutAxis("falutTrendEchart",n.faultTrendList)):n.$message.error(t.message)}));case 1:return t.a(2)}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),createEchart:function(t,n,r){var e=a["b"](document.getElementById(t)),i={legend:{top:"7%",right:"5%",orient:"vertical",textStyle:{color:"#fff",fontSize:12}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:n,type:"pie",radius:"65%",center:["50%","50%"],avoidLabelOverlap:!1,label:{show:!1,formatter:"{b}",color:"#fff",fontSize:12},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:r}]};e.setOption(i)},createEchart2:function(t,n,r){var e=a["b"](document.getElementById(t)),i={legend:{top:"7%",right:"5%",orient:"vertical",textStyle:{color:"#fff",fontSize:12}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:n,type:"pie",radius:"70%",center:["45%","50%"],avoidLabelOverlap:!1,label:{show:!1,formatter:"{b}",color:"#fff",fontSize:12},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:r}]};e.setOption(i)},createBarEchart:function(t,n,r){var e=[],i=[];r.forEach((function(t){var r=t.type;e.push(r);var s=[];n.forEach((function(n){s.push(t[n])})),i.push({name:r,type:"bar",stack:"sum",barWidth:30,itemStyle:{normal:{label:{show:!1}}},data:s})}));var s=a["b"](document.getElementById(t)),o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",y:"top",textStyle:{color:"#fff"},data:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},textStyle:{color:"#fff"},yAxis:[{}],xAxis:[{type:"category",data:n}],series:i};s.setOption(o)},createRadar:function(t,n,r){var e=JSON.parse(JSON.stringify(r));e.sort((function(t,n){return n-t}));var i=a["b"](document.getElementById(t)),s={radar:{center:["50%","55%"],radius:"70%",indicator:[{name:"人工成本",color:"#fff",max:e[0]},{name:"物料成本",color:"#fff",max:e[0]},{name:"委外成本",color:"#fff",max:e[0]},{name:"设备成本",color:"#fff",max:e[0]},{name:"管理成本",color:"#fff",max:e[0]}]},textStyle:{fontSize:12},series:[{name:n,type:"radar",data:[{value:r,areaStyle:{color:"#0efcff"},symbol:"none"}]}]};i.setOption(s)},createFalutAxis:function(t,n){var r=["架修故障","质保故障"],e=n.map((function(t){return t.trainNo})),i=r.map((function(t,r){var e=n.map((function(t){switch(r){case 0:return t.repair;case 1:return t.warranty}}));return{name:t,type:"bar",stack:"sum",barWidth:30,itemStyle:{normal:{label:{show:!1}}},data:e}})),s=a["b"](document.getElementById(t)),o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",y:"top",textStyle:{color:"#fff"},data:r},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},textStyle:{color:"#fff"},yAxis:[{}],xAxis:[{type:"category",data:e}],series:i};s.setOption(o)},jumpAlertPage:function(){var t="";switch(e){case"wlkcyj":t="/tiros/material/earlywarning";break;case"qjsjyj":t="/tiros/material/equipment/needcheck";break;case"wzyxyj":t="/tiros/material/earlywarning";break;case"bjzbqyj":t="/tiros/outsource/quality";break;case"clsjyj":t="/tiros/group/warningoff";break;case"wwyqyj":t="/tiros/outsource/perform";break;case"yqgdyj":t="/tiros/dispatch/workorder";break;default:t="/tiros/dispatch/breakdown";break}if(this.permissionList.length){for(var n=0;n<this.permissionList.length;n++){var r=this.permissionList[n];if(r.children)for(var i=0;i<r.children.length;i++){var s=r.children[i];if(s.path==t)return"wclgzyj"==e?sessionStorage.setItem("DEFAULT","true"):"wlkcyj"==e?sessionStorage.setItem("DEFAULT","1"):"wzyxyj"==e&&sessionStorage.setItem("DEFAULT","2"),this.$router.push({path:t}),!1}}this.$message.warning("没有查看明细的权限!")}},run:function(t,n,r){var e=this;t.length<=r||setInterval((function(){e[n]=!0,setTimeout((function(){t.push(t.shift()),e.$nextTick((function(){e[n]=!1}))}),500)}),5e3)}}},C=j,k=(r("3cba"),r("2877")),w=Object(k["a"])(C,i,s,!1,null,"304bad1e",null);n["default"]=w.exports}}]);