(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fd9bdd4","chunk-42391c95"],{"260f":function(t,e,n){},"353a":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{width:"80%",visible:t.visible,title:t.title,centered:"",bodyStyle:{height:"80vh"},confirmLoading:t.confirmLoading,destroyOnClose:!0,footer:null},on:{cancel:t.handleCancel}},[e("div",[e("iframe",{staticClass:"filename",staticStyle:{height:"calc(80vh - 25px)"},attrs:{src:t.filePath,width:"100%",frameborder:"0"}})])])},r=[],a=n("e2aa"),o={name:"DocPreviewModal",props:{title:{type:String,default:"文件预览"}},data:function(){return{visible:!1,confirmLoading:!1,filePath:""}},methods:{handleFilePath:function(t){var e=this;Object(a["c"])(t).then((function(t){if(t.success){var n=t.result;e.visible=!0,e.filePath=window._CONFIG["onlinePreviewDomainURL"]+"?url="+encodeURIComponent(n)}else e.$message.warning("查看文件失败")}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},s=o,l=(n("9216"),n("2877")),c=Object(l["a"])(s,i,r,!1,null,"484795fd",null);e["default"]=c.exports},9216:function(t,e,n){"use strict";n("260f")},fb3c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:"查看",width:"100%",dialogClass:"fullDialog no-footer",visible:t.visible,footer:null},on:{cancel:t.handleCancel}},[e("div",[e("a-descriptions",{attrs:{bordered:""}},[e("a-descriptions-item",{attrs:{label:"任务名称"}},[t._v(" "+t._s(t.model.title)+" ")]),e("a-descriptions-item",{attrs:{label:"编码"}},[t._v(" "+t._s(t.model.rectifyNo)+" ")]),e("a-descriptions-item",{attrs:{label:"整改类型"}},[t._v(" "+t._s(t.model.rectifyType_dictText)+" ")]),e("a-descriptions-item",{attrs:{label:"下发日期"}},[t._v(" "+t._s(t.model.sendDate)+" ")]),e("a-descriptions-item",{attrs:{label:"责任班组"}},[t._v(" "+t._s(t.model.groupName)+" ")]),e("a-descriptions-item",{attrs:{label:"整改状态"}},[e("span",[t._v(t._s(t.model.status_dictText))])]),e("a-descriptions-item",{attrs:{label:"车辆段"}},[e("span",[t._v(t._s(t.model.depotName))])]),e("a-descriptions-item",{attrs:{label:"线路"}},[e("span",[t._v(t._s(t.model.lineName))])]),e("a-descriptions-item",{attrs:{label:"所属车辆"}},[e("span",[t._v(t._s(t.model.trainNo))])]),e("a-descriptions-item",{attrs:{label:"关联工单"}},[e("span",[t._v(t._s(t.model.orderName))])]),e("a-descriptions-item",{attrs:{label:"整改工位"}},[e("span",[t._v(t._s(t.model.workstationName))])]),e("a-descriptions-item",{attrs:{label:"整改工序"}},[e("span",[t._v(t._s(t.model.orderTaskName))])]),e("a-descriptions-item",{attrs:{label:"备注说明"}},[e("span",[t._v(t._s(t.model.remark))])])],1),e("a-divider",{staticStyle:{"font-size":"14px"},attrs:{orientation:"left"}},[t._v("已上传列表")]),e("div",{staticStyle:{"margin-top":"12px",height:"calc(100vh - 395px)"}},[e("vxe-table",{attrs:{border:"",height:"auto",data:t.annexList,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("div",{}),e("vxe-table-column",{attrs:{type:"seq",title:"序号",width:"50px","header-align":"center",align:"center"}}),e("vxe-table-column",{attrs:{field:"title",title:"文件名","header-align":"left",align:"left"}}),e("vxe-table-column",{attrs:{title:"操作",width:"160px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.row;return[e("a",{staticStyle:{"margin-right":"12px"},on:{click:function(e){return e.stopPropagation(),t.handleSeeing(i)}}},[t._v("查看")])]}}])})],1)],1)],1),e("doc-preview-modal",{ref:"docPreview",attrs:{title:t.fileName}})],1)},r=[],a=n("353a"),o=n("8fad");function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,i,r,a){var s=i&&i.prototype instanceof c?i:c,u=Object.create(s.prototype);return l(u,"_invoke",function(n,i,r){var a,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,s=0,l=t,f.n=n,o}};function h(n,i){for(s=n,l=i,e=0;!d&&c&&!r&&e<u.length;e++){var r,a=u[e],h=f.p,p=a[2];n>3?(r=p===i)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=t):a[0]<=h&&((r=n<2&&h<a[1])?(s=0,f.v=i,f.n=a[1]):h<p&&(r=n<3||a[0]>i||i>p)&&(a[4]=n,a[5]=i,f.n=p,s=0))}if(r||n>1)return o;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(e=s<2?t:l)||!d;){a||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,a){if(s||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,s<2&&(s=0)}else 1===s&&(e=a.return)&&e.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);a=t}else if((e=(d=f.n<0)?l:n.call(i,f))!==o)break}catch(e){a=t,s=1,l=e}finally{c=1}}return{value:e,done:d}}}(n,r,a),!0),u}var o={};function c(){}function u(){}function d(){}e=Object.getPrototypeOf;var f=[][i]?e(e([][i]())):(l(e={},i,(function(){return this})),e),h=d.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,r,"GeneratorFunction")),t.prototype=Object.create(h),t}return u.prototype=d,l(h,"constructor",d),l(d,"constructor",u),u.displayName="GeneratorFunction",l(d,r,"GeneratorFunction"),l(h),l(h,r,"Generator"),l(h,i,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),(s=function(){return{w:a,m:p}})()}function l(t,e,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}l=function(t,e,n,i){function a(e,n){l(t,e,(function(t){return this._invoke(e,n,t)}))}e?r?r(t,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},l(t,e,n,i)}function c(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){c(a,i,r,o,s,"next",t)}function s(t){c(a,i,r,o,s,"throw",t)}o(void 0)}))}}var d={name:"RectifyView",components:{DocPreviewModal:a["default"]},data:function(){return{visible:!1,model:{},annexList:[],status:!1,fileName:""}},created:function(){},methods:{handleCancel:function(){this.visible=!1},showView:function(t){this.readOnly=!0,t.id&&null!=t.annexList&&t.annexList.length>0&&(this.annexList=t.annexList),this.model=Object.assign({},t),this.visible=!0},handlePrivilege:function(){var t=u(s().m((function t(e,n){var i,r=this;return s().w((function(t){while(1)switch(t.n){case 0:return i={id:e,operation:n},t.a(2,Object(o["Ic"])(i).then((function(t){return t.success?t.result:(r.$message.error(t.message),!1)})).catch((function(t){return r.$message.error(t),!1})))}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),handleSeeing:function(){var t=u(s().m((function t(e){var n;return s().w((function(t){while(1)switch(t.n){case 0:return t.n=1,this.handlePrivilege(e.id,2);case 1:n=t.v,n?this.$refs.docPreview.handleFilePath(e.address):this.$message.error("您没有权限!");case 2:return t.a(2)}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},f=d,h=n("2877"),p=Object(h["a"])(f,i,r,!1,null,"97fd1368",null);e["default"]=p.exports}}]);