(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-932497e2","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7","chunk-2d0c89b7"],{"018d":function(t,e,r){"use strict";r("3f57")},"3f57":function(t,e,r){},5633:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t._self._c;return e("span",[e("a-select",{key:t.key,attrs:{"allow-clear":"",value:t.getValueSting,disabled:t.disabled,placeholder:"线路"},on:{change:t.handleChange,select:t.onSelect}},[e("a-select-option",{attrs:{value:void 0}},[t._v("请选择")]),t._l(t.optionData,(function(r,n){return e("a-select-option",{key:n,attrs:{value:r.lineId}},[e("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:r.lineName}},[t._v(" "+t._s(r.lineName)+" ")])])}))],2)],1)},a=[],o=r("8fad"),i={name:"LineSelectList",props:{value:[String],triggerChange:Boolean,disabled:Boolean,defaultFirst:Boolean},data:function(){return{optionData:[],selectValue:"",key:0}},created:function(){this.findList()},computed:{getValueSting:function(){return null!=this.value?this.value.toString():void 0}},methods:{findList:function(){var t=this;Object(o["Jb"])().then((function(e){e.success&&(t.optionData=e.result,t.defaultFirst&&t.optionData&&t.optionData.length>0&&setTimeout((function(){t.$emit("change",t.optionData[0].lineId),t.$emit("input",t.optionData[0].lineId)}),500))}))},handleChange:function(t,e){var r="";if(e&&e.componentOptions.children[0].data&&(r=e.componentOptions.children[0].data.attrs.title),this.$emit("change",t),this.$emit("input",t),this.$emit("changeName",r),this.triggerChange)if(t){var n=this.optionData[e.key];this.$emit("change",t,n)}else this.$emit("change",t,null)},onSelect:function(t,e){if(t){var r=this.optionData[e.data.key];this.$emit("select",t,r)}else this.$emit("select","",null)}}},c=i,u=r("2877"),s=Object(u["a"])(c,n,a,!1,null,"77265147",null);e["default"]=s.exports},5786:function(t,e,r){t.exports=r.p+"img/magic.deee3b0e.svg"},7347:function(t,e,r){"use strict";r.d(e,"h",(function(){return M})),r.d(e,"d",(function(){return Q})),r.d(e,"g",(function(){return N})),r.d(e,"f",(function(){return A})),r.d(e,"e",(function(){return $})),r.d(e,"t",(function(){return a})),r.d(e,"i",(function(){return o})),r.d(e,"B",(function(){return i})),r.d(e,"c",(function(){return c})),r.d(e,"o",(function(){return u})),r.d(e,"D",(function(){return s})),r.d(e,"v",(function(){return d})),r.d(e,"u",(function(){return l})),r.d(e,"p",(function(){return h})),r.d(e,"s",(function(){return f})),r.d(e,"E",(function(){return p})),r.d(e,"F",(function(){return b})),r.d(e,"H",(function(){return m})),r.d(e,"z",(function(){return g})),r.d(e,"C",(function(){return w})),r.d(e,"j",(function(){return k})),r.d(e,"k",(function(){return v})),r.d(e,"l",(function(){return O})),r.d(e,"I",(function(){return x})),r.d(e,"G",(function(){return j})),r.d(e,"n",(function(){return S})),r.d(e,"q",(function(){return C})),r.d(e,"r",(function(){return _})),r.d(e,"w",(function(){return P})),r.d(e,"x",(function(){return T})),r.d(e,"a",(function(){return D})),r.d(e,"m",(function(){return B})),r.d(e,"y",(function(){return L})),r.d(e,"b",(function(){return q})),r.d(e,"J",(function(){return I})),r.d(e,"K",(function(){return F})),r.d(e,"A",(function(){return y}));var n=r("0fea"),a=function(t){return Object(n["d"])("/board/centerProgress/finishQuality",t)},o=function(t){return Object(n["d"])("/board/centerProgress/burnDownChartData",t)},i=function(t){return Object(n["d"])("/board/centerProgress/listProgress",t)},c=function(t){return Object(n["d"])("/board/centerCost/getAreaChart",t)},u=function(t){return Object(n["d"])("/board/centerCost/getDepotCost",t)},s=function(t){return Object(n["d"])("/board/centerCost/getMaterialCostTopTen",t)},l=function(t){return Object(n["d"])("/board/centerCost/getLastTenTrainCost",t)},d=function(t){return Object(n["d"])("/board/centerCost/getLastTenTrainNo",t)},h=function(t){return Object(n["d"])("/board/centerQuality/getDepotFault",t)},f=function(t){return Object(n["d"])("/board/centerQuality/getFaultTrend",t)},p=function(t){return Object(n["d"])("/board/centerQuality/getSysFault",t)},b=function(t){return Object(n["d"])("/board/workshopProgress/getTaskTrend",t)},m=function(t){return Object(n["d"])("/board/workshopProgress/getWorkGroupOrderInfo",t)},g=function(t){return Object(n["d"])("/board/workshopProgress/listOrderTask",t)},y=function(t){return Object(n["d"])("/board/workshopProgress/listOutsourceTaskProgress",t)},w=function(t){return Object(n["d"])("/board/workshopProgress/listWorkGroupTaskProgress",t)},k=function(t){return Object(n["d"])("/board/workshopCost/getCostItem",t)},v=function(t){return Object(n["d"])("/board/workshopCost/get-month-data",t)},x=function(t){return Object(n["d"])("/board/workshopCost/getAreaChart",t)},O=function(t){return Object(n["d"])("/board/workshopCost/getCostProportion",t)},j=function(t){return Object(n["d"])("/board/workshopCost/getThresholdAlert",t)},S=function(t){return Object(n["d"])("/board/workshopQuality/getDayFaultTrend",t)},C=function(t){return Object(n["d"])("/board/workshopQuality/getFaultRanking",t)},_=function(t){return Object(n["d"])("/board/workshopQuality/getFaultSystemCount",t)},P=function(t){return Object(n["d"])("/board/workshopQuality/getLatestFault",t)},T=function(t){return Object(n["d"])("/board/workshopQuality/getLatestOutsourceFault",t)},I=function(t){return Object(n["d"])("/board/workstation/list",t)},F=function(t){return Object(n["d"])("/board/workstation/get",t)},D=function(t){return Object(n["d"])("/board/homepage/data/item/alert",t)},B=function(t){return Object(n["d"])("/board/homepage/data/item/data",t)},L=function(t){return Object(n["d"])("/board/homepage/fault/listLatest",t)},q=function(t){return Object(n["d"])("/board/homepage/plan/list",t)},$=function(t){return Object(n["d"])("/board/group/order/total/count",t)},A=function(t){return Object(n["d"])("/board/group/person/rank",t)},N=function(t){return Object(n["d"])("/board/group/order/today/list",t)},Q=function(t){return Object(n["d"])("/board/group/material/lack",t)},M=function(t){return Object(n["d"])("/board/group/tool/check-alert",t)}},e5ed:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"calc(100% - 5px)"},on:{click:t.hiddenFilter}},[e("div",{style:{position:"absolute",top:1,right:0,zIndex:999,cursor:"pointer"},on:{click:t.onShowFilter}},[e("img",{attrs:{src:r("5786")}})]),e("div",{ref:"filterBox",staticClass:"filterBox",on:{click:function(t){t.stopPropagation()}}},[e("a-form",{attrs:{layout:"horizontal","label-col":{span:6},wrapperCol:{span:18}}},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{md:24,sm:24}},[e("a-form-item",{attrs:{label:"车辆段"}},[e("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_mtr_depot,name,id"},model:{value:t.queryParam.depotId,callback:function(e){t.$set(t.queryParam,"depotId",e)},expression:"queryParam.depotId"}})],1)],1),e("a-col",{attrs:{md:24,sm:24}},[e("a-form-item",{attrs:{label:"线路"}},[e("line-select-list",{model:{value:t.lineId,callback:function(e){t.lineId=e},expression:"lineId"}})],1)],1),e("a-col",{attrs:{md:24,sm:24}},[e("a-form-item",{attrs:{label:"车辆"}},[e("j-dict-select-seach-tag",{attrs:{dictCode:t.dictTrainStr},model:{value:t.queryParam.trainNo,callback:function(e){t.$set(t.queryParam,"trainNo",e)},expression:"queryParam.trainNo"}})],1)],1),e("a-col",{attrs:{md:24,sm:24}},[e("a-form-item",[e("a-checkbox-group",{staticStyle:{width:"100%","margin-top":"6px"},model:{value:t.programTypeItems,callback:function(e){t.programTypeItems=e},expression:"programTypeItems"}},[e("a-row",[e("a-col",{attrs:{span:9}},[e("a-checkbox",{attrs:{value:"1"}},[t._v(" 架修 ")])],1),e("a-col",{attrs:{span:9}},[e("a-checkbox",{attrs:{value:"2"}},[t._v(" 大修 ")])],1)],1)],1)],1)],1),e("a-col",{attrs:{md:24,sm:8}},[e("a-button",{attrs:{type:"primary",block:""},on:{click:t.findList}},[t._v("切换条件")])],1)],1)],1)],1),e("div",[e("a-row",[e("a-col",{attrs:{md:24,sm:8}},[e("na-card-light",{attrs:{title:"年度架大修成本分布"}},[e("div",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"chart3"}})])],1)],1)],1),t.tableData&&t.tableData.length>0?e("div",{staticStyle:{padding:"5px"}},[e("vxe-table",{ref:"listTable",attrs:{border:"","highlight-current-row":"","highlight-hover-row":"",align:t.allAlign,data:t.tableData,"show-overflow":"ellipsis","edit-config":{trigger:"manual",mode:"row"},"span-method":t.objectSpanMethod}},[e("vxe-table-column",{attrs:{field:"depotName",title:"车辆段",width:"120"}}),e("vxe-table-column",{attrs:{field:"programName",title:"修程",width:"100"}}),e("vxe-table-column",{attrs:{field:"totalCost",title:"总成本",width:"10%"}}),e("vxe-table-column",{attrs:{field:"mustCost",title:"必换件",width:"10%"}}),e("vxe-table-column",{attrs:{field:"randomCost",title:"偶换件",width:"10%"}}),e("vxe-table-column",{attrs:{field:"consumeCost",title:"耗材",width:"10%"}}),e("vxe-table-column",{attrs:{field:"selfRepairCost",title:"自主修",width:"12%"}}),e("vxe-table-column",{attrs:{field:"outsourceRepairCost",title:"委外修",width:"12%"}}),e("vxe-table-column",{attrs:{field:"singleTrainAverageCost",title:"单列车平均总成本",width:"15%"}})],1)],1):t._e(),e("div",{staticStyle:{"margin-top":"20px",height:"400px"}},[e("a-row",{staticStyle:{height:"calc(100% - 10px)"},attrs:{gutter:24}},[e("a-col",{staticStyle:{height:"calc(100% - 0px)"},attrs:{md:12,sm:24}},[e("na-card-light",{attrs:{title:"物资主要消耗"}},[e("div",{staticStyle:{width:"100%",height:"calc(100% - 0px)"},attrs:{id:"chart1"}})])],1),e("a-col",{staticStyle:{height:"calc(100% - 0px)"},attrs:{md:12,sm:24}},[e("na-card-light",{attrs:{title:"车辆架大修成本趋势"}},[e("div",{staticStyle:{width:"100%",height:"calc(100% - 0px)"},attrs:{id:"chart2"}})])],1)],1)],1)])},a=[],o=r("7347"),i=r("313e"),c=r("5633"),u={name:"CostPage",components:{LineSelectList:c["default"]},data:function(){return{dictTrainStr:"bu_train_info,train_no,train_no",tableData:[],dataSourceB:[],dataSourceZ:[],dataSourceM:[],typetrain:[],queryParam:{depotId:"",lineId:"",trainNo:"",programType:""},allAlign:"center",isList:!1,programTypeItems:[],lineId:""}},created:function(){this.findList()},watch:{lineId:function(t,e){this.dictTrainStr=t?"bu_train_info,train_no,train_no,line_id="+t:"bu_train_info,train_no,train_no"}},methods:{hiddenFilter:function(){this.$refs.filterBox.style.display="none"},onShowFilter:function(t){"block"===this.$refs.filterBox.style.display?this.$refs.filterBox.style.display="none":(this.$refs.filterBox.style.top=t.pageY+"px",this.$refs.filterBox.style.left=t.pageX-270+"px",this.$refs.filterBox.style.display="block"),t.stopPropagation()},changelist:function(){this.isList=!0},offList:function(){this.isList=!1},findList:function(){var t=this;if(this.programTypeItems.length>0){var e=this.programTypeItems.indexOf("1")>-1,r=this.programTypeItems.indexOf("2")>-1;e&&r?this.queryParam.programType=0:e&&!r?this.queryParam.programType=1:!e&&r&&(this.queryParam.programType=2)}else this.queryParam.programType=0;this.queryParam.lineId=this.lineId,Object(o["v"])(this.queryParam).then((function(e){t.typetrain=e.result,Object(o["u"])(t.queryParam).then((function(e){t.typetrain&&t.typetrain.length>0?t.dataSourceZ=e.result:t.dataSourceZ=[],t.dataSourceZ&&t.dataSourceZ.length>0?t.chart2(t.typetrain,t.dataSourceZ):t.chart2([],[])}))})),Object(o["D"])(this.queryParam).then((function(e){t.dataSourceB=e.result,t.dataSourceB&&t.dataSourceB.length>0?t.chart1(t.dataSourceB):t.chart1([])})),Object(o["c"])(this.queryParam).then((function(e){t.dataSourceM=e.result,t.dataSourceM&&t.dataSourceM.length>0?t.chart3(t.dataSourceM):t.chart3([])})),Object(o["o"])(this.queryParam).then((function(e){t.tableData=e.result}))},changeLine:function(t){this.dictTrainStr=t?"bu_train_info,train_no,train_no,line_id="+t:"bu_train_info,train_no,train_no"},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,r=t.columnIndex;if(0===r)return e%3===0?{rowspan:3,colspan:1}:{rowspan:0,colspan:0}},chart1:function(t){if(t&&!(t.length<1)){var e=i["b"](document.getElementById("chart1")),r={grid:{left:"0%",right:"0%",top:"0%",bottom:"0%"},toolbox:{show:!1},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"成本消耗",type:"pie",radius:"55%",center:["50%","50%"],data:t.map((function(t){return{name:t.item,value:t.count}})),label:{formatter:"{b}: {c} ({d}%)"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(r)}},chart2:function(t,e){if(t&&!(t.length<1)){var r=i["b"](document.getElementById("chart2")),n=[],a=[];e.forEach((function(e){var r=e.type;a.push(r);var o=[];t.forEach((function(t){o.push(e[t])})),n.push({name:r,type:"bar",stack:"sum",barWidth:30,itemStyle:{normal:{label:{show:!0}}},data:o})}));var o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"top",data:a},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:[{}],xAxis:[{type:"category",data:t}],series:n};r.setOption(o)}},chart3:function(t){if(t&&!(t.length<1)){var e=i["b"](document.getElementById("chart3")),r={color:["#80FFA5","#00DDFF","#37A2FF","#FF0087","#FFBF00"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:t.map((function(t){return t.x}))}],yAxis:[{type:"value"}],series:[{name:"消耗金额",type:"line",stack:"消耗金额",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new i["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(128, 255, 165)"},{offset:1,color:"rgba(1, 191, 236)"}])},emphasis:{focus:"series"},data:t.map((function(t){return t.y}))}]};e.setOption(r)}}}},s=u,l=(r("018d"),r("2877")),d=Object(l["a"])(s,n,a,!1,null,"6aca8c2c",null);e["default"]=d.exports}}]);