(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221d88"],{cba4:function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e._self._c;return i("a-modal",{attrs:{title:"审阅作业指导书",width:"600px",maskClosable:!1,confirmLoading:e.loading},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(i){e.visible=i},expression:"visible"}},[i("a-form",{attrs:{layout:"vertical"}},[i("a-form-item",{attrs:{label:"审阅结论"}},[i("a-radio-group",{model:{value:e.reviewStatus,callback:function(i){e.reviewStatus=i},expression:"reviewStatus"}},[i("a-radio",{attrs:{value:2}},[e._v("通过")]),i("a-radio",{attrs:{value:3}},[e._v("驳回")])],1)],1),i("a-form-item",{attrs:{label:"审阅意见"}},[i("a-textarea",{attrs:{rows:4,placeholder:"请输入审阅意见"},model:{value:e.reviewComment,callback:function(i){e.reviewComment=i},expression:"reviewComment"}})],1)],1)],1)},s=[],n=t("8fad"),r={name:"TechBookReviewModal",data:function(){return{visible:!1,loading:!1,record:{},reviewStatus:2,reviewComment:""}},methods:{open:function(e){this.record=e||{},this.reviewStatus=2,this.reviewComment=e&&e.reviewComment||"",this.visible=!0},handleOk:function(){var e=this;if(this.record.id)if(1===this.record.reviewStatus){var i=(this.reviewComment||"").trim();i?(this.loading=!0,Object(n["A"])({id:this.record.id,reviewStatus:this.reviewStatus,reviewComment:i}).then((function(i){i.success?(e.$message.success("审阅完成"),e.$emit("ok"),e.handleCancel()):e.$message.error(i.message||"审阅失败")})).finally((function(){e.loading=!1}))):this.$message.warning("请填写审阅意见")}else this.$message.warning("仅待审状态可进行审阅");else this.$message.warning("未选择指导书")},handleCancel:function(){this.visible=!1,this.record={},this.reviewComment=""}}},o=r,l=t("2877"),c=Object(l["a"])(o,a,s,!1,null,null,null);i["default"]=c.exports}}]);