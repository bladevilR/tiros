(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1712b60c"],{"2c62":function(e,a,s){},c2d1:function(e,a,s){"use strict";s("2c62")},d10c:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e._self._c;return a("a-form-model",{ref:"form",attrs:{model:e.userBaseInfo,rules:e.formRules}},[a("div",[a("div",{staticClass:"info-wrapper info-bottom-wrapper"},[a("h4",[e._v("用户基本信息")]),a("a-row",{attrs:{gutter:12}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"姓名",prop:"realname"}},[a("a-input",{attrs:{disabled:e.isDisable},model:{value:e.userBaseInfo.realname,callback:function(a){e.$set(e.userBaseInfo,"realname",a)},expression:"userBaseInfo.realname"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"工号",prop:"workNo"}},[a("a-input",{attrs:{disabled:e.isDisable},model:{value:e.userBaseInfo.workNo,callback:function(a){e.$set(e.userBaseInfo,"workNo",a)},expression:"userBaseInfo.workNo"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"班组",prop:"groupId"}},[a("j-dict-select-tag",{attrs:{"trigger-change":!0,placeholder:"请选择",dictCode:"sys_depart,depart_name,id,org_category=4",disabled:e.isDisable},model:{value:e.userBaseInfo.groupId,callback:function(a){e.$set(e.userBaseInfo,"groupId",a)},expression:"userBaseInfo.groupId"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"岗位",prop:"positionId"}},[a("j-dict-select-tag",{attrs:{"trigger-change":!0,placeholder:"请选择",dictCode:"bu_postion_info,position_name,id",disabled:e.isDisable},model:{value:e.userBaseInfo.positionId,callback:function(a){e.$set(e.userBaseInfo,"positionId",a)},expression:"userBaseInfo.positionId"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"性别",prop:"sex"}},[a("a-radio-group",{attrs:{options:e.sexOptions,value:e.sexOptionsValue,disabled:e.isDisable},on:{change:e.sexOnChange}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态",prop:"status"}},[a("a-radio-group",{attrs:{options:e.statusOptions,value:e.statusOptionsValue,disabled:e.isDisable},on:{change:e.statusOnChange}})],1)],1)],1)],1),a("div",{staticClass:"info-wrapper info-bottom-wrapper"},[a("h4",[e._v("其他信息")]),a("a-row",[a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"账号",prop:"username"}},[a("a-input",{model:{value:e.userBaseInfo.username,callback:function(a){e.$set(e.userBaseInfo,"username",a)},expression:"userBaseInfo.username"}})],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-button",[e._v("创建账号")])],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机",prop:"phone"}},[a("a-input",{model:{value:e.userBaseInfo.phone,callback:function(a){e.$set(e.userBaseInfo,"phone",a)},expression:"userBaseInfo.phone"}})],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"邮件",prop:"email"}},[a("a-input",{model:{value:e.userBaseInfo.email,callback:function(a){e.$set(e.userBaseInfo,"email",a)},expression:"userBaseInfo.email"}})],1)],1),a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{labelCol:{span:2},wrapperCol:{span:18},label:"照片"}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","before-upload":e.beforeUpload},on:{change:e.handleChange}},[e.imageUrl?a("img",{attrs:{src:e.imageUrl,alt:"avatar"},model:{value:e.userBaseInfo.avatar,callback:function(a){e.$set(e.userBaseInfo,"avatar",a)},expression:"userBaseInfo.avatar"}}):a("div",[a("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1)])],1)],1)],1)],1)])])},o=[],r=s("ca00"),l=s("4ec3"),n=s("61f7"),i={name:"BaseInfo",props:{currentUser:{type:Object,default:{}},isDisable:{type:Boolean,default:!1}},data:function(){return{userBaseInfo:{id:"",username:"",realname:"",workNo:"",avatar:"",orgCode:"",groupId:"",groupName:"",positionId:"",positionName:"",positionWages:0,sex:1,sex_dictText:"",phone:"",email:"",address:"",status:1,status_dictText:"",tags:"",certs:"",tagTitleList:[],certList:[],trainingList:[],skillList:[]},formRules:{realname:[{required:!0,message:"请输入姓名!",trigger:"change"},{max:32,message:"输入长度不能超过32字符!"}],workNo:[{required:!0,message:"请输入工号!",trigger:"change"},{validator:this.validateCode,trigger:"change"},{max:64,message:"输入长度不能超过64字符!"}],groupId:[{required:!0,message:"请输入班组!",trigger:"change"}],positionId:[{required:!0,message:"请输入岗位!",trigger:"change"}],sex:[{required:!0,message:"请输入性别!",trigger:"change"}],status:[{required:!0,message:"请输入状态!",trigger:"change"}],username:[{required:!0,message:"请输入账号!",trigger:"change"},{max:32,message:"输入长度不能超过32字符!"}],phone:[{validator:this.checkPhone,trigger:"change"}],email:[{validator:this.checkEmail,trigger:"change"}],address:[{required:!0,message:"请输入地址!",trigger:"change"}],avatar:[{required:!0,message:"请输入地址!"}]},labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}},buttonItemLayout:{},sexOptions:[{label:"男",value:"1"},{label:"女",value:"2"}],statusOptions:[{label:"正常",value:"1"},{label:"冻结",value:"2"}],imageUrl:"",loading:!1,sexOptionsValue:"1",statusOptionsValue:"1",form:this.$form.createForm(this)}},mounted:function(){this.currentUser&&(Object.assign(this.userBaseInfo,this.currentUser),2===this.userBaseInfo.sex&&(this.sexOptionsValue="2"),2===this.userBaseInfo.status&&(this.statusOptionsValue="2"))},created:function(){},methods:{validateCode:function(e,a,s){var t={tableName:"sys_user",fieldName:"work_no",fieldVal:a,dataId:this.userBaseInfo.id};Object(r["e"])(a)?s():Object(l["m"])(t).then((function(e){e.success?s():s(e.message)}))},checkPhone:function(e,a,s){Object(r["e"])(a)||Object(n["b"])(a)||Object(n["c"])(a)?s():s("请输入正确的号码！")},checkEmail:function(e,a,s){Object(r["e"])(a)||Object(n["a"])(a)?s():s("请输入正确的邮箱！")},sexOnChange:function(){"1"===this.sexOptionsValue?this.sexOptionsValue="2":"2"===this.sexOptionsValue&&(this.sexOptionsValue="1")},statusOnChange:function(){"1"===this.statusOptionsValue?this.statusOptionsValue="2":"2"===this.statusOptionsValue&&(this.statusOptionsValue="1")},handleChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(this.loading=!1):this.loading=!0},beforeUpload:function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||this.$message.error("You can only upload JPG file!");var s=e.size/1024/1024<2;return s||this.$message.error("Image must smaller than 2MB!"),a&&s},getData:function(){return"1"===this.sexOptionsValue?this.userBaseInfo.sex=1:"2"===this.sexOptionsValue?this.userBaseInfo.sex=2:this.userBaseInfo.sex=0,"1"===this.statusOptionsValue?this.userBaseInfo.status=1:this.userBaseInfo.status=2,mini.clone(this.userBaseInfo)}}},p=i,u=(s("c2d1"),s("2877")),c=Object(u["a"])(p,t,o,!1,null,null,null);a["default"]=c.exports}}]);