(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ccf78"],{"4fd4":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e._self._c;return a("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,destroyOnClose:!0,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-form",{attrs:{form:e.form}},[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"线路"}},[a("line-select-list",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineId",e.validatorRules.lineId],expression:"['lineId', validatorRules.lineId]"}],on:{changeName:e.changeLine}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"总列次"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["trainIndex",e.validatorRules.trainIndex],expression:"['trainIndex', validatorRules.trainIndex]"}],staticStyle:{width:"100%"},attrs:{min:1,max:999999}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"修程次数"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["programIndex",e.validatorRules.programIndex],expression:"['programIndex', validatorRules.programIndex]"}],staticStyle:{width:"100%"},attrs:{min:0,max:999999}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"修程"}},[a("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["programId",e.validatorRules.programId],expression:"['programId', validatorRules.programId]"}],attrs:{triggerChange:!0,dictCode:"bu_repair_program,name,id"},on:{changeName:e.changeprogram}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开始时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["startDate",e.validatorRules.startDate],expression:"['startDate', validatorRules.startDate]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"结束时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["finishDate",e.validatorRules.finishDate],expression:"['finishDate', validatorRules.finishDate]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol1,wrapperCol:e.wrapperCol1,label:"备注"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",e.validatorRules.remark],expression:"['remark', validatorRules.remark]"}]})],1)],1)],1)],1)],1)},l=[],i=r("c1df"),s=r.n(i),o=r("5633"),n={components:{LineSelectList:o["default"]},data:function(){return{title:"新增计划",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}},labelCol1:{xs:{span:24},sm:{span:3}},wrapperCol1:{xs:{span:24},sm:{span:21}},form:this.$form.createForm(this),validatorRules:{lineId:{rules:[{required:!0,message:"请选择线路!"}]},trainIndex:{rules:[{required:!0,message:"请输入第几列!"}],initialValue:1},programId:{rules:[{required:!0,message:"请选择修程!"}]},startDate:{rules:[{required:!0,message:"请选择开始时间!"}]},finishDate:{rules:[{required:!0,message:"请选择结束时间!"}]},remark:{rules:[{max:255,message:"输入长度不能超过255字符!"}]},programIndex:{rules:[{required:!0,message:"请输入修程次数!"}]}}}},methods:{moment:s.a,add:function(){this.edit({})},edit:function(e){var a=this;this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){a.form.setFieldsValue({trainIndex:e.trainIndex,lineId:e.lineId,programId:e.programId,startDate:e.startDate,finishDate:e.finishDate,remark:e.remark,programIndex:e.programIndex})}))},handleOk:function(){var e=this;this.form.validateFields((function(a,r){if(!a){var t=Object.assign(e.model,r,{startDate:s()(r.startDate).format("YYYY-MM-DD"),finishDate:s()(r.finishDate).format("YYYY-MM-DD"),amount:1});e.$emit("ok",t),e.close()}}))},changeLine:function(e){this.model.lineName=e},changeprogram:function(e){this.model.programName=e},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},d=n,m=r("2877"),p=Object(m["a"])(d,t,l,!1,null,null,null);a["default"]=p.exports}}]);