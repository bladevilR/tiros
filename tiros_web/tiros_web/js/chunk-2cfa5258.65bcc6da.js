(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cfa5258","chunk-42391c95"],{"1a6f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{style:e.containerHeightStyle},[t("div",{staticClass:"info-wrapper info-top-wrapper",staticStyle:{"margin-top":"10px"}},[t("h4",[e._v("故障信息")]),t("a-descriptions",{attrs:{size:"default",bordered:"",column:6}},[t("a-descriptions-item",{attrs:{label:"故障编号",span:2}},[e._v(" "+e._s(e.detail.faultSn)+" ")]),t("a-descriptions-item",{attrs:{label:"发现时间",span:2}},[e._v(" "+e._s(e.detail.happenTime)+" ")]),t("a-descriptions-item",{attrs:{label:"线路",span:2}},[e._v(" "+e._s(e.detail.lineName)+" ")]),t("a-descriptions-item",{attrs:{label:"车辆",span:2}},[e._v(" "+e._s(e.detail.trainNo)+" ")]),t("a-descriptions-item",{attrs:{label:"系统",span:2}},[e._v(" "+e._s(e.detail.sysName)+" ")]),t("a-descriptions-item",{attrs:{label:"子系统",span:2}},[e._v(" "+e._s(e.detail.subSysName)+" ")]),t("a-descriptions-item",{attrs:{label:"部件",span:2}},[e._v(" "+e._s(e.detail.faultAssetName)+" ")]),t("a-descriptions-item",{attrs:{label:"发现阶段",span:2}},[e._v(" "+e._s(e.detail.phase_dictText)+" ")]),t("a-descriptions-item",{attrs:{label:"故障等级",span:2}},[e._v(" "+e._s(e.detail.faultLevel_dictText)+" ")]),t("a-descriptions-item",{attrs:{label:"是否正线",span:2}},[e._v(" "+e._s(e.detail.faultOnline_dictText)+" ")]),t("a-descriptions-item",{attrs:{label:"是否委外",span:2}},[e._v(" "+e._s(e.detail.outsource_dictText)+" ")]),1==e.detail.outsource?t("a-descriptions-item",{attrs:{label:"所属厂商",span:6}},[e._v(" "+e._s(e.detail.outSupplierName)+" ")]):e._e(),t("a-descriptions-item",{attrs:{label:"列计划",span:6}},[e._v(" "+e._s(e.detail.planName)+" ")]),t("a-descriptions-item",{attrs:{label:"故障描述",span:6}},[e._v(" "+e._s(e.detail.faultDesc)+" ")]),t("a-descriptions-item",{attrs:{label:"故障代码",span:6}},[e._v(" "+e._s(e.detail.faultCodeCode)+" "),t("span",{staticStyle:{color:"#c1c1c1","margin-left":"20px"}},[e._v(" （ "),t("a-space",[e._l(e.getFaultdetailList,(function(a,i){return t("span",{key:i},[e._v("故障"+e._s(a.fltLevel_dictText)+"："+e._s(a.fltCode)+"-"+e._s(a.fltName)+"；")])})),t("span",[e._v("故障部件："+e._s(e.detail.faultCodeCode)+"-"+e._s(e.detail.faultCodeCodeDes))])],2),e._v(" ） ")],1)]),t("a-descriptions-item",{attrs:{label:"故障状态",span:6}},[e._v(" "+e._s(e.detail.status_dictText)+" ")])],1)],1),t("div",{staticClass:"info-wrapper info-top-wrapper"},[t("h4",[e._v("提报信息")]),t("a-descriptions",{attrs:{bordered:"",column:6}},[t("a-descriptions-item",{attrs:{label:"提报班组",span:2}},[e._v(" "+e._s(e.detail.reportGroupName)+" ")]),t("a-descriptions-item",{attrs:{label:"提报人员",span:2}},[e._v(" "+e._s(e.detail.reportUserName)+" ")]),t("a-descriptions-item",{attrs:{label:"提报时间",span:2}},[e._v(" "+e._s(e.detail.reportTime)+" ")]),t("a-descriptions-item",{attrs:{label:"责任工程师",span:2}},[e._v(" "+e._s(e.detail.dutyEngineerName)+" ")])],1)],1),t("div",{staticClass:"info-wrapper info-top-wrapper"},[t("h4",[e._v("处理信息")]),t("a-descriptions",{attrs:{bordered:"",column:6}},[t("a-descriptions-item",{attrs:{label:"处理班组",span:2}},[e._v(" "+e._s(e.handleModel.solutionGroupName)+" ")]),t("a-descriptions-item",{attrs:{label:"处理人员",span:2}},[e._v(" "+e._s(e.handleModel.solutionUserName)+" ")]),t("a-descriptions-item",{attrs:{label:"处理时间",span:2}},[e._v(" "+e._s(e.handleModel.solutionTime)+" ")]),t("a-descriptions-item",{attrs:{label:"处理结果",span:6}},[e._v(" "+e._s(e.detail.handleStatus_dictText)+" ")]),t("a-descriptions-item",{attrs:{label:"关闭时间",span:2}},[e._v(" "+e._s(e.detail.closeTime)+" ")]),t("a-descriptions-item",{attrs:{label:"关闭人员",span:4}},[e._v(" "+e._s(e.detail.closeUserName)+" ")]),t("a-descriptions-item",{attrs:{label:"原因描述",span:4}},[e._v(" "+e._s(e.handleModel.reasonDesc)+" ")]),t("a-descriptions-item",{attrs:{label:"措施描述",span:4}},[e._v(" "+e._s(e.handleModel.solutionDesc)+" ")])],1)],1),t("div",{staticClass:"info-wrapper info-top-wrapper"},[t("h4",[e._v("附件")]),0===e.annexList.length?t("div",[e._v("暂无数据")]):t("div",e._l(e.annexList,(function(a,i){return t("ul",{key:i},[t("li",[t("a-icon",{attrs:{type:"file"}}),t("a",{on:{click:function(t){return e.handleSeeing(a)}}},[e._v(" "+e._s(a.name))])],1)])})),0)]),t("doc-preview-modal",{ref:"docPreview",attrs:{title:e.fileName}})],1)])},s=[],l=a("b47d"),n=a("ca00"),o=a("353a"),r={data:function(){return{fileName:"",annexList:[],detail:{},handleModel:{},getFaultdetailList:[],containerHeightStyle:{height:this.height,overflowY:"auto"}}},components:{DocPreviewModal:o["default"]},props:{businessKey:{type:String,default:null},isReadonly:{type:Boolean,default:!0},fromFlow:{type:Boolean,default:!1},height:{type:String,default:"100%"}},mounted:function(){this.businessKey&&this.show(this.businessKey)},methods:{getFaultdetail:function(e){var t=this;this.getFaultdetailLoading=!0,Object(l["db"])({code:e}).then((function(e){e.success&&e.result.length&&(t.getFaultdetailList=e.result.filter((function(e){return 0!=e.fltLevel&&3!=e.fltLevel}))),t.getFaultdetailLoading=!1,t.$emit("loaded")})).catch((function(e){t.getFaultdetailLoading=!1}))},show:function(e){var t=this;Object(n["e"])(e)||Object(l["P"])({id:e}).then((function(e){var a=e.result;t.detail=a,a.faultCodeId&&t.getFaultdetail(a.faultCodeId),t.annexList=a.annexList,Object(n["e"])(a.handleRecordList)||(t.handleModel=a.handleRecordList[0]),t.$emit("loaded")}))},handleSeeing:function(e){this.fileName=e.name,this.$refs.docPreview.handleFilePath(e.savepath)}}},d=r,c=(a("3206"),a("2877")),p=Object(c["a"])(d,i,s,!1,null,"21f53256",null);t["default"]=p.exports},"260f":function(e,t,a){},3206:function(e,t,a){"use strict";a("932f")},"353a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{width:"80%",visible:e.visible,title:e.title,centered:"",bodyStyle:{height:"80vh"},confirmLoading:e.confirmLoading,destroyOnClose:!0,footer:null},on:{cancel:e.handleCancel}},[t("div",[t("iframe",{staticClass:"filename",staticStyle:{height:"calc(80vh - 25px)"},attrs:{src:e.filePath,width:"100%",frameborder:"0"}})])])},s=[],l=a("e2aa"),n={name:"DocPreviewModal",props:{title:{type:String,default:"文件预览"}},data:function(){return{visible:!1,confirmLoading:!1,filePath:""}},methods:{handleFilePath:function(e){var t=this;Object(l["c"])(e).then((function(e){if(e.success){var a=e.result;t.visible=!0,t.filePath=window._CONFIG["onlinePreviewDomainURL"]+"?url="+encodeURIComponent(a)}else t.$message.warning("查看文件失败")}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},o=n,r=(a("9216"),a("2877")),d=Object(r["a"])(o,i,s,!1,null,"484795fd",null);t["default"]=d.exports},9216:function(e,t,a){"use strict";a("260f")},"932f":function(e,t,a){}}]);