(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a36d7"],{"01aa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:700,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",destroyOnClose:!0},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["name",e.validatorRules.name],expression:"[ 'name', validatorRules.name]",modifiers:{trim:!0}}],attrs:{placeholder:"名称"}})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",e.validatorRules.remark],expression:"[ 'remark',validatorRules.remark]"}]})],1)],1)],1),1==e.model.isFile?t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-form-item",{attrs:{label:"标签",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("div",{attrs:{id:"fileTag"}},[e._l(e.tags,(function(a,n){return[a.length>10?t("a-tooltip",{key:a,attrs:{title:a}},[t("a-tag",{key:a,attrs:{color:"blue",closable:!0},on:{close:function(){return e.handleClose(a)}}},[e._v(" "+e._s("".concat(a.slice(0,10),"..."))+" ")])],1):t("a-tag",{key:a,attrs:{color:"blue",closable:!0},on:{close:function(){return e.handleClose(a)}}},[e._v(" "+e._s(a)+" ")])]})),e.inputVisible?t("a-input",{ref:"input",style:{width:"78px"},attrs:{type:"text",value:e.inputValue},on:{change:e.handleInputChange,blur:e.handleInputConfirm,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}}}):t("a-tag",{staticStyle:{background:"#fff",borderstyle:"dashed"},attrs:{color:"blue"},on:{click:e.showInput}},[t("a-icon",{attrs:{type:"plus"}}),e._v(" 添加标签 ")],1)],2)])],1)],1):e._e()],1)],1)],1)},r=[],i=a("8fad"),l=a("ca00");function s(e){return m(e)||c(e)||u(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var f={name:"EditDirectoryModal",data:function(){return{title:"操作",visible:!1,model:{},tags:[],inputVisible:!1,inputValue:"",labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入名称!"},{max:50,message:"输入长度不能超过50字符!"}]},remark:{rules:[{max:255,message:"输入长度不能超过255字符!"}]}}}},created:function(){},methods:{edit:function(e){var t=this;this.visible=!0,this.form.resetFields(),this.model=Object.assign({},e),Object(l["e"])(this.model.fileTags)||(this.tags=this.model.fileTags.split(",")),this.$nextTick((function(){t.form.setFieldsValue({name:t.model.name,remark:t.model.remark})}))},handleOk:function(){var e=this,t=this;t.form.validateFields((function(a,n){if(!a){if(t.tags.length>10)return void t.$message.warn("最多只能添加10个标签！");t.confirmLoading=!0;var r=Object.assign(t.model,n,{fileTags:t.tags.length>0?t.tags.join(","):""});Object(i["hb"])(r).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()})),e.visible=!1}}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1,this.tags=[]},handleClose:function(e){var t=this.tags.filter((function(t){return t!==e}));this.tags=t},showInput:function(){this.inputVisible=!0,this.$nextTick((function(){this.$refs.input.focus()}))},handleInputChange:function(e){this.inputValue=e.target.value},handleInputConfirm:function(){var e=this.inputValue,t=this.tags;e&&-1===t.indexOf(e)&&(t=[].concat(s(t),[e])),Object.assign(this,{tags:t,inputVisible:!1,inputValue:""})}}},p=f,h=a("2877"),g=Object(h["a"])(p,n,r,!1,null,null,null);t["default"]=g.exports}}]);