(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-098a578d","chunk-3fd617bb"],{"54f6":function(e,t,a){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function l(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}a.d(t,"a",(function(){return c}));var c=function(){function e(t,a){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,e),this.options={attrs:[]},Object.assign(this.options,i),this.options.attrs.find((function(e){return"edit"===e.key}))||this.options.attrs.push({key:"edit"}),this.options.attrs.forEach((function(e){Object.hasOwnProperty.call(e,"key")&&(r[e.key]=!1),Object.hasOwnProperty.call(e,"judge")||(e["judge"]=function(e){return!0})})),this.del=!1,this.nextTick=t.$nextTick,this.refs=t.$refs,this.refName=a,t.$nextTick((function(){r.vxeTable=t.$refs[a]}))}return l(e,[{key:"editRow",get:function(){if(this.edit){var e=this.vxeTable.getCheckboxRecords();return e.length?e[0]:{}}return{}}},{key:"update",value:function(){var e=this;this.nextTick((function(){e.vxeTable||(e.vxeTable=e.refs[e.refName]);var t=e.vxeTable.getCheckboxRecords();e.del=t.length>0,e.options.attrs.forEach((function(a){for(var r in a)Object.hasOwnProperty.call(a,r)&&(a["isDel"]?t.length?e[a.key]=t.length>0&&a.judge(t[0]):e[a.key]=!1:t.length?e[a.key]=1===t.length&&a.judge(t[0]):e[a.key]=!1)}))}))}}])}()},"7f5a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{id:"leftQuality"}},[t("div",{staticClass:"typeTitle"},[t("a-icon",{staticStyle:{"margin-right":"4px"},attrs:{type:"read"}}),e._v(" 系统分类 ")],1),t("div",{staticClass:"table-page-search-wrapper",staticStyle:{"margin-top":"2px"}},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"车型"}},[t("j-dict-select-tag",{attrs:{placeholder:"请选择车型",dictCode:"bu_train_type,name,id"},model:{value:e.trainTypeId,callback:function(t){e.trainTypeId=t},expression:"trainTypeId"}})],1)],1),t("a-col",{attrs:{md:24,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[t("a-input",{attrs:{placeholder:"名称或编码",allowClear:""},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1)],1)],1),t("a-row",[t("a-form-item",[t("a-button",{attrs:{type:"primary",block:""},on:{click:e.onSearch}},[e._v("搜索")])],1)],1)],1)],1),e.treeLoad?t("div",{staticStyle:{width:"80%",margin:"0 auto"}},[e.selectTreeNode.length?t("a-tree",{attrs:{"tree-data":e.selectTreeNode,replaceFields:{title:"name",key:"id"},"load-data":e.loadSelectNodeMethod},on:{select:e.onSelect}}):e._e()],1):e._e()])},n=[],i=a("8fad"),l=a("ca00");function o(e){return d(e)||u(e)||c(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return f(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var m={name:"LeftSupplier",data:function(){return{searchName:"",treeData:[],dataList:[],selectTreeNode:[],autoExpandParent:!0,expandedKeys:[],treeLoad:!0,titleTree:{title:"title"},searchValue:"",trainTypeId:"",labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}}},watch:{trainTypeId:{immediate:!1,handler:function(e){this.selectTree(e)}}},methods:{loadSelectNodeMethod:function(e){var t=this,a={trainTypeId:this.trainTypeId,id:e.dataRef.id};return new Promise((function(r){Object(i["gd"])(a).then((function(a){a.success?(e.dataRef.children=a.result,e.dataRef.children.map((function(e){e.isLeaf=!e.hasChildren})),t.selectTreeNode=o(t.selectTreeNode)):t.$message.warning(a.message)})),r()}))},selectTree:function(e){var t=this;Object(i["gd"])({trainTypeId:e}).then((function(e){e.success&&(t.selectTreeNode=e.result)}))},onSearch:function(){var e=this,t={trainTypeId:this.trainTypeId,searchText:this.searchName};Object(i["gd"])(t).then((function(t){t.success&&(e.loading=!1,e.selectTreeNode=[],e.selectTreeNode=t.result,Object(l["e"])(e.searchName)?(e.treeLoad=!1,e.$nextTick((function(){e.treeLoad=!0}))):e.selectTreeNode.map((function(e){e.isLeaf=!0})))}))},onSelect:function(e,t){this.selectedKeys=e,this.$emit("input",this.selectedKeys[0])}}},h=m,p=(a("bd4f"),a("2877")),g=Object(p["a"])(h,r,n,!1,null,null,null);t["default"]=g.exports},b1ba:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-row",{attrs:{type:"flex",gutter:16}},[t("a-col",{attrs:{md:4,sm:24}},[t("left-supplier",{model:{value:e.objTypeId,callback:function(t){e.objTypeId=t},expression:"objTypeId"}})],1),t("a-col",{attrs:{md:20,sm:24}},[t("right-supplier",{model:{value:e.objTypeId,callback:function(t){e.objTypeId=t},expression:"objTypeId"}})],1)],1)},n=[],i=a("7f5a"),l=a("d24c"),o={name:"SupplierMain",components:{LeftSupplier:i["default"],RightSupplier:l["default"]},data:function(){return{objTypeId:""}}},s=o,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,"84745352",null);t["default"]=u.exports},bd4f:function(e,t,a){"use strict";a("c980")},c980:function(e,t,a){},d24c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{"body-style":e.cardStyle}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"名称"}},[t("a-input",{attrs:{placeholder:"请输入名称",allowClear:""},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"修程类型"}},[t("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_repair_program,name,id"},model:{value:e.queryParam.repairProgramId,callback:function(t){e.$set(e.queryParam,"repairProgramId",t)},expression:"queryParam.repairProgramId"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"所属线路"}},[t("line-select-list",{model:{value:e.queryParam.lineId,callback:function(t){e.$set(e.queryParam,"lineId",t)},expression:"queryParam.lineId"}})],1)],1),t("a-col",{attrs:{md:4,sm:24}},[t("a-form-item",{attrs:{label:"状态"}},[t("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_effective"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}})],1)],1),t("a-col",{attrs:{md:2,sm:8}},[t("a-button",{on:{click:e.findList}},[e._v("查询")])],1),t("a-col",{attrs:{md:24,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-space",[t("a-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),t("a-button",{attrs:{disabled:!e.btnStatus.edit},on:{click:e.handleEdit}},[e._v("编辑")]),t("a-button",{attrs:{disabled:!e.btnStatus.del},on:{click:e.deleteRecord}},[e._v("删除")])],1)],1)])],1)],1)],1),t("div",{staticStyle:{height:"calc(100vh - 285px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 285px)"},attrs:{border:"","max-height":"100%",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}},on:{"checkbox-change":e.rowSelectChange,"checkbox-all":function(t){return e.btnStatus.update()}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40",fixed:"left"}}),t("vxe-table-column",{attrs:{field:"name",title:"厂商名称",fixed:"left","header-align":"center",align:"left",width:"180"}}),t("vxe-table-column",{attrs:{field:"shortName",title:"厂商简称","header-align":"center",align:"left",width:"180"}}),t("vxe-table-column",{attrs:{field:"category_dictText",title:"厂商类别",width:"8%"}}),t("vxe-table-column",{attrs:{field:"repairProgramName",title:"所属修程","header-align":"center",width:"140"}}),t("vxe-table-column",{attrs:{field:"lineName",title:"所属线路",width:"8%"}}),t("vxe-table-column",{attrs:{field:"contactName",title:"联系人员",align:"left","header-align":"center",width:"8%"}}),t("vxe-table-column",{attrs:{field:"contactPhone",title:"联系电话",width:"15%","header-align":"center",align:"left"}}),t("vxe-table-column",{attrs:{field:"email",title:"邮箱",width:"18%","header-align":"center",align:"left"}}),t("vxe-table-column",{attrs:{field:"address",title:"地址",width:"18%","header-align":"center",align:"left"}}),t("vxe-table-column",{attrs:{field:"appraise",title:"评分",width:"8%","header-align":"center",align:"right"}}),t("vxe-table-column",{attrs:{field:"status_dictText",title:"状态",width:"8%"}}),t("vxe-table-column",{attrs:{field:"remarks",title:"备注",width:"25%","header-align":"center",align:"left"}})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1),t("supplier-item-module",{ref:"modalForm",attrs:{assetId:e.value},on:{ok:function(t){return e.loadData()}}})],1)},n=[],i=a("8829"),l=a("d214"),o=a("5633"),s=a("54f6"),c={name:"RightSupplierPage",components:{SupplierItemModule:i["default"],LineSelectList:o["default"]},props:["value"],data:function(){return{btnStatus:new s["a"](this,"listTable",{}),queryParam:{category:null,name:"",objTypeId:"",status:null,lineId:"",repairProgramId:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],showEdit:!1,cardStyle:{padding:"10px",height:"calc(100vh - 110px)"}}},created:function(){this.findList()},watch:{value:{immediate:!0,handler:function(e){this.queryParam.objTypeId=e,this.tableData=[],this.findList()}}},methods:{rowSelectChange:function(){this.btnStatus.update()},findList:function(){var e=this;Object(l["eb"])(this.queryParam).then((function(t){e.totalResult=t.result.total,e.loading=!1,e.tableData=t.result.records}))},handlePageChange:function(e){var t=e.currentPage,a=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=a,this.findList()},loadData:function(){this.findList(),this.$emit("load")},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增"},handleEdit:function(){var e=this.$refs.listTable.getCheckboxRecords();1==e.length?(this.$refs.modalForm.edit(e[0]),this.$refs.modalForm.title="编辑"):this.$message.error("请选中一项数据!")},saveFile:function(e){var t=this;importWarehouse(e).then((function(e){e.success?t.$message.success(e.message):t.$message.error(e.message)}))},getSelectEvent:function(){var e=this.$refs.listTable.getCheckboxRecords();this.$XModal.alert(e.length)},deleteRecord:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否删除选中".concat(t.length,"数据？"),onOk:function(){var a=t.map((function(e,t){return e.id})).join(",");Object(l["r"])("ids="+a).then((function(t){e.findList(),e.$message.success(t.message)}))}}):this.$message.error("尚未选中任何数据!")}}},u=c,d=a("2877"),f=Object(d["a"])(u,r,n,!1,null,"901498f6",null);t["default"]=f.exports}}]);