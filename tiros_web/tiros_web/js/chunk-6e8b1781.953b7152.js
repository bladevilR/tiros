(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e8b1781"],{"14d0":function(e,t,i){"use strict";i("de37")},de37:function(e,t,i){},e42a:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("a-modal",{attrs:{title:"车辆设备选择",width:"80%",bodyStyle:{height:"60vh"},visible:e.visible,confirmLoading:e.confirmLoading,closable:!0,destroyOnClose:!0},on:{ok:e.handleOk,cancel:e.close}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"名称"}},[t("a-input",{attrs:{placeholder:"名称或编码"},model:{value:e.queryParam.title,callback:function(t){e.$set(e.queryParam,"title",t)},expression:"queryParam.title"}})],1)],1),t("a-col",{attrs:{md:10,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-space",[t("a-button",{on:{click:e.searchQuery}},[e._v("查询")])],1)],1)])],1)],1)],1),t("div",{staticClass:"tableHeight"},[t("vxe-table",{ref:"listTable",attrs:{border:"",resizable:"","row-id":"id",align:e.allAlign,height:"auto",data:e.tableData,"show-overflow":"tooltip","max-height":"100%","radio-config":{trigger:e.multiple?"default":"row",highlight:!0,checkMethod:e.checkRadioMethod},"checkbox-config":{trigger:e.multiple?"row":"default",highlight:!0,checkStrictly:!0,checkMethod:e.checkRadioMethod},"tree-config":{lazy:!0,children:"children",hasChild:"hasChildren",loadMethod:e.loadChildrenMethod}}},[e.multiple?t("vxe-table-column",{attrs:{type:"checkbox",width:"40",fixed:"left"}}):t("vxe-table-column",{attrs:{type:"radio",width:"40",fixed:"left"}}),t("vxe-table-column",{attrs:{field:"assetName",title:"名称","tree-node":"",align:"left","header-align":"center"}}),t("vxe-table-column",{attrs:{align:"left","header-align":"center",field:"assetNo",title:"编码",width:"12%"}}),t("vxe-table-column",{attrs:{field:"status_dictText",title:"状态",width:"100"}}),t("vxe-table-column",{attrs:{field:"structType_dictText",title:"类型",width:"10%"}}),t("vxe-table-column",{attrs:{field:"assetTypeName",title:"设备类型",width:"13%",align:"left","header-align":"center"}})],1)],1)])],1)},l=[],r=i("8fad"),n={props:{multiple:{type:Boolean,default:!0},trainNo:{required:!0},canSelectType:{type:Array,default:function(){return[1,2,3,4]}}},data:function(){return{allAlign:"center",tableData:[],visible:!1,confirmLoading:!1,queryParam:{code:"",title:""}}},created:function(){},methods:{checkRadioMethod:function(e){var t=e.row;return this.canSelectType.indexOf(t.structType)>-1},searchQuery:function(){this.findList()},loadChildrenMethod:function(e){var t=this,i=e.row,a={code:this.trainNo,id:i.id,searchText:this.queryParam.searchText};return new Promise((function(e){Object(r["ic"])(a).then((function(i){i.success?e(i.result):t.$message.error("".concat(i.msg))}))}))},handleOk:function(){var e=[];this.multiple?e=this.$refs.listTable.getCheckboxRecords():this.$refs.listTable.getRadioRecord()&&e.push(this.$refs.listTable.getRadioRecord()),this.$emit("ok",e),this.visible=!1},showModal:function(){this.visible=!0,this.queryParam.code=this.trainNo,this.findList()},close:function(){this.visible=!1},findList:function(){var e=this;this.loading=!0,Object(r["ic"])(this.queryParam).then((function(t){t.success&&(e.loading=!1,e.tableData=t.result)}))}}},s=n,o=(i("14d0"),i("2877")),c=Object(o["a"])(s,a,l,!1,null,"0f6e3f94",null);t["default"]=c.exports}}]);