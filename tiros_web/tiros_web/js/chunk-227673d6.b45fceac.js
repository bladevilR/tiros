(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-227673d6"],{3393:function(t,e,a){"use strict";a("c9d5")},6105:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"MonitorContent"}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findList.apply(null,arguments)}}},[e("a-row",{attrs:{gutter:24,type:"flex"}},[e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"日期范围:"}},[e("a-range-picker",{attrs:{placeholder:["开始月份","结束月份"],format:"YYYY-MM",value:t.monthVal,mode:t.mode},on:{panelChange:t.handlePanelMonthChange}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-space",[e("a-button",{on:{click:t.findList}},[t._v("查询")]),e("a-button",{attrs:{loading:t.exportLoading},on:{click:t.exportLoginStatisticEXFile}},[t._v("导出")])],1)],1)])],1)],1)],1),e("div",{staticClass:"info-wrapper info-top-wrapper",staticStyle:{"margin-top":"18px"}},[e("h4",[t._v("系统访问统计")]),e("vxe-table",{ref:"listTable",attrs:{border:"",resizable:"","auto-resize":"",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"},"checkbox-config":{trigger:"row",highlight:!0,range:!0}}},[e("vxe-table-column",{attrs:{field:"year",title:"年",width:"100"}}),e("vxe-table-column",{attrs:{field:"month",title:"月",width:"100"}}),e("vxe-table-column",{attrs:{field:"weekOfMonth",title:"周",width:"100"}}),e("vxe-table-column",{attrs:{field:"dateRange",title:"日期范围","min-width":"300",align:"left","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"userCount",title:"用户数",width:"100"}}),e("vxe-table-column",{attrs:{field:"loginCount",title:"登录次数",width:"100"}}),e("vxe-table-column",{attrs:{field:"useTimeCount",title:"使用次数",width:"100"}})],1)],1)])},i=[],o=a("4ec3"),r={name:"LoginStatistic",components:{},data:function(){return{mode:["month","month"],monthVal:[this.$moment(new Date).format("YYYY-MM"),this.$moment(new Date).format("YYYY-MM")],queryParam:{startMonth:"",endMonth:""},tableData:[],allAlign:"center",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:19}},exportLoading:!1}},created:function(){this.findList()},watch:{},methods:{handlePanelMonthChange:function(t,e){this.monthVal=t,this.queryParam.startMonth=this.$moment(this.monthVal[0]).format("YYYY-MM"),this.queryParam.endMonth=this.$moment(this.monthVal[1]).format("YYYY-MM")},findList:function(){var t=this;this.queryParam.startMonth||(this.queryParam.startMonth=this.$moment(new Date).format("YYYY-MM")),this.queryParam.endMonth||(this.queryParam.endMonth=this.$moment(new Date).format("YYYY-MM")),Object(o["F"])(this.queryParam).then((function(e){e.success&&(t.loading=!1,t.tableData=e.result)}))},exportLoginStatisticEXFile:function(){var t=this;this.queryParam.startMonth||(this.queryParam.startMonth=this.$moment(new Date).format("YYYY-MM")),this.queryParam.endMonth||(this.queryParam.endMonth=this.$moment(new Date).format("YYYY-MM")),this.exportLoading=!0,Object(o["s"])(this.queryParam).then((function(e){if(e){if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e],{type:"application/vnd.ms-excel"}),fileName+".xls");else{var a=window.URL.createObjectURL(new Blob([e],{type:"application/vnd.ms-excel"})),n=document.createElement("a");n.style.display="none",n.href=a,n.setAttribute("download","架大修系统访问统计.xls"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a)}t.exportLoading=!1}else t.$message.warning("文件下载失败")})).catch((function(e){t.exportLoading=!1}))}},computed:{}},l=r,s=(a("3393"),a("2877")),m=Object(s["a"])(l,n,i,!1,null,"17307c8b",null);e["default"]=m.exports},c9d5:function(t,e,a){}}]);