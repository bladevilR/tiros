(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-524e071e","chunk-3345997a"],{a6df:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:800,visible:t.visible,confirmLoading:t.confirmLoading,centered:"",cancelText:"关闭",destroyOnClose:!0},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("a-form-model",{ref:"outPartForm",attrs:{model:t.modalInfo,rules:t.modalRules,"label-col":{span:5},"wrapper-col":{span:18}}},[e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"线路",prop:"lineId"}},[e("j-dict-select-tag",{attrs:{disabled:"",triggerChange:!0,dictCode:"bu_mtr_line,line_name,line_id"},on:{change:t.onLineChange},model:{value:t.modalInfo.lineId,callback:function(e){t.$set(t.modalInfo,"lineId",e)},expression:"modalInfo.lineId"}})],1),e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"车号",prop:"trainNo"}},[e("j-dict-select-seach-tag",{attrs:{disabled:"",triggerChange:!0,dictCode:t.dictTrainStr},model:{value:t.modalInfo.trainNo,callback:function(e){t.$set(t.modalInfo,"trainNo",e)},expression:"modalInfo.trainNo"}})],1),e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"设备选择",prop:"turnoverAssetId"}},[e("div",{on:{click:t.selectAsset}},[e("a-select",{ref:"assetSelect",attrs:{placeholder:"请选择送修设备","allow-clear":"",open:!1,showArrow:!0},model:{value:t.modalInfo.assetName,callback:function(e){t.$set(t.modalInfo,"assetName",e)},expression:"modalInfo.assetName"}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"ellipsis"},slot:"suffixIcon"})],1)],1)]),e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"外观状态",prop:"facadeStatus"}},[e("a-select",{model:{value:t.modalInfo.facadeStatus,callback:function(e){t.$set(t.modalInfo,"facadeStatus",e)},expression:"modalInfo.facadeStatus"}},[e("a-select-option",{attrs:{value:"0"}},[t._v(" 无问题 ")]),e("a-select-option",{attrs:{value:"1"}},[t._v(" 有问题 ")])],1)],1),"1"===t.modalInfo.facadeStatus?e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"外观描述",prop:"facadeDesc"}},[e("a-input",{model:{value:t.modalInfo.facadeDesc,callback:function(e){t.$set(t.modalInfo,"facadeDesc",e)},expression:"modalInfo.facadeDesc"}})],1):t._e(),e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"工装状态",prop:"mixtoolStatus"}},[e("a-select",{model:{value:t.modalInfo.mixtoolStatus,callback:function(e){t.$set(t.modalInfo,"mixtoolStatus",e)},expression:"modalInfo.mixtoolStatus"}},[e("a-select-option",{attrs:{value:"0"}},[t._v(" 无问题 ")]),e("a-select-option",{attrs:{value:"1"}},[t._v(" 有问题 ")])],1)],1),"1"===t.modalInfo.mixtoolStatus?e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"工装描述",prop:"mixtoolDesc"}},[e("a-input",{model:{value:t.modalInfo.mixtoolDesc,callback:function(e){t.$set(t.modalInfo,"mixtoolDesc",e)},expression:"modalInfo.mixtoolDesc"}})],1):t._e(),e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"备注",prop:"remark"}},[e("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:6},placeholder:"请输入备注信息"},model:{value:t.modalInfo.remark,callback:function(e){t.$set(t.modalInfo,"remark",e)},expression:"modalInfo.remark"}})],1)],1)],1),e("out-asset-list",{ref:"assetSelectModal",on:{ok:t.onSelectAsset}})],1)},n=[],a=o("ca00"),i=o("a821"),u={name:"OutPartModal",components:{OutAssetList:i["default"]},props:{title:{type:String,default:"部件添加"},lineId:{type:String,default:""},trainNo:{type:String,default:""},existAssets:{type:Array,default:function(){return[]}}},data:function(){return{visible:!1,confirmLoading:!1,modalInfo:{turnoverAssetId:"",facadeStatus:"0",mixtoolStatus:"0",fault:"0",remark:""},modalRules:{turnoverAssetId:[{required:!0,message:"请选择部件"}],facadeStatus:[{required:!0,message:"请选择外观状态"}],mixtoolStatus:[{required:!0,message:"请选择工装状态"}]},dictTrainStr:"",structureId:"",labelCol:{span:3},wrapperCol:{span:20}}},methods:{showModal:function(t){this.structureId=t,this.visible=!0,this.modalInfo.lineId=this.lineId,this.lineId&&(this.dictTrainStr="bu_train_info,train_no,id,line_id="+this.lineId),this.modalInfo.trainNo=this.trainNo,this.modalInfo.assetName="",this.modalInfo.turnoverAssetId="",this.modalInfo.remark=""},onLineChange:function(t,e){this.dictTrainStr=e?"bu_train_info,train_no,id,line_id="+e.value:""},handleOk:function(){var t=this;this.$refs.outPartForm.validate((function(e){if(e){if(t.checkAssetIsExist(t.modalInfo.turnoverAssetId))return void t.$message.warning("你选择的设备已经存在委外设备列表中,不能重复添加");t.$emit("ok",t.modalInfo),t.close()}}))},checkAssetIsExist:function(t){var e=this.existAssets.filter((function(e){return e.turnoverAssetId===t}));return e.length>0},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1},selectAsset:function(){this.$refs.assetSelectModal.showModal(this.modalInfo.trainNo),this.$refs.assetSelect.blur()},onSelectAsset:function(t){if(t&&t.length>0){var e=t[0];this.modalInfo.id=Object(a["p"])(),this.modalInfo.outinId="",this.modalInfo.assetNo=e.assetNo,this.modalInfo.assetName=e.assetName,this.modalInfo.amount=e.amount,this.modalInfo.assetTypeId=e.assetTypeId,this.modalInfo.assetTypeName=e.assetTypeName,this.modalInfo.trainNo=e.trainNo,this.modalInfo.turnoverAssetId=e.turnoverAssetId,this.modalInfo.facadeStatus=e.facadeStatus,this.modalInfo.facadeStatus_dictText="1"===this.modalInfo.facadeStatus?"有问题":"无问题",this.modalInfo.facadeDesc=e.facadeDesc,this.modalInfo.mixtoolStatus=e.mixtoolStatus,this.modalInfo.mixtoolStatus_dictText="1"===this.modalInfo.mixtoolStatus?"有问题":"无问题",this.modalInfo.mixtoolDesc=e.mixtoolDesc,this.modalInfo.fault=e.fault,this.modalInfo.fault_dictText="1"===this.modalInfo.fault?"是":"否",this.modalInfo.returnStatus=1,this.modalInfo.returnStatus_dictText="是",this.modalInfo.returnTime=e.returnTime,this.modalInfo.delayReason=e.delayReason,this.modalInfo.remark=e.remark,this.modalInfo.outDetailId=e.outDetailId,this.modalInfo.qualityDate=e.qualityDate,this.modalInfo.qualityDay=e.qualityDay,this.$forceUpdate()}}}},l=u,c=o("2877"),s=Object(c["a"])(l,r,n,!1,null,"411b84f8",null);e["default"]=s.exports},a821:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{width:"90%",title:"委外设备选择",visible:t.visible,confirmLoading:t.loading,cancelText:"关闭",destroyOnClose:!0,centered:"",bodyStyle:{height:"80vh"}},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findList.apply(null,arguments)}}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:7,sm:24}},[e("a-form-item",{attrs:{label:"设备名称"}},[e("a-input",{attrs:{placeholder:"请输入工器具名称或编码",allowClear:""},model:{value:t.queryParam.assetName,callback:function(e){t.$set(t.queryParam,"assetName",e)},expression:"queryParam.assetName"}})],1)],1),e("a-col",{attrs:{md:3,sm:8}},[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)],1)],1)],1),e("div",{staticStyle:{height:"calc(80vh - 130px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(80vh - 130px)"},attrs:{border:"","max-height":"100%",align:t.allAlign,data:t.tableData,"show-overflow":"ellipsis","radio-config":t.multiple?{}:{trigger:"row"},"checkbox-config":t.multiple?{trigger:"row",highlight:!0,range:!0}:{},"edit-config":{trigger:"click",mode:"cell",showIcon:"true"}}},[t.multiple?e("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}):e("vxe-table-column",{attrs:{type:"radio",width:"40"}}),e("vxe-table-column",{attrs:{field:"assetNo",title:"部件编号"}}),e("vxe-table-column",{attrs:{field:"assetName",title:"部件名称"}}),e("vxe-table-column",{attrs:{field:"lineName",title:"所属线路"}}),e("vxe-table-column",{attrs:{field:"trainNo",title:"所属车辆"}}),e("vxe-table-column",{attrs:{field:"outinNo",title:"出厂单编号"}}),e("vxe-table-column",{attrs:{field:"outinName",title:"出厂单编号"}}),e("vxe-table-column",{attrs:{field:"transferDate",title:"移交日期"}}),e("vxe-table-column",{attrs:{field:"contractNo",title:"所属合同编号"}}),e("vxe-table-column",{attrs:{field:"contractName",title:"所属合同名称"}}),e("vxe-table-column",{attrs:{field:"remark",title:"出厂备注"}})],1)],1)])},n=[],a=o("b9c3"),i={name:"OutAssetList",props:{multiple:{type:Boolean,default:!1}},data:function(){return{visible:!1,loading:!1,queryParam:{assetTypeId:"",trainNo:"",assetName:""},allAlign:"center",totalResult:0,tableData:[]}},methods:{showModal:function(t){this.queryParam.trainNo=t,this.visible=!0,this.findList()},findList:function(){var t=this;this.loading=!0,Object(a["y"])(this.queryParam).then((function(e){e.success?(t.loading=!1,t.tableData=e.result):t.$message.error("查询设备失败")}))},handleOk:function(){var t=[];this.multiple?t=this.$refs.listTable.getCheckboxRecords():this.$refs.listTable.getRadioRecord()&&t.push(this.$refs.listTable.getRadioRecord()),this.$emit("ok",t),this.visible=!1},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},u=i,l=o("2877"),c=Object(l["a"])(u,r,n,!1,null,"2cc8c558",null);e["default"]=c.exports},b9c3:function(t,e,o){"use strict";o.d(e,"lb",(function(){return i})),o.d(e,"f",(function(){return u})),o.d(e,"i",(function(){return l})),o.d(e,"v",(function(){return c})),o.d(e,"b",(function(){return f})),o.d(e,"l",(function(){return m})),o.d(e,"p",(function(){return p})),o.d(e,"G",(function(){return b})),o.d(e,"c",(function(){return d})),o.d(e,"B",(function(){return g})),o.d(e,"k",(function(){return w})),o.d(e,"A",(function(){return k})),o.d(e,"x",(function(){return j})),o.d(e,"g",(function(){return I})),o.d(e,"E",(function(){return O})),o.d(e,"C",(function(){return v})),o.d(e,"M",(function(){return y})),o.d(e,"kb",(function(){return S})),o.d(e,"O",(function(){return C})),o.d(e,"N",(function(){return N})),o.d(e,"jb",(function(){return G})),o.d(e,"t",(function(){return D})),o.d(e,"d",(function(){return A})),o.d(e,"W",(function(){return T})),o.d(e,"X",(function(){return $})),o.d(e,"e",(function(){return q})),o.d(e,"o",(function(){return P})),o.d(e,"V",(function(){return E})),o.d(e,"R",(function(){return J})),o.d(e,"Q",(function(){return F})),o.d(e,"K",(function(){return Q})),o.d(e,"L",(function(){return H})),o.d(e,"fb",(function(){return gt})),o.d(e,"bb",(function(){return V})),o.d(e,"Y",(function(){return W})),o.d(e,"J",(function(){return X})),o.d(e,"hb",(function(){return at})),o.d(e,"U",(function(){return it})),o.d(e,"eb",(function(){return Y})),o.d(e,"cb",(function(){return Z})),o.d(e,"a",(function(){return tt})),o.d(e,"j",(function(){return st})),o.d(e,"nb",(function(){return dt})),o.d(e,"gb",(function(){return ft})),o.d(e,"m",(function(){return mt})),o.d(e,"H",(function(){return kt})),o.d(e,"T",(function(){return z})),o.d(e,"S",(function(){return L})),o.d(e,"mb",(function(){return M})),o.d(e,"z",(function(){return pt})),o.d(e,"db",(function(){return bt})),o.d(e,"y",(function(){return ht})),o.d(e,"u",(function(){return s})),o.d(e,"F",(function(){return h})),o.d(e,"ob",(function(){return _})),o.d(e,"q",(function(){return R})),o.d(e,"D",(function(){return x})),o.d(e,"ib",(function(){return et})),o.d(e,"n",(function(){return ot})),o.d(e,"I",(function(){return K})),o.d(e,"P",(function(){return U})),o.d(e,"s",(function(){return ut})),o.d(e,"Z",(function(){return lt})),o.d(e,"ab",(function(){return ct})),o.d(e,"h",(function(){return rt})),o.d(e,"w",(function(){return nt})),o.d(e,"r",(function(){return B}));var r=o("0fea"),n=o("4328"),a=o.n(n),i=function(t){return Object(r["j"])("/group/fault/info/submit",t)},u=function(t){return Object(r["j"])("/group/fault/info/cancel",t)},l=function(t){return Object(r["j"])("/group/fault/info/delete",t)},c=function(t){return Object(r["d"])("/group/fault/info/page",t)},s=function(t){return Object(r["d"])("/group/fault/info/get",t)},d=function(t){return Object(r["j"])("/group/safeassume/read/add",t)},f=function(t){return Object(r["j"])("/group/safeassume/add",t)},m=function(t){return Object(r["j"])("/group/safeassume/delete",t)},p=function(t){return Object(r["j"])("/group/safeassume/edit",t)},b=function(t){return Object(r["d"])("/group/safeassume/page",t)},h=function(t){return Object(r["d"])("/group/safeassume/get",t)},g=function(t){return Object(r["d"])("/group/turnoverchange/page",t)},k=function(t){return Object(r["d"])("/material/spare-part/get",t)},w=function(t){return Object(r["j"])("/group/turnoverchange/delete",t)},j=function(t){return Object(r["d"])("/group/measurealert/page",t)},I=function(t){return Object(r["j"])("/group/measurealert/close",t)},O=function(t){return Object(r["d"])("/group/spare-part/page",t)},v=function(t){return Object(r["d"])("/group/spare-part/get",t)},x=function(t){return Object(r["d"])("/produce/train/history/asset/use/page",t)},y=function(t){return Object(r["d"])("/group/toolequipment/page",t)},S=function(t){return Object(r["j"])("/group/toolequipment/setStatus",t)},R=function(t){return Object(r["d"])("/group/toolequipment/usage",t)},C=function(t){return Object(r["d"])("/group/tool/page",t)},N=function(t){return Object(r["d"])("/group/tool/get",t)},G=function(t){return Object(r["j"])("/group/tool/setDutyUser",t)},_=function(t){return Object(r["d"])("/group/tool/usage",t)},D=function(t){return Object(r["d"])("/group/information/basic",t)},A=function(t){return Object(r["j"])("/group/information/tools/add",t)},T=function(t){return Object(r["d"])("/group/information/workstation/page-related",t)},$=function(t){return Object(r["d"])("/group/information/workstation/page-unrelated",t)},q=function(t){return Object(r["j"])("/group/information/workstation/add",t)},P=function(t){return Object(r["j"])("/group/information/workstation/delete",t)},L=function(t){return Object(r["d"])("/workGroup/workOrder/relevanceInfo/".concat(t))},M=function(t){return Object(r["j"])("/workGroup/workOrder/submit-to-dispatcher",a.a.stringify(t))},E=function(t){return Object(r["d"])("/workGroup/workRecord/list",t)},F=function(t){return Object(r["d"])("/serialPlan/plan/forms/online-form/get",t)},J=function(t){return Object(r["d"])("/serialPlan/plan/forms/work-record/get",t)},U=function(t){return Object(r["d"])("/serialPlan/plan/forms/check-record/get",t)},z=function(t){return Object(r["d"])("/workGroup/workOrder/page",t)},B=function(t){return Object(r["d"])("/workGroup/workOrder/apply/page",t)},Q=function(t){return Object(r["d"])("/workGroup/workRecord/recordForm",t)},H=function(t){return Object(r["d"])("/workGroup/workRecord/relevanceInfo/".concat(t))},K=function(t){return Object(r["d"])("/workGroup/workRecord/relevanceInfo/bookSteps/".concat(t))},V=function(t){return Object(r["j"])("/workGroup/workRecord/save/form-result",t)},W=function(t){return Object(r["j"])("/workGroup/workRecord/check",t)},X=function(t){return Object(r["j"])("/workGroup/workRecord/getTaskQRCode",t)},Y=function(t){return Object(r["j"])("/workGroup/workRecord/work-record/save-manufNo",a.a.stringify(t))},Z=function(t){return Object(r["j"])("/workGroup/workRecord/save/material",t)},tt=function(t){return Object(r["j"])("/workGroup/workRecord/save/actMaterial",t)},et=function(t){return Object(r["j"])("/workGroup/workRecord/save/work-time",t)},ot=function(t){return Object(r["j"])("/workGroup/workRecord/arrange/delete",t)},rt=function(t){return Object(r["j"])("/workGroup/workOrder/material/commit-temp-apply",t)},nt=function(t){return Object(r["d"])("/workGroup/workOrder/material/apply/list",t)},at=function(t){return Object(r["j"])("/workGroup/workRecord/check/saveExcelData",t)},it=function(t){return Object(r["d"])("/workGroup/workRecord/get/excelData/".concat(t))},ut=function(t){return Object(r["d"])("/serialPlan/plan/forms/check-record/item/list",t)},lt=function(t){return Object(r["j"])("/workGroup/workRecord/check-record/set-check",t)},ct=function(t){return Object(r["j"])("/workGroup/workRecord/check-record/set-time",t)},st=function(t){return Object(r["j"])("/workGroup/workRecord/delete/material",a.a.stringify(t))},dt=function(t){return Object(r["j"])("/workGroup/workRecord/submit-task",t)},ft=function(t){return Object(r["j"])("/workGroup/workRecord/save/tool",t)},mt=function(t){return Object(r["j"])("/workGroup/workRecord/delete/tool",a.a.stringify(t))},pt=function(t){return Object(r["d"])("/workGroup/workRecord/outsourceOutin",t)},bt=function(t){return Object(r["j"])("/workGroup/workRecord/save/outsourceOutin",t)},ht=function(t){return Object(r["d"])("/workGroup/workRecord/outin/not-returns",t)},gt=function(t){return Object(r["j"])("/group/safeassume/read/add",a.a.stringify(t))},kt=function(t){return Object(r["d"])("/serialPlan/plan/page",t)}}}]);