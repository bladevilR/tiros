(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c4e3436","chunk-21797a02"],{"0c28":function(e,t,a){},2618:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:"1200px",visible:e.visible,centered:"",confirmLoading:e.confirmLoading,destroyOnClose:!0,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-form",{attrs:{form:e.form}},[t("div",{staticClass:"info-wrapper info-top-wrapper"},[t("h4",[e._v("基本信息")]),t("a-row",[t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属线路"}},[t("line-select-list",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineId",e.validatorRules.lineId],expression:"['lineId', validatorRules.lineId]"}]})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"车辆编码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["trainNo",e.validatorRules.trainNo],expression:"['trainNo', validatorRules.trainNo]"}],attrs:{maxLength:17,placeholder:"请输入车辆编码","allow-clear":""}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"停放股道"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["trackId",e.validatorRules.trackId],expression:"['trackId', validatorRules.trackId]"}],attrs:{triggerChange:!0,dictCode:"bu_mtr_track,name,id,status=1"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"编组数量"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["groupNum",e.validatorRules.groupNum],expression:"['groupNum', validatorRules.groupNum]"}],staticStyle:{width:"100%"},attrs:{min:0,max:127,precision:0}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"走行里程"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["mileage",e.validatorRules.mileage],expression:"['mileage', validatorRules.mileage]"}],staticStyle:{width:"78%"},attrs:{min:0,max:999999999999999,precision:2}}),e._v("  万公里 ")],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"投入状态"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",e.validatorRules.status],expression:"['status', validatorRules.status]"}],attrs:{triggerChange:!0,dictCode:"bu_train_status"}})],1)],1)],1)],1),t("div",{staticClass:"info-wrapper info-top-wrapper"},[t("h4",[e._v("其他信息")]),t("a-row",[t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属厂商"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["supplierName",e.validatorRules.supplierId],expression:"['supplierName', validatorRules.supplierId]"}],ref:"mySupplierSelect",attrs:{placeholder:"请选择厂商",open:!1,showArrow:!0},on:{focus:e.openSupplierModal}},[t("div",{attrs:{slot:"suffixIcon"},slot:"suffixIcon"},[e.supplierId?t("a-icon",{staticStyle:{"padding-right":"3px"},attrs:{type:"close-circle"},on:{click:function(t){return t.stopPropagation(),e.clearValue.apply(null,arguments)}}}):t("a-icon",{attrs:{type:"ellipsis"}})],1)])],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"合同编号"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractNo",e.validatorRules.contractNo],expression:"['contractNo', validatorRules.contractNo]"}],attrs:{placeholder:"请输入合同编码","allow-clear":"",maxLength:33}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"合同名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractName",e.validatorRules.contractName],expression:"['contractName', validatorRules.contractName]"}],attrs:{placeholder:"请输入合同名称","allow-clear":"",maxLength:33}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"制造日期"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["madeDate",e.validatorRules.madeDate],expression:"['madeDate', validatorRules.madeDate]"}],staticStyle:{width:"100%"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"购入日期"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["buyDate",e.validatorRules.buyDate],expression:"['buyDate', validatorRules.buyDate]"}],staticStyle:{width:"100%"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"投入日期"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["useDate",e.validatorRules.useDate],expression:"['useDate', validatorRules.useDate]"}],staticStyle:{width:"100%"}})],1)],1),t("a-col",{attrs:{span:8}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"质保日期"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["warrantyDate",e.validatorRules.warrantyDate],expression:"['warrantyDate', validatorRules.warrantyDate]"}],staticStyle:{width:"100%"}})],1)],1)],1)],1),t("supplier-list",{ref:"supplierModal",attrs:{multiple:!1},on:{ok:e.supplierSelect}})],1)],1)},i=[],l=a("c1df"),s=a.n(l),n=(a("5c3a"),a("8fad")),o=a("4ec3"),c=a("ca00"),d=a("5633"),u=a("769e"),m={name:"TrainItemModal",components:{LineSelectList:d["default"],SupplierList:u["default"]},data:function(){return{value:1,title:"操作",visibleCheck:!0,visible:!1,model:{},supplierName:"",supplierId:"",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{lineId:{rules:[{required:!0,message:"请选择所属线路!"}]},trainNo:{rules:[{required:!0,message:"请输入车辆编码!"},{validator:this.validateTrainNo},{max:16,message:"输入长度不能超过16字符!"}]},trackId:{rules:[{required:!1,message:"请选择停放股道!"}]},groupNum:{rules:[{required:!0,message:"请输入编组数量!"}]},mileage:{rules:[{required:!0,message:"请输入走行里程!"}]},status:{rules:[{required:!0,message:"请选择投入状态!"}]},supplierId:{rules:[]},contractNo:{rules:[{max:32,message:"输入长度不能超过32字符!"}]},contractName:{rules:[{max:32,message:"输入长度不能超过32字符!"}]},madeDate:{rules:[]},buyDate:{rules:[]},useDate:{rules:[]},warrantyDate:{rules:[]}}}},created:function(){},methods:{openSupplierModal:function(){this.$refs.supplierModal.showModal(),this.$refs.mySupplierSelect.blur()},supplierSelect:function(e){var t=this;Object(c["e"])(e)||(this.$nextTick((function(){t.form.setFieldsValue({supplierName:e[0].name})})),this.supplierId=e[0].id)},clearValue:function(){this.supplierId="",this.form.setFieldsValue({supplierName:""})},validateTrainNo:function(e,t,a){var r={tableName:"bu_train_info",fieldName:"train_no",fieldVal:t,dataId:this.model.id};Object(c["e"])(t)?a():Object(o["m"])(r).then((function(e){e.success?a():a(e.message)}))},moment:s.a,add:function(){this.edit({})},edit:function(e){var t=this;e.id?(this.visiblekey=!0,this.supplierId=e.supplierId):this.visiblekey=!1,this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue({lineId:t.model.lineId,trainNo:t.model.trainNo,trackId:t.model.trackId,groupNum:t.model.groupNum,mileage:t.model.mileage,status:t.model.status,supplierName:t.model.supplier,contractNo:t.model.contractNo,contractName:t.model.contractName,madeDate:t.model.madeDate?s()(t.model.madeDate,"YYYY-MM-DD"):"",buyDate:t.model.buyDate?s()(t.model.buyDate,"YYYY-MM-DD"):"",useDate:t.model.useDate?s()(t.model.useDate,"YYYY-MM-DD"):"",warrantyDate:t.model.warrantyDate?s()(t.model.warrantyDate,"YYYY-MM-DD"):""})}))},handleOk:function(){var e=this,t=this;t.form.validateFields((function(a,r){if(!a){t.confirmLoading=!0;var i,l=Object.assign(t.model,r,{madeDate:r.madeDate?s()(r.madeDate).format("YYYY-MM-DD"):"",buyDate:r.buyDate?s()(r.buyDate).format("YYYY-MM-DD"):"",useDate:r.useDate?s()(r.useDate).format("YYYY-MM-DD"):"",warrantyDate:r.warrantyDate?s()(r.warrantyDate).format("YYYY-MM-DD"):"",supplierId:e.supplierId});i=t.model.id?Object(n["gb"])(l):Object(n["n"])(l),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok"),t.close()):t.$message.error(e.message)})).finally((function(){t.confirmLoading=!1}))}}))},onChange:function(e){},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},p=m,h=(a("abcf"),a("2877")),f=Object(h["a"])(p,r,i,!1,null,"3da66082",null);t["default"]=f.exports},"3d54":function(e,t,a){"use strict";a("cc66")},"6c91":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bodyWrapper"},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findList.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"线路"}},[t("line-select-list",{model:{value:e.queryParam.lineId,callback:function(t){e.$set(e.queryParam,"lineId",t)},expression:"queryParam.lineId"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"编码"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"车辆编码",allowClear:""},model:{value:e.queryParam.trainNo,callback:function(t){e.$set(e.queryParam,"trainNo",t)},expression:"queryParam.trainNo"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"状态"}},[t("j-dict-select-tag",{attrs:{dictCode:"bu_train_status"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}})],1)],1)],1),t("a-row",[t("a-col",[t("span",{staticClass:"table-page-search-submitButtons"},[t("a-space",[t("a-button",{on:{click:e.findList}},[e._v("查询")]),t("a-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),t("a-button",{attrs:{disabled:1!=e.records.length},on:{click:function(t){return e.handleEdit(e.records[0])}}},[e._v("编辑")]),t("a-button",{attrs:{disabled:e.records.length<1},on:{click:e.deleteRecord}},[e._v("删除")]),t("a-button",{directives:[{name:"has",rawName:"v-has",value:"maximo:asset:init",expression:"'maximo:asset:init'"}],attrs:{loading:e.syncMaximoAssetLoading},on:{click:e.syncMaximo}},[e._v("同步maximo资产")]),1==e.records.length?e._l(e.menuList,(function(a,r){return t("a-button",{key:a.id,attrs:{disabled:1==e.records[0].isGenAsset,loading:a.loading},on:{click:function(t){return e.handleMenuClick({key:a.id},r)}}},[e._v(" 生成车辆设备 ")])})):e._e()],2)],1)])],1)],1)],1),t("div",{staticStyle:{height:"calc(100vh - 272px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 272px)"},attrs:{border:"",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","max-height":"100%","auto-resize":"","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}},on:{"checkbox-change":e.checkboxChange,"checkbox-all":e.checkboxChange}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"line",title:"所属线路",width:"100"}}),t("vxe-table-column",{attrs:{title:"车辆编码",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("a",{on:{click:function(t){return t.stopPropagation(),e.jumpInfo(r)}}},[e._v(e._s(r.trainNo))])]}}])}),t("vxe-table-column",{attrs:{field:"trainType",title:"车型",width:"100"}}),t("vxe-table-column",{attrs:{field:"groupNum",title:"编组数",width:"100"}}),t("vxe-table-column",{attrs:{field:"status_dictText",title:"车辆状态",width:"120"}}),t("vxe-table-column",{attrs:{field:"mileage",title:"走行里程",width:"120",align:"right","header-align":"center"}}),t("vxe-table-column",{attrs:{field:"useDate",title:"投入运营",width:"150"}}),t("vxe-table-column",{attrs:{field:"warrantyDate",title:"质保有效期",width:"150"}}),t("vxe-table-column",{attrs:{field:"track",title:"停放股道",width:"120"}}),t("vxe-table-column",{attrs:{field:"supplier",title:"所属厂商","min-width":"180"}}),t("vxe-table-column",{attrs:{field:"isGenAsset_dictText",title:"是否已经生成车辆设备","min-width":"180"}})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1),t("train-item-modal",{ref:"modalForm",on:{ok:e.loadData}}),t("train-asset-new",{ref:"trainAsset"})],1)},i=[],l=a("2618"),s=a("8fad"),n=a("7fb8"),o=a("5633"),c=a("bc3a"),d=a.n(c),u={components:{TrainItemModal:l["default"],TrainAssetNew:n["default"],LineSelectList:o["default"]},name:"TrainList",data:function(){return{syncMaximoAssetLoading:!1,records:[],queryParam:{lineId:"",status:"",trainNo:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],activeTrainId:"",menuList:[]}},created:function(){this.findList()},methods:{syncMaximo:function(){var e=this;this.syncMaximoAssetLoading=!0,d()({url:window._CONFIG["syncMaximo"]+"/third/maximo/read/init/asset",method:"get"}).then((function(t){e.$message[t.success?"success":"warning"](t.message),e.syncMaximoAssetLoading=!1})).catch((function(t){e.syncMaximoAssetLoading=!1}))},checkboxChange:function(e){this.records=e.records,1==e.records.length?this.getTrainStruct(e.records[0]):this.menuList=[]},findList:function(){var e=this;this.loading=!0,Object(s["cc"])(this.queryParam).then((function(t){t.success&&(e.totalResult=t.result.total,e.loading=!1,e.records=[],e.tableData=t.result.records)}))},handlePageChange:function(e){var t=e.currentPage,a=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=a,this.findList()},handleEdit:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="编辑"},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增"},deleteRecord:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否删除选中".concat(t.length,"条数据？"),okText:"确定",cancelText:"取消",onOk:function(){var a=t.map((function(e,t){return e.id})).join(",");Object(s["K"])({ids:a}).then((function(t){t.success?(e.$message.success(t.message),e.findList()):e.$message.warning(t.message)}))}}):this.$message.error("尚未选中任何数据!")},getTrainStruct:function(e){var t=this;this.activeTrainId=e.id,this.menuList=[];var a={lineId:e.lineId};Object(s["fc"])(a).then((function(e){if(e.success){var a=e.result;Array.from(a,(function(e,t){e.loading=!1})),t.menuList=a}}))},getTrainAsset:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否为选中的车辆生成车辆设备？",okText:"确定",cancelText:"取消",onOk:function(){var a=t.map((function(e,t){return e.id})).join(",");Object(s["Nc"])({id:a}).then((function(t){t.success&&e.$message.success(t.message)}))}}):this.$message.error("尚未选中车辆数据!")},handleMenuClick:function(e,t){var a=this,r={id:this.activeTrainId,structId:e.key};this.$confirm({content:"是否为车辆自动生成设备,将会覆盖原有的数据?",okText:"确定",cancelText:"取消",onOk:function(){a.menuList[t].loading=!0,Object(s["Nc"])(r).then((function(e){e.success&&(a.findList(),a.$message.success(e.message)),a.menuList[t].loading=!1})).catch((function(e){a.menuList[t].loading=!1}))}})},jumpInfo:function(e){this.$refs.trainAsset.show({trainId:e.trainNo,trainTypeId:e.trainTypeId,lineId:e.lineId})},loadData:function(){this.findList()}}},m=u,p=(a("3d54"),a("2877")),h=Object(p["a"])(m,r,i,!1,null,null,null);t["default"]=h.exports},"7fb8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"查看",width:"100%",height:"auto",visible:e.visible,dialogClass:"fullDialog",footer:null,destroyOnClose:!0,zIndex:50},on:{cancel:e.handleCancel}},[t("div",{staticClass:"modalBox"},[t("a-card",{attrs:{id:"trainAssetRightContent"}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"名称"}},[t("a-input",{attrs:{placeholder:"名称或编码"},model:{value:e.queryParam.searchText,callback:function(t){e.$set(e.queryParam,"searchText",t)},expression:"queryParam.searchText"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"线路"}},[t("j-dict-select-tag",{attrs:{triggerChange:!0,dictCode:"bu_mtr_line,line_name,line_id"},on:{change:e.changeLine},model:{value:e.queryParam.lineId,callback:function(t){e.$set(e.queryParam,"lineId",t)},expression:"queryParam.lineId"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"车辆"}},[t("j-dict-select-seach-tag",{attrs:{triggerChange:!0,dictCode:e.dictTrainStr},model:{value:e.queryParam.trainNo,callback:function(t){e.$set(e.queryParam,"trainNo",t)},expression:"queryParam.trainNo"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"状态"}},[t("j-dict-select-tag",{attrs:{dictCode:"bu_effective"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}})],1)],1),t("a-col",{attrs:{md:4,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-space",[t("a-button",{on:{click:e.searchQuery}},[e._v("查询")]),t("a-button",{attrs:{disabled:1!=e.records.length},on:{click:function(t){return e.handleEdit(e.records[0])}}},[e._v("编辑")])],1)],1)])],1)],1)],1),t("div",{staticClass:"tableHeight"},[t("vxe-table",{ref:"listTable",attrs:{border:"",resizable:"","row-id":"id",align:e.allAlign,height:"auto",data:e.tableData,"show-overflow":"tooltip","checkbox-config":{trigger:"row",highlight:!0,checkStrictly:!0},"edit-config":{trigger:"manual",mode:"row"},"tree-config":{lazy:!0,children:"children",hasChild:"hasChildren",loadMethod:e.loadChildrenMethod}},on:{"checkbox-change":e.checkboxChange,"checkbox-all":e.checkboxChange}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40",fixed:"left"}}),t("vxe-table-column",{attrs:{title:"车号",field:"trainNo",width:"100"}}),t("vxe-table-column",{attrs:{align:"left","header-align":"center",field:"name",title:"设备名称",width:"20%","tree-node":""}}),t("vxe-table-column",{attrs:{field:"code",title:"设备编码",width:"10%",align:"left","header-align":"center"}}),t("vxe-table-column",{attrs:{title:"车厢",width:"10%",align:"left","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("div",[e._v(e._s(r.ext.carriage))])]}}])}),t("vxe-table-column",{attrs:{field:"locationName",title:"位置",width:"20%",align:"left","header-align":"center"}}),t("vxe-table-column",{attrs:{title:"系统",width:"10%",align:"left","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("div",[e._v(e._s(r.ext.systemName))])]}}])}),t("vxe-table-column",{attrs:{title:"设备类型",width:"10%",align:"left","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("div",[e._v(e._s(r.ext.assetTypeName))])]}}])}),t("vxe-table-column",{attrs:{title:"资产编码",width:"10%",align:"left","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("div",[e._v(e._s(r.ext.assetCode))])]}}])}),t("vxe-table-column",{attrs:{title:"出厂编码",width:"10%",align:"left","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("div",[e._v(e._s(r.ext.manufNo))])]}}])}),t("vxe-table-column",{attrs:{field:"status_dictText",title:"设备标签",width:"10%"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("div",[e._v(e._s(r.ext.tagCode))])]}}])})],1)],1)])],1),t("maximoAssetEdit",{ref:"maximoAssetEdit",on:{ok:e.findList}})],1)},i=[],l=a("c087"),s=a("8fad"),n={name:"TrainAssetNew",components:{maximoAssetEdit:l["default"]},data:function(){return{visible:!1,records:[],queryParam:{lineId:"",parentId:"",searchText:"",status:"",trainNo:""},allAlign:"center",tableData:[],dictTrainStr:""}},methods:{show:function(e){this.visible=!0,this.queryParam.trainNo=e.trainId,this.queryParam.lineId=e.lineId,this.findList()},changeLine:function(e,t){this.dictTrainStr="",e&&(this.dictTrainStr="bu_train_info,train_no,train_no,line_id="+e+"|train_struct_id")},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1},checkboxChange:function(e){this.records=e.records},findList:function(){var e=this;Object(s["ac"])(this.queryParam).then((function(t){t.success&&(e.tableData=t.result,e.records=[])}))},loadChildrenMethod:function(e){var t=this,a=e.row,r={lineId:this.queryParam.lineId,trainNo:this.queryParam.trainNo,parentId:a.id,searchText:this.queryParam.searchText,status:this.queryParam.status};return new Promise((function(e){Object(s["ac"])(r).then((function(a){a.success?e(a.result):t.$message.error("".concat(a.msg))}))}))},searchQuery:function(){this.findList()},handleEdit:function(e){this.$refs.maximoAssetEdit.showModal(e)}}},o=n,c=(a("b129"),a("2877")),d=Object(c["a"])(o,r,i,!1,null,"17cc2c3e",null);t["default"]=d.exports},8370:function(e,t,a){},abcf:function(e,t,a){"use strict";a("0c28")},b129:function(e,t,a){"use strict";a("8370")},cc66:function(e,t,a){}}]);