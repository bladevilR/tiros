(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2300c5"],{eb2d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("a-modal",{attrs:{title:"消耗核实",width:"50%",visible:t.visible},on:{ok:t.handleOk,cancel:t.cancel}},[e("div",{staticStyle:{height:"500px"}},[e("vxe-table",{ref:"xTable1",attrs:{border:"",resizable:"","show-overflow":"","keep-source":"",height:"auto",data:t.tableData,"edit-rules":t.validRules,"edit-config":{trigger:"manual",mode:"row",autoClear:!1}}},[e("vxe-table-column",{attrs:{type:"seq",width:"60"}}),e("vxe-table-column",{attrs:{field:"tradeNo",title:"批次"}}),e("vxe-table-column",{attrs:{field:"actAmount",title:"实际消耗","edit-render":{name:"$input",props:{type:"number"}}}}),e("vxe-table-column",{attrs:{field:"price",title:"价格"}}),e("vxe-table-column",{attrs:{title:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(i){var a=i.row,n=i.rowIndex;return[t.$refs.xTable1.isActiveByRow(a)?[e("a-space",[e("a-button",{on:{click:function(e){return t.saveRowEvent(a,n)}}},[t._v("保存")]),e("a-button",{on:{click:function(e){return t.cancelRowEvent(a)}}},[t._v("取消")])],1)]:[e("a-button",{on:{click:function(e){return t.editRowEvent(a)}}},[t._v("编辑")])]]}}])})],1)],1)])],1)},n=[],s={data:function(){return{visible:!1,isEdit:!1,validRules:{actAmount:[{required:!0,message:"请输入消耗数量"}]},copy:{},tableData:[]}},methods:{show:function(t){this.copy=JSON.parse(JSON.stringify(t)),this.tableData=JSON.parse(JSON.stringify(t.actList)),this.visible=!0},handleOk:function(){this.isEdit?this.$message.warning("请先保存或者取消正在编辑的物资核实"):(this.$emit("ok",this.tableData),this.visible=!1)},cancel:function(){this.visible=!1,this.isEdit=!1,this.$emit("cancel",this.copy)},saveRowEvent:function(t,e){var i=this;this.$refs.xTable1.validate(t).then((function(){i.$refs.xTable1.clearActived(),i.isEdit=!1}))},cancelRowEvent:function(t){var e=this,i=this.$refs.xTable1;i.clearActived().then((function(){i.revertData(t),e.isEdit=!1}))},editRowEvent:function(t){this.isEdit?this.$message.warning("请先保存或者取消正在编辑的物资核实"):(this.$refs.xTable1.setActiveRow(t),this.isEdit=!0)}}},l=s,o=i("2877"),c=Object(o["a"])(l,a,n,!1,null,"28e2be69",null);e["default"]=c.exports}}]);