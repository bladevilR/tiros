(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-248aac36","chunk-d828d34e","chunk-2501a10d","chunk-6dcfedce","chunk-368bcc75","chunk-6492a1e8","chunk-7d5f0bf1","chunk-1712b60c","chunk-1bd47cc3","chunk-08267919","chunk-6480a2f0","chunk-0d652b36","chunk-2d0c030f","chunk-2d2245ba","chunk-2d0e571b","chunk-770c7bea"],{"0560":function(e,t,r){},"0b87":function(e,t,r){"use strict";r("0560")},"11e8":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-row",[t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"用户账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["username",e.validatorRules.username],expression:"[ 'username', validatorRules.username]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入用户账号",readOnly:!!e.model.id}})],1)],1),e.model.id?e._e():[t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"登陆密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"[ 'password', validatorRules.password]"}],attrs:{type:"password",placeholder:"请输入登陆密码"}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"确认密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmpassword",e.validatorRules.confirmpassword],expression:"[ 'confirmpassword', validatorRules.confirmpassword]"}],attrs:{type:"password",placeholder:"请重新输入登陆密码"},on:{blur:e.handleConfirmBlur}})],1)],1)],t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"用户姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["realname",e.validatorRules.realname],expression:"[ 'realname', validatorRules.realname]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入用户姓名"}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"工号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["workNo",e.validatorRules.workNo],expression:"[ 'workNo', validatorRules.workNo]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入工号"}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"职务",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("j-select-position",{directives:[{name:"decorator",rawName:"v-decorator",value:["post",{}],expression:"['post', {}]"}],attrs:{placeholder:"请选择职务",multiple:!1}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.roleDisabled,expression:"!roleDisabled"}],attrs:{label:"角色分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择用户角色",optionFilterProp:"children",getPopupContainer:function(e){return e.parentNode}},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}},e._l(e.roleList,(function(r,a){return t("a-select-option",{key:a.toString(),attrs:{value:r.id}},[e._v(" "+e._s(r.roleName)+" ")])})),1)],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.departDisabled,expression:"!departDisabled"}],attrs:{label:"部门分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input-search",{attrs:{placeholder:"点击选择部门",readOnly:""},on:{search:e.onSearch},model:{value:e.checkedDepartNameString,callback:function(t){e.checkedDepartNameString=t},expression:"checkedDepartNameString"}},[t("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"},[e._v("选择")])],1)],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"身份",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{on:{change:e.identityChange},model:{value:e.identity,callback:function(t){e.identity=t},expression:"identity"}},[t("a-radio",{attrs:{value:"1"}},[e._v("普通用户")]),t("a-radio",{attrs:{value:"2"}},[e._v("上级")])],1)],1)],1),t("a-col",{attrs:{span:e.colSize}},[1==e.departIdShow?t("a-form-item",{attrs:{label:"负责部门",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择负责部门",optionFilterProp:"children",getPopupContainer:function(e){return e.parentNode},dropdownStyle:{maxHeight:"200px",overflow:"auto"}},model:{value:e.departIds,callback:function(t){e.departIds=t},expression:"departIds"}},e._l(e.resultDepartOptions,(function(r){return t("a-select-option",{key:r.key,attrs:{value:r.key}},[e._v(e._s(r.title)+" ")])})),1)],1):e._e()],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"生日",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthday",{initialValue:e.model.birthday?e.moment(e.model.birthday,e.dateFormat):null}],expression:"['birthday', {initialValue:!model.birthday?null:moment(model.birthday,dateFormat)}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择生日",getCalendarContainer:function(e){return e.parentNode}}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"性别",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"[ 'sex', {}]"}],attrs:{placeholder:"请选择性别",getPopupContainer:function(e){return e.parentNode}}},[t("a-select-option",{attrs:{value:1}},[e._v("男")]),t("a-select-option",{attrs:{value:2}},[e._v("女")])],1)],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",e.validatorRules.email],expression:"[ 'email', validatorRules.email]"}],attrs:{placeholder:"请输入邮箱"}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"手机号码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",e.validatorRules.phone],expression:"[ 'phone', validatorRules.phone]"}],attrs:{placeholder:"请输入手机号码",disabled:e.isDisabledAuth("user:form:phone")}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"座机",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone",e.validatorRules.telephone],expression:"[ 'telephone', validatorRules.telephone]"}],attrs:{placeholder:"请输入座机"}})],1)],1),t("a-col",{attrs:{span:e.colSize}},[t("a-form-item",{attrs:{label:"头像",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("j-image-upload",{staticClass:"avatar-uploader",attrs:{text:"上传"},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1)],1)],2)],1)],1),t("depart-window",{ref:"departWindow",on:{ok:e.modalFormOk}})],1)},n=[],i=r("88bc"),o=r.n(i),s=r("c1df"),l=r.n(s),u=r("2b0e"),c=r("c63e"),d=r("61fc"),f=r("9fb0"),p=r("0fea"),m=r("4ec3"),h=r("c82c"),g=r("e610"),b={name:"BaseInfo2",components:{JImageUpload:g["default"],departWindow:c["default"],JSelectPosition:d["default"]},props:{currentUser:{type:Object,default:{}}},data:function(){return{colSize:12,departDisabled:!1,roleDisabled:!1,modalWidth:800,drawerWidth:700,modaltoggleFlag:!0,confirmDirty:!1,selectedDepartKeys:[],checkedDepartKeys:[],checkedDepartNames:[],checkedDepartNameString:"",resultDepartOptions:[],userId:"",disableSubmit:!1,userDepartModel:{userId:"",departIdList:[]},dateFormat:"YYYY-MM-DD",validatorRules:{username:{rules:[{required:!0,message:"请输入用户账号!"},{validator:this.validateUsername}]},password:{rules:[{required:!0,pattern:/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+`\-={}:";'<>?,./]).{8,}$/,message:"密码由8位数字、大小写字母和特殊符号组成!"},{validator:this.validateToNextPassword}]},confirmpassword:{rules:[{required:!0,message:"请重新输入登陆密码!"},{validator:this.compareToFirstPassword}]},realname:{rules:[{required:!0,message:"请输入用户名称!"}]},phone:{rules:[{validator:this.validatePhone}]},email:{rules:[{validator:this.validateEmail}]},roles:{},workNo:{rules:[{required:!0,message:"请输入工号"},{validator:this.validateWorkNo}]},telephone:{rules:[{pattern:/^0\d{2,3}-[1-9]\d{6,7}$/,message:"请输入正确的座机号码"}]}},departIdShow:!1,departIds:[],title:"操作",visible:!1,model:{},roleList:[],selectedRole:[],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},uploadLoading:!1,confirmLoading:!1,headers:{},form:this.$form.createForm(this),picUrl:"",url:{fileUpload:window._CONFIG["domianURL"]+"/sys/common/upload",userWithDepart:"/sys/user/userDepartList",userId:"/sys/user/generateUserId",syncUserByUserName:"/process/extActProcess/doSyncUserByUserName"},identity:"1",fileList:[]}},created:function(){var e=u["default"].ls.get(f["a"]);this.headers={"X-Access-Token":e}},mounted:function(){this.currentUser&&this.currentUser.id&&this.show(this.currentUser.id)},computed:{uploadAction:function(){return this.url.fileUpload}},methods:{isDisabledAuth:function(e){return Object(h["a"])(e)},toggleScreen:function(){this.modaltoggleFlag?this.modalWidth=window.innerWidth:this.modalWidth=800,this.modaltoggleFlag=!this.modaltoggleFlag},initialRoleList:function(){var e=this;Object(m["U"])().then((function(t){t.success&&(e.roleList=t.result)}))},loadUserRoles:function(e){var t=this;Object(m["T"])({userid:e}).then((function(e){e.success&&(t.selectedRole=e.result)}))},refresh:function(){this.selectedDepartKeys=[],this.checkedDepartKeys=[],this.checkedDepartNames=[],this.checkedDepartNameString="",this.userId="",this.resultDepartOptions=[],this.departId=[],this.departIdShow=!1},show:function(e){var t=this;Object(m["S"])(e).then((function(e){e.success?t.edit(e.result):t.add()}))},add:function(){this.picUrl="",this.refresh(),this.edit({activitiSync:"1"})},edit:function(e){var t=this;this.resetScreenSize();var r=this;r.initialRoleList(),r.checkedDepartNameString="",r.form.resetFields(),e.hasOwnProperty("id")&&(r.loadUserRoles(e.id),setTimeout((function(){t.fileList=e.avatar}),5)),r.userId=e.id,r.visible=!0,r.model=Object.assign({},e),r.$nextTick((function(){r.form.setFieldsValue(o()(t.model,"username","sex","realname","email","phone","activitiSync","workNo","telephone","post"))})),"2"==this.model.userIdentity?(this.identity="2",this.departIdShow=!0):(this.identity="1",this.departIdShow=!1),r.checkedDepartKeys=[],r.loadCheckedDeparts()},loadCheckedDeparts:function(){var e=this,t=this;t.userId&&Object(p["d"])(t.url.userWithDepart,{userId:t.userId}).then((function(r){if(t.checkedDepartNames=[],r.success){for(var a=[],n=[],i=0;i<r.result.length;i++)t.checkedDepartNames.push(r.result[i].title),e.checkedDepartNameString=e.checkedDepartNames.join(","),t.checkedDepartKeys.push(r.result[i].key),a.push({key:r.result[i].key,title:r.result[i].title}),n.push(r.result[i].key);t.resultDepartOptions=a,e.model.departIds?e.departIds=e.model.departIds.split(","):e.departIds=n,t.userDepartModel.departIdList=t.checkedDepartKeys}}))},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[],this.userDepartModel={userId:"",departIdList:[]},this.checkedDepartNames=[],this.checkedDepartNameString="",this.checkedDepartKeys=[],this.selectedDepartKeys=[],this.resultDepartOptions=[],this.departIds=[],this.departIdShow=!1,this.identity="1",this.fileList=[]},moment:l.a,validateInput:function(){var e=this;return new Promise((function(t,r){e.form.validateFields((function(e,a){e?r():t()}))}))},handleSubmit:function(){var e=this,t=this;return new Promise((function(r,a){e.form.validateFields((function(n,i){if(!n){t.confirmLoading=!0,i.birthday?i.birthday=i.birthday.format(e.dateFormat):i.birthday="";var o,s=Object.assign(e.model,i);""!=t.fileList?s.avatar=t.fileList:s.avatar=null,s.selectedroles=e.selectedRole.length>0?e.selectedRole.join(","):"",s.selecteddeparts=e.userDepartModel.departIdList.length>0?e.userDepartModel.departIdList.join(","):"",s.userIdentity=e.identity,"2"===e.identity?s.departIds=e.departIds.join(","):s.departIds="",e.model.id?o=Object(m["r"])(s):(s.id=e.userId,o=Object(m["e"])(s)),o.then((function(e){e.success?r(e.result):a(e.message)})).finally((function(){t.confirmLoading=!1}))}}))}))},handleCancel:function(){this.close()},validateToNextPassword:function(e,t,r){var a=this.form,n=a.getFieldValue("confirmpassword");t&&n&&t!==n&&r("两次输入的密码不一样！"),t&&this.confirmDirty&&a.validateFields(["confirm"],{force:!0}),r()},compareToFirstPassword:function(e,t,r){var a=this.form;t&&t!==a.getFieldValue("password")?r("两次输入的密码不一样！"):r()},validatePhone:function(e,t,r){if(t)if(new RegExp(/^1[3|4|5|7|8|9][0-9]\d{8}$/).test(t)){var a={tableName:"sys_user",fieldName:"phone",fieldVal:t,dataId:this.userId};Object(m["m"])(a).then((function(e){e.success?r():r("手机号已存在!")}))}else r("请输入正确格式的手机号码!");else r()},validateEmail:function(e,t,r){if(t)if(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t)){var a={tableName:"sys_user",fieldName:"email",fieldVal:t,dataId:this.userId};Object(m["m"])(a).then((function(e){e.success?r():r("邮箱已存在!")}))}else r("请输入正确格式的邮箱!");else r()},validateUsername:function(e,t,r){var a={tableName:"sys_user",fieldName:"username",fieldVal:t,dataId:this.userId};Object(m["m"])(a).then((function(e){e.success?r():r("用户名已存在!")}))},validateWorkNo:function(e,t,r){var a={tableName:"sys_user",fieldName:"work_no",fieldVal:t,dataId:this.userId};Object(m["m"])(a).then((function(e){e.success?r():r("工号已存在!")}))},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t},normFile:function(e){return Array.isArray(e)?e:e&&e.fileList},beforeUpload:function(e){var t=e.type;if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1},handleChange:function(e){if(this.picUrl="","uploading"!==e.file.status){if("done"===e.file.status){var t=e.file.response;this.uploadLoading=!1,t.success?(this.model.avatar=t.message,this.picUrl="Has no pic url yet"):this.$message.warning(t.message)}}else this.uploadLoading=!0},onSearch:function(){this.$refs.departWindow.add(this.checkedDepartKeys,this.userId)},modalFormOk:function(e){this.checkedDepartNames=[],this.selectedDepartKeys=[],this.checkedDepartNameString="",this.userId=e.userId,this.userDepartModel.userId=e.userId,this.departIds=[],this.resultDepartOptions=[];for(var t=[],r=0;r<e.departIdList.length;r++)this.selectedDepartKeys.push(e.departIdList[r].key),this.checkedDepartNames.push(e.departIdList[r].title),this.checkedDepartNameString=this.checkedDepartNames.join(","),t.push({key:e.departIdList[r].key,title:e.departIdList[r].title}),this.departIds.push(e.departIdList[r].key);this.resultDepartOptions=t,this.userDepartModel.departIdList=this.selectedDepartKeys,this.checkedDepartKeys=this.selectedDepartKeys},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700},identityChange:function(e){"1"===e.target.value?this.departIdShow=!1:this.departIdShow=!0}}},v=b,y=(r("92d5"),r("2877")),w=Object(y["a"])(v,a,n,!1,null,"2e0388eb",null);t["default"]=w.exports},"120f":function(e,t,r){},1516:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:7,sm:24}},[t("a-form-item",{attrs:{label:"工装名称"}},[t("a-input",{attrs:{placeholder:"请输入名称或者编码"},model:{value:e.queryParam.searchText,callback:function(t){e.$set(e.queryParam,"searchText",t)},expression:"queryParam.searchText"}})],1)],1),t("a-col",{attrs:{md:7,sm:8}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-button",{on:{click:e.findList}},[e._v("查询")]),t("a-button",{directives:[{name:"has",rawName:"v-has",value:"group:info:box:add",expression:"'group:info:box:add'"}],staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加工装")])],1)])],1)],1)],1),t("div",{staticStyle:{height:"calc(100vh - 215px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 290px)"},attrs:{border:"","max-height":"86%",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"code",title:"工装编码",width:"200"}}),t("vxe-table-column",{attrs:{field:"name",title:"工装名称",width:"200"}}),t("vxe-table-column",{attrs:{field:"amount",title:"数量",width:"150","header-align":"center",align:"right"}}),t("vxe-table-column",{attrs:{field:"model",title:"规格","min-width":"120","header-align":"center",align:"left"}})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1),t("tools-list",{ref:"tools",attrs:{multiple:!0,canSelectType:[5]},on:{ok:e.addTarget}})],1)},n=[],i=r("b9c3"),o=r("2b0e"),s=r("9fb0"),l=r("ca00"),u=r("d425"),c={name:"EquipInfo",components:{ToolsList:u["default"]},data:function(){return{queryParam:{searchText:"",groupId:"",pageNo:1,pageSize:10},Group:"",totalResult:0,allAlign:"center",tableData:[],count:""}},created:function(){this.findList()},methods:{findList:function(){var e=this;this.loading=!0;var t=o["default"].ls.get(s["s"]);this.queryParam.groupId=t.departId,Object(i["M"])(this.queryParam).then((function(t){e.totalResult=t.result.total,e.loading=!1,e.tableData=t.result.records}))},handleAdd:function(){this.$refs.tools.title="工装选择",this.$refs.tools.showModal()},addTarget:function(e){var t=this;if(!Object(l["e"])(e)){var r=o["default"].ls.get(s["s"]),a=[];e.forEach((function(e){a.push(e.id)}));var n={toolsId:a,groupId:r.departId};Object(i["d"])(n).then((function(e){e.success?(t.findList(),t.$message.success(e.message)):t.$message.error(e.message)}))}},handlePageChange:function(e){var t=e.currentPage,r=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=r,this.findList()},loadData:function(){this.findList()}}},d=c,f=r("2877"),p=Object(f["a"])(d,a,n,!1,null,"68a7fe9b",null);t["default"]=p.exports},"29f1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"info-wrapper info-bottom-wrapper"},[t("h4",[e._v("技能标签")]),e._l(e.tagTitleList,(function(r,a){return[r.length>20?t("a-tooltip",{key:r,attrs:{title:r}},[t("a-tag",{key:r,attrs:{closable:!0,color:"blue"},on:{close:function(){return e.handleClose(r)}}},[e._v(" "+e._s("".concat(r.slice(0,20),"..."))+" ")])],1):t("a-tag",{key:r,attrs:{closable:!0,color:"blue"},on:{close:function(){return e.handleClose(r)}}},[e._v(" "+e._s(r)+" ")])]})),e.inputVisible?t("a-input",{ref:"input",style:{width:"78px"},attrs:{type:"text",size:"small",value:e.inputValue},on:{change:e.handleInputChange,blur:e.handleInputConfirm,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}}}):t("a-tag",{staticStyle:{background:"#fff",borderStyle:"dashed"},attrs:{color:"blue",size:""},on:{click:e.showInput}},[t("a-icon",{attrs:{type:"plus"}}),e._v(" 添加标签 ")],1)],2)},n=[],i=r("8fad"),o={props:{tagTitleList:{type:Array,default:function(){return[]}},userId:{type:String,default:""}},mounted:function(){var e=this;Object(i["tc"])({id:this.userId}).then((function(t){t.success&&e.$nextTick((function(){e.$emit("update:tagTitleList",t.result.tagTitleList)}))}))},data:function(){return{inputVisible:!1,inputValue:"",tagColor:"blue"}},methods:{handleClose:function(e){var t=this.tagTitleList.filter((function(t){return t!==e}));this.trainingList=t,this.$emit("update:tagTitleList",this.tagTitleList)},showInput:function(){this.inputVisible=!0,this.$nextTick((function(){this.$refs.input.focus()}))},handleInputChange:function(e){this.inputValue=e.target.value},handleInputConfirm:function(){var e=this.inputValue,t=this.tagTitleList;e&&-1===t.indexOf(e)&&(e.length>32?this.$message.warning("输入长度不能超过32个字符!"):(t.push(e),this.inputVisible=!1,this.inputValue="",this.$emit("update:tagTitleList",t)))}}},s=o,l=(r("cc7e"),r("2877")),u=Object(l["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},"2c62":function(e,t,r){},3981:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,padding:[20,20,95,20],scale:e.scale}},[t("v-tooltip"),t("v-axis",{attrs:{dataKey:e.axis1Opts.dataKey,line:e.axis1Opts.line,tickLine:e.axis1Opts.tickLine,grid:e.axis1Opts.grid}}),t("v-axis",{attrs:{dataKey:e.axis2Opts.dataKey,line:e.axis2Opts.line,tickLine:e.axis2Opts.tickLine,grid:e.axis2Opts.grid}}),t("v-legend",{attrs:{dataKey:"user",marker:"circle",offset:30}}),t("v-coord",{attrs:{type:"polar",radius:"0.8"}}),t("v-line",{attrs:{position:"skillName*score",color:"user",size:2}}),t("v-point",{attrs:{position:"skillName*score",color:"user",size:4,shape:"circle"}}),t("v-area",{attrs:{position:"skillName*score",color:"user"}})],1)},n=[],i=r("8fad"),o=r("7104"),s=r.n(o),l={dataKey:"skillName",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},u={dataKey:"评分",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},c=[{dataKey:"评分",min:0,max:100}],d={name:"Radar",props:{height:{type:Number,default:254},skillList:{type:Array,default:function(){return[]}},userId:{type:String,default:""}},mounted:function(){var e=this;Object(i["tc"])({id:this.userId}).then((function(t){t.success&&e.$nextTick((function(){e.$emit("update:skillList",t.result.skillList)}))}))},data:function(){return{axis1Opts:l,axis2Opts:u,scale:c,data:[]}},watch:{skillList:function(e){0===e.length?this.data=this.skillList:this.data=e;var t=(new s.a.View).source(this.data);t.transform({type:"fold",fields:["评分"],key:"user",value:"评分"}),this.data=t.rows}}},f=d,p=r("2877"),m=Object(p["a"])(f,a,n,!1,null,"fb44b1b6",null);t["default"]=m.exports},4173:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"calc(100% - 0px)"}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:6,sm:8}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-space",[t("a-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),t("a-button",{on:{click:e.deleteRecord}},[e._v("删除")])],1)],1)])],1)],1),t("div",{staticStyle:{height:"calc(100vh - 185px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 235px)"},attrs:{border:"","max-height":"100%",align:e.allAlign,data:e.certList,"show-overflow":"tooltip","keep-source":!0,"checkbox-config":{trigger:"row",highlight:!0},"edit-config":{key:"id",trigger:"manual",mode:"row",autoClear:!1,showStatus:!0}},on:{"update:data":function(t){e.certList=t}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"certNo",title:"证件编号","min-width":"80","edit-render":{name:"input"}}}),t("vxe-table-column",{attrs:{field:"certName",title:"证件名称","min-width":"100",align:"left","header-align":"center","edit-render":{name:"input"}}}),t("vxe-table-column",{attrs:{field:"certCategory_dictText",title:"证件类型",width:"140","edit-render":{name:"input"}},scopedSlots:e._u([{key:"edit",fn:function(r){var a=r.row;return[t("j-dict-select-tag",{staticStyle:{width:"100%"},attrs:{triggerChange:!0,dictCode:"bu_user_cert_category"},on:{change:e.onCategoryChange},model:{value:a.certCategory,callback:function(t){e.$set(a,"certCategory",t)},expression:"row.certCategory"}})]}}])}),t("vxe-table-column",{attrs:{field:"validDate",title:"证件有效期","min-width":"100","edit-render":{name:"input"}},scopedSlots:e._u([{key:"edit",fn:function(r){var a=r.row;return[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择有效期",format:"YYYY-MM-DD"},model:{value:a.validDate,callback:function(t){e.$set(a,"validDate",t)},expression:"row.validDate"}})]}}])}),t("vxe-table-column",{attrs:{field:"scanFile",title:"扫描件","min-width":"120"}}),t("vxe-table-column",{attrs:{field:"remark",title:"备注",align:"left","header-align":"center","edit-render":{name:"input"}}}),t("vxe-table-column",{attrs:{title:"操作",width:"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.row;return[e.$refs.listTable.isActiveByRow(a)?[t("a-space",[t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.saveRowEvent(a)}}},[e._v("保存")]),t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.cancelRowEvent(a)}}},[e._v("取消")])],1)]:[t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.editRowEvent(a)}}},[e._v("编辑")])]]}}])})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.currentPage,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"currentPage",t)},"update:current-page":function(t){return e.$set(e.queryParam,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)}}})],1)])},n=[],i=r("8fad"),o=r("c1df"),s=r.n(o),l=r("4ec3"),u=r("ca00"),c={props:{certList:{type:Array,default:function(){return[]}},userId:{type:String,default:""}},mounted:function(){var e=this;this.totalResult=this.certList.length,Object(i["tc"])({id:this.userId}).then((function(t){t.success&&e.$emit("update:certList",t.result.certList)}))},data:function(){return{curEditMode:0,curRow:null,queryParam:{title:"",trainTime:"",userId:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",validRules:{code:[{required:!0,message:"请选择工器具"}],amount:[{required:!0,message:"数量必须填写"}]}}},methods:{handleAdd:function(){var e=this;if(!this.$refs.listTable.getActiveRecord()){this.curEditMode=1;var t={id:Object(u["p"])()};this.$refs.listTable.insertAt(t,-1).then((function(t){var r=t.row;e.$refs.listTable.setActiveCell(r,"certNo")}))}},editRowEvent:function(e){this.curEditMode=2,this.$refs.listTable.setActiveRow(e)},delRowEvent:function(e){var t=this;this.certList.map((function(r,a){e.id===r.id&&(t.certList.splice(a,1),t.$emit("update:certList",t.certList))}))},saveRowEvent:function(e){var t=this;this.$refs.listTable.validate(e,(function(r){if(r)for(var a in r){var n=r[a];n.forEach((function(e){e.rule&&t.$message.error(e.rule.message)}))}else 1===t.curEditMode&&(e["validDate"]=s()(e.validDate).format("YYYY-MM-DD"),Object(l["f"])("bu_user_cert_category").then((function(r){r.success&&(r.result.map((function(t){t.value===e.trainType&&(e["certCategory_dictText"]=t.title)})),t.certList.push(e),t.$emit("update:certList",t.certList))}))),t.$refs.listTable.clearActived(),t.curEditMode=0}))},cancelRowEvent:function(e){this.$refs.listTable.clearActived(),1===this.curEditMode?this.$refs.listTable.remove(e):2===this.curEditMode&&this.$refs.listTable.revertData(e),this.curEditMode=0},selectAllEvent:function(e){e.checked,e.records},selectChangeEvent:function(e){e.checked,e.records},deleteRecord:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否删除选中".concat(t.length,"数据？"),onOk:function(){e.certList.map((function(r,a){t.find((function(e){return r.id==e.id}))&&e.certList.splice(a,1)})),e.$emit("update:certList",e.certList)}}):this.$message.error("尚未选中任何数据!")},onCategoryChange:function(e,t){var r=this.$refs.listTable.getActiveRecord(),a=r.row;a.certCategory_dictText=t.title}}},d=c,f=r("2877"),p=Object(f["a"])(d,a,n,!1,null,null,null);t["default"]=p.exports},4227:function(e,t,r){},"489e":function(e,t,r){},"5b8f":function(e,t,r){},"5c62":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"info-wrapper info-top-wrapper",staticStyle:{"margin-top":"18px"}},[t("h4",[e._v("基本信息")]),t("a-form",{attrs:{form:e.form}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"运营公司"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["companyName"],expression:"['companyName']"}],attrs:{disabled:""}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"车辆段"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["depotName"],expression:"['depotName']"}],attrs:{disabled:""}})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"车间"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["workshopName"],expression:"['workshopName']"}],attrs:{disabled:""}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"工班名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["groupName"],expression:"['groupName']"}],attrs:{disabled:""}})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"工班编号"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCode"],expression:"['orgCode']"}],attrs:{disabled:""}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"人数"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userCount"],expression:"['userCount']"}],attrs:{disabled:""}})],1)],1)],1)],1)],1)},n=[],i=r("b9c3"),o=r("9fb0"),s=r("2b0e"),l={name:"basicInfo",data:function(){return{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}},queryParam:{groupId:""},allAlign:"center",tableData:[],form:this.$form.createForm(this)}},created:function(){this.findList()},methods:{findList:function(){var e=this;this.loading=!0;var t=s["default"].ls.get(o["s"]);this.queryParam.groupId=t.departId,Object(i["t"])(this.queryParam).then((function(t){e.loading=!1,null!==t.result&&(e.tableData=t.result,e.form.setFieldsValue({companyName:e.tableData.companyName,depotName:e.tableData.depotName,workshopName:e.tableData.workshopName,groupName:e.tableData.groupName,orgCode:e.tableData.orgCode,userCount:e.tableData.userCount}))}))}}},u=l,c=(r("6cb8"),r("2877")),d=Object(c["a"])(u,a,n,!1,null,"4afa0c34",null);t["default"]=d.exports},"623c":function(e,t,r){"use strict";r("4227")},6593:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findList.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"角色"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["roleId"],expression:"['roleId']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,dictCode:"sys_role,role_name,id",placeholder:"选择角色"},model:{value:e.queryParam.roleId,callback:function(t){e.$set(e.queryParam,"roleId",t)},expression:"queryParam.roleId"}})],1)],1),t("a-col",{attrs:{md:7,sm:24}},[t("a-form-item",{attrs:{label:"人员"}},[t("a-input",{attrs:{placeholder:"请输入人员姓名或工号",allowClear:""},model:{value:e.queryParam.searchText,callback:function(t){e.$set(e.queryParam,"searchText",t)},expression:"queryParam.searchText"}})],1)],1),t("a-col",{attrs:{md:7,sm:8}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-space",[t("a-button",{attrs:{disabled:1!=e.records.length},on:{click:function(t){return e.handleEdit(e.records[0])}}},[e._v("编辑")]),t("a-button",{on:{click:e.handleSkillCompare}},[e._v("技能项对比")]),t("a-button",{on:{click:e.findList}},[e._v("查询")])],1)],1)])],1)],1)],1),t("div",[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 290px)"},attrs:{border:"","max-height":"86%",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}},on:{"checkbox-change":e.checkboxChange,"checkbox-all":e.checkboxChange}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"workNo",title:"工号",width:"100"}}),t("vxe-table-column",{attrs:{field:"username",title:"账号",width:"100"}}),t("vxe-table-column",{attrs:{field:"realname",align:"left","header-align":"center",title:"姓名",width:"100"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.row;return[t("a",{on:{click:function(t){return t.stopPropagation(),e.handleDetail(a)}}},[e._v(e._s(a.realname))])]}}])}),t("vxe-table-column",{attrs:{field:"groupName",align:"left","header-align":"center",title:"班组",width:"120"}}),t("vxe-table-column",{attrs:{field:"roleNames",align:"left","header-align":"center",title:"角色","min-width":"180"}}),t("vxe-table-column",{attrs:{field:"sex_dictText",title:"性别",width:"60"}}),t("vxe-table-column",{attrs:{field:"phone",title:"手机",width:"120"}}),t("vxe-table-column",{attrs:{field:"telephone",title:"固定电话",width:"120"}}),t("vxe-table-column",{attrs:{field:"tags",title:"技能标签",align:"left","header-align":"center","min-width":"160"}}),t("vxe-table-column",{attrs:{field:"certs",title:"证书情况",align:"left","header-align":"center","min-width":"160"}})],1)],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.currentPage,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"currentPage",t)},"update:current-page":function(t){return e.$set(e.queryParam,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}}),t("staff-info",{ref:"staffInfoModel",on:{ok:function(t){return e.findList()}}}),t("radar-skill",{ref:"radarSkill"})],1)},n=[],i=r("ee79"),o=r("8fad"),s=r("2b0e"),l=r("9fb0"),u=r("9509"),c={name:"PersonInfoPage",components:{StaffInfo:i["default"],RadarSkill:u["default"]},data:function(){return{records:[],queryParam:{roleId:"",searchText:"",assetCode:"",status:"",lineId:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],userInfo:s["default"].ls.get(l["s"])}},created:function(){this.findList()},methods:{checkboxChange:function(e){this.records=e.records},handleSkillCompare:function(){var e=this.$refs.listTable.getCheckboxRecords();if(e.length>0){var t=e.map((function(e){return e.id})).join(",");this.$refs.radarSkill.show(t)}else this.$message.error("尚未选中任何数据!")},handlePageChange:function(e){var t=e.currentPage,r=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=r,this.findList()},findList:function(){var e=this;this.queryParam.groupId=this.userInfo.departId,Object(o["cd"])(this.queryParam).then((function(t){e.totalResult=t.result.total,e.records=[],e.tableData=t.result.records}))},searchReset:function(){},selectAllEvent:function(e){e.checked,e.records},selectChangeEvent:function(e){e.checked,e.records},getSelectEvent:function(){var e=this.$refs.listTable.getCheckboxRecords();this.$XModal.alert(e.length)},deleteRecord:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否删除选中".concat(t.length,"数据？"),onOk:function(){e.records=[],e.tableData=e.tableData.filter((function(e){var r=t.map((function(e){return e.id}));return!r.includes(e.id)}))}}):this.$message.error("尚未选中任何数据!")},handleEdit:function(e){this.$refs.staffInfoModel.edit(e),this.$refs.staffInfoModel.title="编辑"},handleDetail:function(e){this.$refs.staffInfoModel.edit(e),this.$refs.staffInfoModel.title="详情",this.$refs.staffInfoModel.isDisable=!0}}},d=c,f=r("2877"),p=Object(f["a"])(d,a,n,!1,null,"309eb643",null);t["default"]=p.exports},"6bf0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:7,sm:24}},[t("a-form-item",{attrs:{label:"工位名称"}},[t("a-input",{attrs:{placeholder:"请输入名称或编码",allowClear:""},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),t("a-col",{attrs:{md:7,sm:24}},[t("a-form-item",{attrs:{label:"位置"}},[t("a-input",{attrs:{placeholder:"请输入位置",allowClear:""},model:{value:e.queryParam.position,callback:function(t){e.$set(e.queryParam,"position",t)},expression:"queryParam.position"}})],1)],1),t("a-col",{attrs:{md:7,sm:8}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-space",[t("a-button",{on:{click:e.findList}},[e._v("查询")]),t("a-button",{attrs:{type:"primary"},on:{click:e.handleRelation}},[e._v("关联工位")]),t("a-button",{attrs:{type:"primary"},on:{click:e.handleRelieve}},[e._v("解除工位")])],1)],1)])],1)],1)],1),t("div",{staticStyle:{height:"calc(100vh - 215px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 290px)"},attrs:{border:"","max-height":"86%",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"stationNo",title:"工位号",width:"100"}}),t("vxe-table-column",{attrs:{field:"name",title:"工位名称",width:"180"}}),t("vxe-table-column",{attrs:{field:"location",title:"位置",width:"200","header-align":"center",align:"left"}}),t("vxe-table-column",{attrs:{field:"content",title:"作业内容","min-width":"120","header-align":"center",align:"left"}}),t("vxe-table-column",{attrs:{field:"remark",title:"备注","min-width":"100","header-align":"center",align:"left"}})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1),t("wook-info-modal",{ref:"modalForm",attrs:{datagroup:e.queryParam.groupId},on:{ok:function(t){return e.loadData()}}})],1)},n=[],i=r("b9c3"),o=r("8ddc"),s=r("2b0e"),l=r("9fb0"),u={name:"WookInfo",components:{WookInfoModal:o["default"]},data:function(){return{queryParam:{name:"",position:"",groupId:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],count:""}},created:function(){this.findList()},methods:{findList:function(){var e=this,t=s["default"].ls.get(l["s"]);this.queryParam.groupId=t.departId,Object(i["W"])(this.queryParam).then((function(t){e.totalResult=t.result.total,e.tableData=t.result.records}))},handleRelation:function(){this.$refs.modalForm.showModal()},handlePageChange:function(e){var t=e.currentPage,r=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=r,this.findList()},handleRelieve:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否解除选中".concat(t.length,"数据？"),onOk:function(){var r=t.map((function(e,t){return e.id})).join(","),a={workstationId:r,groupId:e.queryParam.groupId};Object(i["o"])(a).then((function(t){e.findList(),e.$message.success(t.message)}))}}):this.$message.error("尚未选中任何数据!")},loadData:function(){this.findList()}}},c=u,d=r("2877"),f=Object(d["a"])(c,a,n,!1,null,"70e23942",null);t["default"]=f.exports},"6cb8":function(e,t,r){"use strict";r("5b8f")},"8ddc":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:"70%",visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",destroyOnClose:!0},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("div",{staticStyle:{height:"calc(100vh - 225px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 275px)"},attrs:{border:"","max-height":"90%",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"stationNo",title:"工位号",width:"15%"}}),t("vxe-table-column",{attrs:{field:"name",title:"工位名称",width:"15%"}}),t("vxe-table-column",{attrs:{field:"location",title:"位置",width:"15%"}}),t("vxe-table-column",{attrs:{field:"content",title:"作业内容",width:"30%"}}),t("vxe-table-column",{attrs:{field:"remark",title:"备注",width:"20%"}})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1)])},n=[],i=r("b9c3"),o={name:"WookInfoModal",props:["datagroup"],data:function(){return{queryParam:{groupId:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],count:"",title:"请选择工位",visible:!1,isClose:!1,confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){},methods:{findList:function(){var e=this;this.loading=!0,this.queryParam.groupId=this.datagroup,Object(i["X"])(this.queryParam).then((function(t){e.totalResult=t.result.total,e.loading=!1,e.tableData=t.result.records}))},handlePageChange:function(e){var t=e.currentPage,r=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=r,this.findList()},changeClose:function(e){this.isClose=e},showModal:function(){this.visible=!0,this.findList()},handleOk:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否关联选中".concat(t.length,"数据？"),onOk:function(){var r=t.map((function(e,t){return e.id})).join(","),a={workstationId:r,groupId:e.queryParam.groupId};Object(i["e"])(a).then((function(t){e.findList(),e.$message.success(t.message),e.$emit("ok")})),e.confirmLoading=!1,e.close(),e.visible=!1}}):this.$message.error("尚未选中任何数据!")},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},s=o,l=r("2877"),u=Object(l["a"])(s,a,n,!1,null,"38d8bc34",null);t["default"]=u.exports},"8fbd":function(e,t,r){},"92d5":function(e,t,r){"use strict";r("120f")},9317:function(e,t,r){"use strict";r("8fbd")},9509:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"技能项对比",width:"80%",visible:e.visible,dialogClass:"fullDialog no-title no-footer"},on:{cancel:e.handleCancel}},[t("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,padding:[20,20,95,20],scale:e.scale}},[t("v-tooltip"),t("v-axis",{attrs:{dataKey:e.axis1Opts.dataKey,line:e.axis1Opts.line,tickLine:e.axis1Opts.tickLine,grid:e.axis1Opts.grid}}),t("v-axis",{attrs:{dataKey:e.axis2Opts.dataKey,line:e.axis2Opts.line,tickLine:e.axis2Opts.tickLine,grid:e.axis2Opts.grid}}),t("v-legend",{attrs:{dataKey:"user",marker:"circle",offset:30}}),t("v-coord",{attrs:{type:"polar",radius:"0.8"}}),t("v-line",{attrs:{position:"skillName*score",color:"user",size:2}}),t("v-point",{attrs:{position:"skillName*score",color:"user",size:4,shape:"circle"}}),t("v-area",{attrs:{position:"skillName*score",color:"user"}})],1)],1)},n=[],i=r("8fad"),o=r("7104"),s=r.n(o),l=r("ca00"),u={dataKey:"skillName",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},c={dataKey:"score",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},d=[{dataKey:"score",min:0,max:100}],f={name:"RadarSkill",props:{height:{type:Number,default:600}},data:function(){return{axis1Opts:u,axis2Opts:c,scale:d,data:[],visible:!1,ids:""}},methods:{show:function(e){this.visible=!0,this.ids=e,this.findList()},findList:function(){var e=this;Object(i["Jd"])({ids:this.ids}).then((function(t){if(t.success&&(e.data=t.result,!Object(l["e"])(e.data))){var r=e.data[0].userName,a=(new s.a.View).source(e.data);a.transform({type:"fold",fields:r,key:"user",value:"score"}),e.data=a.rows}}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1,this.activeKey="1"}}},p=f,m=r("2877"),h=Object(m["a"])(p,a,n,!1,null,"55851db8",null);t["default"]=h.exports},b9c3:function(e,t,r){"use strict";r.d(t,"lb",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"i",(function(){return l})),r.d(t,"v",(function(){return u})),r.d(t,"b",(function(){return f})),r.d(t,"l",(function(){return p})),r.d(t,"p",(function(){return m})),r.d(t,"G",(function(){return h})),r.d(t,"c",(function(){return d})),r.d(t,"B",(function(){return b})),r.d(t,"k",(function(){return y})),r.d(t,"A",(function(){return v})),r.d(t,"x",(function(){return w})),r.d(t,"g",(function(){return k})),r.d(t,"E",(function(){return x})),r.d(t,"C",(function(){return j})),r.d(t,"M",(function(){return C})),r.d(t,"kb",(function(){return I})),r.d(t,"O",(function(){return S})),r.d(t,"N",(function(){return T})),r.d(t,"jb",(function(){return L})),r.d(t,"t",(function(){return $})),r.d(t,"d",(function(){return q})),r.d(t,"W",(function(){return D})),r.d(t,"X",(function(){return _})),r.d(t,"e",(function(){return R})),r.d(t,"o",(function(){return z})),r.d(t,"V",(function(){return E})),r.d(t,"R",(function(){return U})),r.d(t,"Q",(function(){return A})),r.d(t,"K",(function(){return Y})),r.d(t,"L",(function(){return G})),r.d(t,"fb",(function(){return be})),r.d(t,"bb",(function(){return W})),r.d(t,"Y",(function(){return Q})),r.d(t,"J",(function(){return X})),r.d(t,"hb",(function(){return ie})),r.d(t,"U",(function(){return oe})),r.d(t,"eb",(function(){return Z})),r.d(t,"cb",(function(){return H})),r.d(t,"a",(function(){return ee})),r.d(t,"j",(function(){return ce})),r.d(t,"nb",(function(){return de})),r.d(t,"gb",(function(){return fe})),r.d(t,"m",(function(){return pe})),r.d(t,"H",(function(){return ve})),r.d(t,"T",(function(){return K})),r.d(t,"S",(function(){return M})),r.d(t,"mb",(function(){return B})),r.d(t,"z",(function(){return me})),r.d(t,"db",(function(){return he})),r.d(t,"y",(function(){return ge})),r.d(t,"u",(function(){return c})),r.d(t,"F",(function(){return g})),r.d(t,"ob",(function(){return N})),r.d(t,"q",(function(){return P})),r.d(t,"D",(function(){return O})),r.d(t,"ib",(function(){return te})),r.d(t,"n",(function(){return re})),r.d(t,"I",(function(){return J})),r.d(t,"P",(function(){return F})),r.d(t,"s",(function(){return se})),r.d(t,"Z",(function(){return le})),r.d(t,"ab",(function(){return ue})),r.d(t,"h",(function(){return ae})),r.d(t,"w",(function(){return ne})),r.d(t,"r",(function(){return V}));var a=r("0fea"),n=r("4328"),i=r.n(n),o=function(e){return Object(a["j"])("/group/fault/info/submit",e)},s=function(e){return Object(a["j"])("/group/fault/info/cancel",e)},l=function(e){return Object(a["j"])("/group/fault/info/delete",e)},u=function(e){return Object(a["d"])("/group/fault/info/page",e)},c=function(e){return Object(a["d"])("/group/fault/info/get",e)},d=function(e){return Object(a["j"])("/group/safeassume/read/add",e)},f=function(e){return Object(a["j"])("/group/safeassume/add",e)},p=function(e){return Object(a["j"])("/group/safeassume/delete",e)},m=function(e){return Object(a["j"])("/group/safeassume/edit",e)},h=function(e){return Object(a["d"])("/group/safeassume/page",e)},g=function(e){return Object(a["d"])("/group/safeassume/get",e)},b=function(e){return Object(a["d"])("/group/turnoverchange/page",e)},v=function(e){return Object(a["d"])("/material/spare-part/get",e)},y=function(e){return Object(a["j"])("/group/turnoverchange/delete",e)},w=function(e){return Object(a["d"])("/group/measurealert/page",e)},k=function(e){return Object(a["j"])("/group/measurealert/close",e)},x=function(e){return Object(a["d"])("/group/spare-part/page",e)},j=function(e){return Object(a["d"])("/group/spare-part/get",e)},O=function(e){return Object(a["d"])("/produce/train/history/asset/use/page",e)},C=function(e){return Object(a["d"])("/group/toolequipment/page",e)},I=function(e){return Object(a["j"])("/group/toolequipment/setStatus",e)},P=function(e){return Object(a["d"])("/group/toolequipment/usage",e)},S=function(e){return Object(a["d"])("/group/tool/page",e)},T=function(e){return Object(a["d"])("/group/tool/get",e)},L=function(e){return Object(a["j"])("/group/tool/setDutyUser",e)},N=function(e){return Object(a["d"])("/group/tool/usage",e)},$=function(e){return Object(a["d"])("/group/information/basic",e)},q=function(e){return Object(a["j"])("/group/information/tools/add",e)},D=function(e){return Object(a["d"])("/group/information/workstation/page-related",e)},_=function(e){return Object(a["d"])("/group/information/workstation/page-unrelated",e)},R=function(e){return Object(a["j"])("/group/information/workstation/add",e)},z=function(e){return Object(a["j"])("/group/information/workstation/delete",e)},M=function(e){return Object(a["d"])("/workGroup/workOrder/relevanceInfo/".concat(e))},B=function(e){return Object(a["j"])("/workGroup/workOrder/submit-to-dispatcher",i.a.stringify(e))},E=function(e){return Object(a["d"])("/workGroup/workRecord/list",e)},A=function(e){return Object(a["d"])("/serialPlan/plan/forms/online-form/get",e)},U=function(e){return Object(a["d"])("/serialPlan/plan/forms/work-record/get",e)},F=function(e){return Object(a["d"])("/serialPlan/plan/forms/check-record/get",e)},K=function(e){return Object(a["d"])("/workGroup/workOrder/page",e)},V=function(e){return Object(a["d"])("/workGroup/workOrder/apply/page",e)},Y=function(e){return Object(a["d"])("/workGroup/workRecord/recordForm",e)},G=function(e){return Object(a["d"])("/workGroup/workRecord/relevanceInfo/".concat(e))},J=function(e){return Object(a["d"])("/workGroup/workRecord/relevanceInfo/bookSteps/".concat(e))},W=function(e){return Object(a["j"])("/workGroup/workRecord/save/form-result",e)},Q=function(e){return Object(a["j"])("/workGroup/workRecord/check",e)},X=function(e){return Object(a["j"])("/workGroup/workRecord/getTaskQRCode",e)},Z=function(e){return Object(a["j"])("/workGroup/workRecord/work-record/save-manufNo",i.a.stringify(e))},H=function(e){return Object(a["j"])("/workGroup/workRecord/save/material",e)},ee=function(e){return Object(a["j"])("/workGroup/workRecord/save/actMaterial",e)},te=function(e){return Object(a["j"])("/workGroup/workRecord/save/work-time",e)},re=function(e){return Object(a["j"])("/workGroup/workRecord/arrange/delete",e)},ae=function(e){return Object(a["j"])("/workGroup/workOrder/material/commit-temp-apply",e)},ne=function(e){return Object(a["d"])("/workGroup/workOrder/material/apply/list",e)},ie=function(e){return Object(a["j"])("/workGroup/workRecord/check/saveExcelData",e)},oe=function(e){return Object(a["d"])("/workGroup/workRecord/get/excelData/".concat(e))},se=function(e){return Object(a["d"])("/serialPlan/plan/forms/check-record/item/list",e)},le=function(e){return Object(a["j"])("/workGroup/workRecord/check-record/set-check",e)},ue=function(e){return Object(a["j"])("/workGroup/workRecord/check-record/set-time",e)},ce=function(e){return Object(a["j"])("/workGroup/workRecord/delete/material",i.a.stringify(e))},de=function(e){return Object(a["j"])("/workGroup/workRecord/submit-task",e)},fe=function(e){return Object(a["j"])("/workGroup/workRecord/save/tool",e)},pe=function(e){return Object(a["j"])("/workGroup/workRecord/delete/tool",i.a.stringify(e))},me=function(e){return Object(a["d"])("/workGroup/workRecord/outsourceOutin",e)},he=function(e){return Object(a["j"])("/workGroup/workRecord/save/outsourceOutin",e)},ge=function(e){return Object(a["d"])("/workGroup/workRecord/outin/not-returns",e)},be=function(e){return Object(a["j"])("/group/safeassume/read/add",i.a.stringify(e))},ve=function(e){return Object(a["d"])("/serialPlan/plan/page",e)}},c2d1:function(e,t,r){"use strict";r("2c62")},c54ca:function(e,t,r){"use strict";r.d(t,"hb",(function(){return o})),r.d(t,"Cb",(function(){return c})),r.d(t,"jb",(function(){return d})),r.d(t,"ib",(function(){return f})),r.d(t,"Db",(function(){return p})),r.d(t,"Pb",(function(){return m})),r.d(t,"Zb",(function(){return h})),r.d(t,"e",(function(){return s})),r.d(t,"I",(function(){return l})),r.d(t,"A",(function(){return u})),r.d(t,"h",(function(){return g})),r.d(t,"N",(function(){return b})),r.d(t,"Gb",(function(){return v})),r.d(t,"n",(function(){return w})),r.d(t,"x",(function(){return y})),r.d(t,"Mb",(function(){return k})),r.d(t,"f",(function(){return C})),r.d(t,"J",(function(){return I})),r.d(t,"mb",(function(){return P})),r.d(t,"t",(function(){return S})),r.d(t,"l",(function(){return T})),r.d(t,"ec",(function(){return E})),r.d(t,"Rb",(function(){return x})),r.d(t,"g",(function(){return L})),r.d(t,"w",(function(){return N})),r.d(t,"K",(function(){return $})),r.d(t,"tb",(function(){return q})),r.d(t,"ub",(function(){return D})),r.d(t,"Ub",(function(){return R})),r.d(t,"bc",(function(){return z})),r.d(t,"C",(function(){return M})),r.d(t,"Lb",(function(){return B})),r.d(t,"ob",(function(){return U})),r.d(t,"P",(function(){return F})),r.d(t,"Q",(function(){return K})),r.d(t,"pb",(function(){return V})),r.d(t,"ac",(function(){return Y})),r.d(t,"u",(function(){return G})),r.d(t,"Fb",(function(){return O})),r.d(t,"fc",(function(){return A})),r.d(t,"Bb",(function(){return _})),r.d(t,"s",(function(){return we})),r.d(t,"G",(function(){return ke})),r.d(t,"Ib",(function(){return xe})),r.d(t,"ic",(function(){return Ie})),r.d(t,"c",(function(){return ye})),r.d(t,"db",(function(){return je})),r.d(t,"lb",(function(){return Oe})),r.d(t,"jc",(function(){return Ce})),r.d(t,"cb",(function(){return Le})),r.d(t,"Z",(function(){return ae})),r.d(t,"X",(function(){return Z})),r.d(t,"Y",(function(){return J})),r.d(t,"q",(function(){return X})),r.d(t,"i",(function(){return H})),r.d(t,"j",(function(){return ee})),r.d(t,"E",(function(){return Q})),r.d(t,"a",(function(){return W})),r.d(t,"b",(function(){return ne})),r.d(t,"F",(function(){return ie})),r.d(t,"r",(function(){return oe})),r.d(t,"o",(function(){return se})),r.d(t,"ab",(function(){return le})),r.d(t,"D",(function(){return ue})),r.d(t,"m",(function(){return ce})),r.d(t,"Tb",(function(){return de})),r.d(t,"xb",(function(){return fe})),r.d(t,"Ab",(function(){return pe})),r.d(t,"L",(function(){return me})),r.d(t,"M",(function(){return he})),r.d(t,"V",(function(){return Ne})),r.d(t,"W",(function(){return $e})),r.d(t,"U",(function(){return qe})),r.d(t,"Eb",(function(){return j})),r.d(t,"yb",(function(){return te})),r.d(t,"k",(function(){return re})),r.d(t,"qb",(function(){return De})),r.d(t,"R",(function(){return _e})),r.d(t,"Hb",(function(){return Re})),r.d(t,"cc",(function(){return ze})),r.d(t,"O",(function(){return Me})),r.d(t,"y",(function(){return Be})),r.d(t,"mc",(function(){return Ee})),r.d(t,"qc",(function(){return Ae})),r.d(t,"Nb",(function(){return Ue})),r.d(t,"sb",(function(){return Fe})),r.d(t,"rb",(function(){return Ke})),r.d(t,"dc",(function(){return Ve})),r.d(t,"v",(function(){return Ye})),r.d(t,"p",(function(){return Ge})),r.d(t,"nb",(function(){return We})),r.d(t,"d",(function(){return Qe})),r.d(t,"H",(function(){return Xe})),r.d(t,"z",(function(){return Ze})),r.d(t,"T",(function(){return He})),r.d(t,"nc",(function(){return et})),r.d(t,"bb",(function(){return Je})),r.d(t,"Qb",(function(){return rt})),r.d(t,"rc",(function(){return nt})),r.d(t,"gb",(function(){return at})),r.d(t,"eb",(function(){return ut})),r.d(t,"Ob",(function(){return ct})),r.d(t,"hc",(function(){return Pe})),r.d(t,"kc",(function(){return Se})),r.d(t,"zb",(function(){return ge})),r.d(t,"fb",(function(){return be})),r.d(t,"Kb",(function(){return ve})),r.d(t,"vb",(function(){return gt})),r.d(t,"lc",(function(){return bt})),r.d(t,"B",(function(){return vt})),r.d(t,"wb",(function(){return yt})),r.d(t,"Sb",(function(){return it})),r.d(t,"Xb",(function(){return ot})),r.d(t,"Vb",(function(){return st})),r.d(t,"Wb",(function(){return lt})),r.d(t,"Jb",(function(){return dt})),r.d(t,"oc",(function(){return ft})),r.d(t,"S",(function(){return Te})),r.d(t,"gc",(function(){return pt})),r.d(t,"Yb",(function(){return mt})),r.d(t,"pc",(function(){return ht})),r.d(t,"kb",(function(){return tt}));var a=r("0fea"),n=r("4328"),i=r.n(n),o=function(e){return Object(a["d"])("/material/list",e)},s=function(e){return Object(a["j"])("/material/add",e)},l=function(e){return Object(a["j"])("/material/edit",e)},u=function(e){return Object(a["j"])("/material/delete",e)},c=function(e){return Object(a["d"])("/material/list/tool",e)},d=function(e){return Object(a["d"])("/material/get",e)},f=function(e){return Object(a["d"])("/material/get/tool",e)},p=function(e){return Object(a["d"])("/material/tools/page",e)},m=function(e){return Object(a["d"])("/material/can-replace/list",e)},h=function(e){return Object(a["j"])("/material/can-replace/save",e)},g=function(e){return Object(a["j"])("/material/warehouse/add",e)},b=function(e){return Object(a["j"])("/material/warehouse/edit",e)},v=function(e){return Object(a["d"])("/material/warehouse/page",e)},y=function(e){return Object(a["j"])("/material/warehouse/delete",e)},w=function(e){return Object(a["j"])("/material/warehouse/close",e)},k=function(e){return Object(a["j"])("/material/warehouse/importExcel",e)},x=function(e){return Object(a["d"])("/material/warehouse/list-child",e)},j=function(){return Object(a["d"])("/material/warehouse/allTree")},O=function(e){return Object(a["d"])("/material/warehouse/get",e)},C=function(e){return Object(a["j"])("/material/pallet/add",e)},I=function(e){return Object(a["j"])("/material/pallet/edit",e)},P=function(e){return Object(a["d"])("/material/pallet/page",e)},S=function(e){return Object(a["j"])("/material/pallet/delete",e)},T=function(e){return Object(a["j"])("/material/pallet/set-materialTypes",e)},L=function(e){return Object(a["j"])("/material/spare-part/add",e)},N=function(e){return Object(a["j"])("/material/spare-part/delete",e)},$=function(e){return Object(a["j"])("/material/spare-part/edit",e)},q=function(e){return Object(a["d"])("/material/spare-part/get",e)},D=function(e){return Object(a["d"])("/material/spare-part/page",e)},_=function(e){return Object(a["d"])("trainAssetType/system",e)},R=function(e){return Object(a["d"])("/material/turnover/page",e)},z=function(e){return Object(a["j"])("/material/turnover/save",e)},M=function(e){return Object(a["j"])("/material/turnover/delete",e)},B=function(e){return Object(a["j"])("/material/turnover/importExcel",e)},E=function(e){return Object(a["d"])("/material/qrcode/pagePallet",e)},A=function(e){return Object(a["d"])("/material/qrcode/pageWarehouse",e)},U=function(e){return Object(a["d"])("/material/entry/page",e)},F=function(e){return Object(a["j"])("/material/entry/confirm/levelFour",e)},K=function(e){return Object(a["d"])("/material/entry/detail/get",e)},V=function(e){return Object(a["d"])("/material/entry/detail/page",e)},Y=function(e){return Object(a["j"])("/material/entry/save",e)},G=function(e){return Object(a["j"])("/material/entry/detail/delete",e)},J=function(e){return Object(a["d"])("/material/apply/page",e)},W=function(e){return Object(a["j"])("/material/apply/add",e)},Q=function(e){return Object(a["j"])("/material/apply/edit",e)},X=function(e){return Object(a["j"])("/material/apply/delete",e)},Z=function(e){return Object(a["d"])("/material/apply/detail/listByApplyId",e)},H=function(e){return Object(a["j"])("/material/apply/readyConfirm",e)},ee=function(e){return Object(a["j"])("/material/apply/receive-confirm",i.a.stringify(e))},te=function(e){return Object(a["d"])("/material/stock/list",e)},re=function(e){return Object(a["j"])("/material/apply/assign/auto-assign",e)},ae=function(e){return Object(a["d"])("/material/borrow/page",e)},ne=function(e){return Object(a["j"])("/material/borrow/add",e)},ie=function(e){return Object(a["j"])("/material/borrow/edit",e)},oe=function(e){return Object(a["j"])("/material/borrow/delete",e)},se=function(e){return Object(a["j"])("/material/borrow/return",e)},le=function(e){return Object(a["d"])("/material/borrow/detail/".concat(e))},ue=function(e,t){return Object(a["c"])("/material/borrow/export",e,t)},ce=function(e,t){return Object(a["c"])("/material/borrow/borrowExport",e,t)},de=function(e){return Object(a["d"])("/material/stock/page",e)},fe=function(e){return Object(a["d"])("/material/stock/attr/get",e)},pe=function(e){return Object(a["d"])("/material/stock/trade-attr/get",e)},me=function(e){return Object(a["j"])("/material/stock/attr/set",e)},he=function(e){return Object(a["j"])("/material/stock/trade-attr/set",e)},ge=function(e){return Object(a["d"])("/material/stock/sum/get-amount",e)},be=function(e){return Object(a["d"])("/material/stock/group/get-amount",e)},ve=function(e){return Object(a["j"])("/material/stock/import-level4-stock",e)},ye=function(e){return Object(a["j"])("/material/tools/add",e)},we=function(e){return Object(a["j"])("/material/tools/delete",e)},ke=function(e){return Object(a["j"])("/material/tools/edit",e)},xe=function(e){return Object(a["d"])("/material/tools/listNeedCheck",e)},je=function(e){return Object(a["d"])("/material/tools/page",e)},Oe=function(e){return Object(a["d"])("/material/tools/countNeedCheck",e)},Ce=function(e){return Object(a["j"])("/material/tools/setResponsible",e)},Ie=function(e){return Object(a["j"])("/material/tools/setNextCheckTime",e)},Pe=function(e){return Object(a["j"])("/material/tools/setLastSelfCheckTime",e)},Se=function(e){return Object(a["j"])("/material/tools/setSelfCheck",e)},Te=function(e,t){return Object(a["c"])("/material/tools/export",e,t)},Le=function(e){return Object(a["d"])("/material/alert/page",e)},Ne=function(e){return Object(a["c"])("/material/alert/exportMonth",e)},$e=function(e){return Object(a["c"])("/material/alert/exportWeek",e)},qe=function(e){return Object(a["c"])("/material/alert/exportTheshold",e)},De=function(e){return Object(a["d"])("/report/cost/receive/detail/page",e)},_e=function(e){return Object(a["b"])("/report/cost/receive/detail/export",e)},Re=function(e){return Object(a["d"])("/material/must/list",e)},ze=function(e){return Object(a["j"])("/material/must/add",e)},Me=function(e){return Object(a["j"])("/material/must/edit",e)},Be=function(e){return Object(a["j"])("/material/must/delete",e)},Ee=function(e){return Object(a["j"])("/material/must/set-group",e)},Ae=function(e){return Object(a["j"])("/material/must/valid",e)},Ue=function(e){return Object(a["j"])("/material/must/invalid",e)},Fe=function(e){return Object(a["d"])("/material/returned/page",e)},Ke=function(e){return Object(a["d"])("/material/returned/get",e)},Ve=function(e){return Object(a["j"])("/material/returned/save",e)},Ye=function(e){return Object(a["j"])("/material/returned/delete",e)},Ge=function(e){return Object(a["j"])("/material/returned/confirm",e)},Je=function(e){return Object(a["d"])("/material/apply/detail/listByOrderId",e)},We=function(e){return Object(a["d"])("/material/plan/list/part",e)},Qe=function(e){return Object(a["j"])("/material/plan/add",e)},Xe=function(e){return Object(a["j"])("/material/plan/edit",e)},Ze=function(e){return Object(a["j"])("/material/plan/delete",e)},He=function(e){return Object(a["b"])("/material/plan/export",e)},et=function(e){return Object(a["d"])("/dispatch/plan/year/sum-year-plan-detail-amount",e)},tt=function(e){return Object(a["d"])("/material/plan/materialYearTrain",e)},rt=function(e){return Object(a["d"])("/material/cost/compare/list",e)},at=function(e){return Object(a["d"])("/material/cost/compare/detail",e)},nt=function(e){return Object(a["j"])("/material/cost/verify-orderMaterialList",e)},it=function(e){return Object(a["b"])("/material/cost/compare/export",e)},ot=function(e){return Object(a["d"])("/material/plan-cost/page",e)},st=function(e){return Object(a["d"])("/material/plan-cost/get",e)},lt=function(e){return Object(a["j"])("/material/plan-cost/save",e)},ut=function(e){return Object(a["d"])("/material/stock/group/page",e)},ct=function(e){return Object(a["d"])("/material/stock/group/list-for-taskWrite",e)},dt=function(e,t){return Object(a["c"])("/material/stock/group/export",e,t)},ft=function(e){return Object(a["j"])("/material/tools/setElectric",e)},pt=function(e){return Object(a["j"])("/material/stock/group/setAttribute",e)},mt=function(e){return Object(a["j"])("/material/stock/group/recoverAttribute",e)},ht=function(e){return Object(a["j"])("/material/stock/group/trans-to/turnover",e)},gt=function(e){return Object(a["d"])("/material/specasset/page",e)},bt=function(e){return Object(a["j"])("/material/specasset/save",e)},vt=function(e){return Object(a["j"])("/material/specasset/delete",e)},yt=function(e){return Object(a["d"])("/dispatch/specasset-plan/get-month-usage",e)}},cc7e:function(e,t,r){"use strict";r("489e")},d10c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("a-form-model",{ref:"form",attrs:{model:e.userBaseInfo,rules:e.formRules}},[t("div",[t("div",{staticClass:"info-wrapper info-bottom-wrapper"},[t("h4",[e._v("用户基本信息")]),t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"姓名",prop:"realname"}},[t("a-input",{attrs:{disabled:e.isDisable},model:{value:e.userBaseInfo.realname,callback:function(t){e.$set(e.userBaseInfo,"realname",t)},expression:"userBaseInfo.realname"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"工号",prop:"workNo"}},[t("a-input",{attrs:{disabled:e.isDisable},model:{value:e.userBaseInfo.workNo,callback:function(t){e.$set(e.userBaseInfo,"workNo",t)},expression:"userBaseInfo.workNo"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"班组",prop:"groupId"}},[t("j-dict-select-tag",{attrs:{"trigger-change":!0,placeholder:"请选择",dictCode:"sys_depart,depart_name,id,org_category=4",disabled:e.isDisable},model:{value:e.userBaseInfo.groupId,callback:function(t){e.$set(e.userBaseInfo,"groupId",t)},expression:"userBaseInfo.groupId"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"岗位",prop:"positionId"}},[t("j-dict-select-tag",{attrs:{"trigger-change":!0,placeholder:"请选择",dictCode:"bu_postion_info,position_name,id",disabled:e.isDisable},model:{value:e.userBaseInfo.positionId,callback:function(t){e.$set(e.userBaseInfo,"positionId",t)},expression:"userBaseInfo.positionId"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"性别",prop:"sex"}},[t("a-radio-group",{attrs:{options:e.sexOptions,value:e.sexOptionsValue,disabled:e.isDisable},on:{change:e.sexOnChange}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态",prop:"status"}},[t("a-radio-group",{attrs:{options:e.statusOptions,value:e.statusOptionsValue,disabled:e.isDisable},on:{change:e.statusOnChange}})],1)],1)],1)],1),t("div",{staticClass:"info-wrapper info-bottom-wrapper"},[t("h4",[e._v("其他信息")]),t("a-row",[t("a-col",{attrs:{span:10}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"账号",prop:"username"}},[t("a-input",{model:{value:e.userBaseInfo.username,callback:function(t){e.$set(e.userBaseInfo,"username",t)},expression:"userBaseInfo.username"}})],1)],1),t("a-col",{attrs:{span:10}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-button",[e._v("创建账号")])],1)],1),t("a-col",{attrs:{span:10}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机",prop:"phone"}},[t("a-input",{model:{value:e.userBaseInfo.phone,callback:function(t){e.$set(e.userBaseInfo,"phone",t)},expression:"userBaseInfo.phone"}})],1)],1),t("a-col",{attrs:{span:10}},[t("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"邮件",prop:"email"}},[t("a-input",{model:{value:e.userBaseInfo.email,callback:function(t){e.$set(e.userBaseInfo,"email",t)},expression:"userBaseInfo.email"}})],1)],1),t("a-col",{attrs:{span:20}},[t("a-form-model-item",{attrs:{labelCol:{span:2},wrapperCol:{span:18},label:"照片"}},[t("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","before-upload":e.beforeUpload},on:{change:e.handleChange}},[e.imageUrl?t("img",{attrs:{src:e.imageUrl,alt:"avatar"},model:{value:e.userBaseInfo.avatar,callback:function(t){e.$set(e.userBaseInfo,"avatar",t)},expression:"userBaseInfo.avatar"}}):t("div",[t("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),t("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1)])],1)],1)],1)],1)])])},n=[],i=r("ca00"),o=r("4ec3"),s=r("61f7"),l={name:"BaseInfo",props:{currentUser:{type:Object,default:{}},isDisable:{type:Boolean,default:!1}},data:function(){return{userBaseInfo:{id:"",username:"",realname:"",workNo:"",avatar:"",orgCode:"",groupId:"",groupName:"",positionId:"",positionName:"",positionWages:0,sex:1,sex_dictText:"",phone:"",email:"",address:"",status:1,status_dictText:"",tags:"",certs:"",tagTitleList:[],certList:[],trainingList:[],skillList:[]},formRules:{realname:[{required:!0,message:"请输入姓名!",trigger:"change"},{max:32,message:"输入长度不能超过32字符!"}],workNo:[{required:!0,message:"请输入工号!",trigger:"change"},{validator:this.validateCode,trigger:"change"},{max:64,message:"输入长度不能超过64字符!"}],groupId:[{required:!0,message:"请输入班组!",trigger:"change"}],positionId:[{required:!0,message:"请输入岗位!",trigger:"change"}],sex:[{required:!0,message:"请输入性别!",trigger:"change"}],status:[{required:!0,message:"请输入状态!",trigger:"change"}],username:[{required:!0,message:"请输入账号!",trigger:"change"},{max:32,message:"输入长度不能超过32字符!"}],phone:[{validator:this.checkPhone,trigger:"change"}],email:[{validator:this.checkEmail,trigger:"change"}],address:[{required:!0,message:"请输入地址!",trigger:"change"}],avatar:[{required:!0,message:"请输入地址!"}]},labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}},buttonItemLayout:{},sexOptions:[{label:"男",value:"1"},{label:"女",value:"2"}],statusOptions:[{label:"正常",value:"1"},{label:"冻结",value:"2"}],imageUrl:"",loading:!1,sexOptionsValue:"1",statusOptionsValue:"1",form:this.$form.createForm(this)}},mounted:function(){this.currentUser&&(Object.assign(this.userBaseInfo,this.currentUser),2===this.userBaseInfo.sex&&(this.sexOptionsValue="2"),2===this.userBaseInfo.status&&(this.statusOptionsValue="2"))},created:function(){},methods:{validateCode:function(e,t,r){var a={tableName:"sys_user",fieldName:"work_no",fieldVal:t,dataId:this.userBaseInfo.id};Object(i["e"])(t)?r():Object(o["m"])(a).then((function(e){e.success?r():r(e.message)}))},checkPhone:function(e,t,r){Object(i["e"])(t)||Object(s["b"])(t)||Object(s["c"])(t)?r():r("请输入正确的号码！")},checkEmail:function(e,t,r){Object(i["e"])(t)||Object(s["a"])(t)?r():r("请输入正确的邮箱！")},sexOnChange:function(){"1"===this.sexOptionsValue?this.sexOptionsValue="2":"2"===this.sexOptionsValue&&(this.sexOptionsValue="1")},statusOnChange:function(){"1"===this.statusOptionsValue?this.statusOptionsValue="2":"2"===this.statusOptionsValue&&(this.statusOptionsValue="1")},handleChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(this.loading=!1):this.loading=!0},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||this.$message.error("You can only upload JPG file!");var r=e.size/1024/1024<2;return r||this.$message.error("Image must smaller than 2MB!"),t&&r},getData:function(){return"1"===this.sexOptionsValue?this.userBaseInfo.sex=1:"2"===this.sexOptionsValue?this.userBaseInfo.sex=2:this.userBaseInfo.sex=0,"1"===this.statusOptionsValue?this.userBaseInfo.status=1:this.userBaseInfo.status=2,mini.clone(this.userBaseInfo)}}},u=l,c=(r("c2d1"),r("2877")),d=Object(c["a"])(u,a,n,!1,null,null,null);t["default"]=d.exports},d425:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{width:"90%",title:"工器具选择",visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",centered:"",destroyOnClose:!0,bodyStyle:{height:"80vh"}},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findList.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"工器具名称"}},[t("a-input",{attrs:{placeholder:"请输入工器具名称或编码"},model:{value:e.queryParam.searchText,callback:function(t){e.$set(e.queryParam,"searchText",t)},expression:"queryParam.searchText"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"工器具分类"}},[t("j-dict-select-tag",{attrs:{placeholder:"请选择工器具分类",dictCode:"bu_tools_type",disabled:e.canSelectType&&1===e.canSelectType.length},model:{value:e.queryParam.toolType,callback:function(t){e.$set(e.queryParam,"toolType",t)},expression:"queryParam.toolType"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"工班"}},[t("j-dict-select-tag",{attrs:{dictCode:"sys_depart,depart_name,id,org_category=4",placeholder:"请选择工班"},model:{value:e.queryParam.groupId,callback:function(t){e.$set(e.queryParam,"groupId",t)},expression:"queryParam.groupId"}})],1)],1),t("a-col",{attrs:{md:3,sm:8}},[t("a-button",{on:{click:e.findList}},[e._v("查询")])],1)],1)],1)],1),t("div",{staticStyle:{height:"calc(80vh - 130px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(80vh - 130px)"},attrs:{border:"","max-height":"100%",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","cell-class-name":e.cellClassName,"radio-config":e.multiple?{}:{trigger:"row",checkMethod:e.checkRadioMethod},"checkbox-config":e.multiple?{trigger:"row",highlight:!0,range:!0,checkMethod:e.checkRadioMethod}:{},"edit-config":{trigger:"click",mode:"cell",showIcon:"true"}}},[e.multiple?t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}):t("vxe-table-column",{attrs:{type:"radio",width:"40"}}),t("vxe-table-column",{attrs:{field:"code",title:"工器具类型编码"}}),t("vxe-table-column",{attrs:{field:"name",title:"工器具名称"}}),t("vxe-table-column",{attrs:{field:"model",title:"规格型号"}}),t("vxe-table-column",{attrs:{field:"assetCode",title:"资产编码"}}),t("vxe-table-column",{attrs:{field:"serialNo",title:"出厂编号"}}),t("vxe-table-column",{attrs:{field:"toolType_dictText",title:"类别"}}),t("vxe-table-column",{attrs:{field:"unit",title:"单位"}}),t("vxe-table-column",{attrs:{field:"groupName",title:"所属班组"}}),t("vxe-table-column",{attrs:{field:"nextCheckTime",title:"下次送检",width:"100"}}),t("vxe-table-column",{attrs:{field:"isOverTime",title:"是否逾期",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.getIsOverTimeStatus(r))+" ")]}}])}),t("vxe-table-column",{attrs:{field:"isOverTimeDays",title:"逾期天数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.getIsOverTimeDays(r))+" ")]}}])})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1)])},n=[],i=r("c54ca"),o={name:"ToolsList",props:{multiple:{type:Boolean,default:!0},canSelectType:{type:Array,default:null},groupId:{type:String,default:null}},data:function(){return{queryParam:{searchText:"",toolType:"6",groupId:"",pageNo:1,pageSize:10},allAlign:"center",totalResult:0,tableData:[],visible:!1,confirmLoading:!1}},methods:{showModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.visible=!0,this.canSelectType&&this.canSelectType.length>0&&(this.queryParam.toolType=this.canSelectType[0]+""),this.groupId&&(this.queryParam.groupId=this.groupId),e&&(this.queryParam.materialTypeId=e),this.findList()},findList:function(){var e=this;this.loading=!0,Object(i["Db"])(this.queryParam).then((function(t){e.totalResult=t.result.total,e.loading=!1,e.tableData=t.result.records,e.tableData.forEach((function(t){e.$set(t,"num",1)}))}))},handlePageChange:function(e){var t=e.currentPage,r=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=r,this.findList()},handleOk:function(){var e=[];this.multiple?e=this.$refs.listTable.getCheckboxRecords():this.$refs.listTable.getRadioRecord()&&e.push(this.$refs.listTable.getRadioRecord()),this.$emit("ok",e),this.visible=!1},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.queryParam.materialTypeId=this.$options.data().queryParam.materialTypeId,this.visible=!1},checkRadioMethod:function(e){var t=e.row;return!this.canSelectType||this.canSelectType.indexOf(t.toolType)>-1},getIsOverTimeStatus:function(e){if(e.nextCheckTime){var t=this.$moment(new Date).format("YYYY-MM-DD"),r=this.$moment(e.nextCheckTime).diff(t,"day");return r<0?"是":"否"}return"否"},cellClassName:function(e){var t=e.row,r=(e.rowIndex,e.column),a=(e.columnIndex,["nextCheckTime","isOverTime","isOverTimeDays"]);if(a.includes(r.property)&&t.nextCheckTime){var n=this.$moment(new Date).format("YYYY-MM-DD"),i=this.$moment(t.nextCheckTime).diff(n,"day");if("nextCheckTime"===r.property){if(i<=0)return"table-cell-bg-red";if(i>0&&i<=15)return"table-cell-bg-yellow"}if("isOverTime"===r.property&&i<0)return"table-cell-bg-red";if("isOverTimeDays"===r.property&&i<0)return"table-cell-bg-red"}},getIsOverTimeDays:function(e){if(e.nextCheckTime){var t=this.$moment(new Date).format("YYYY-MM-DD"),r=this.$moment(e.nextCheckTime).diff(t,"day");if(r<0)return Math.abs(r)}return""}}},s=o,l=(r("623c"),r("2877")),u=Object(l["a"])(s,a,n,!1,null,"8f25e80a",null);t["default"]=u.exports},d7c8:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{padding:"5px",height:"calc(100% - 0px)",overflow:"hidden"}},[t("a-row",[t("a-col",{attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[[t("a-tabs",{attrs:{activeKey:e.activeKey},on:{change:e.changeTab}},[t("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[t("basic-info")],1),t("a-tab-pane",{key:"2",attrs:{tab:"人员信息"}},[t("person-info")],1),t("a-tab-pane",{key:"3",attrs:{tab:"工装信息"}},[t("equip-info")],1),t("a-tab-pane",{key:"4",attrs:{tab:"工具信息"}},[t("tools-info")],1),t("a-tab-pane",{key:"5",attrs:{tab:"工位信息"}},[t("wook-info")],1)],1)]],2)],1)],1)},n=[],i=r("6593"),o=r("5c62"),s=r("1516"),l=r("ecb4"),u=r("6bf0"),c={name:"InformationPage",components:{WookInfo:u["default"],ToolsInfo:l["default"],EquipInfo:s["default"],BasicInfo:o["default"],PersonInfo:i["default"]},data:function(){return{activeKey:"1",queryParam:{name:"",position:""},page:{currentPage:1,pageSize:10,totalResult:3},allAlign:"center"}},created:function(){},methods:{changeTab:function(e){this.activeKey=e}}},d=c,f=(r("0b87"),r("2877")),p=Object(f["a"])(d,a,n,!1,null,"ae98a0b2",null);t["default"]=p.exports},e092:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"培训名称"}},[t("a-input",{attrs:{placeholder:"请输入名称",allowClear:""},model:{value:e.queryParam.title,callback:function(t){e.$set(e.queryParam,"title",t)},expression:"queryParam.title"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"培训时间"}},[t("a-date-picker",{model:{value:e.queryParam.trainTime,callback:function(t){e.$set(e.queryParam,"trainTime",t)},expression:"queryParam.trainTime"}})],1)],1),t("a-col",{attrs:{md:6,sm:8}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-button",{on:{click:e.searchQuery}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.deleteRecord}},[e._v("删除")])],1)])],1)],1)],1),t("div",{staticStyle:{height:"calc(100vh - 185px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 235px)"},attrs:{border:"","max-height":"100%",align:e.allAlign,data:e.trainingList,"edit-rules":e.validatorRules,"show-overflow":"tooltip","keep-source":!0,"checkbox-config":{trigger:"row",highlight:!0},"edit-config":{key:"id",trigger:"manual",mode:"row",autoClear:!1,showStatus:!0}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"60"}}),t("vxe-table-column",{attrs:{field:"title",title:"培训名称","min-width":"160",align:"left","header-align":"center","edit-render":{name:"input"}}}),t("vxe-table-column",{attrs:{field:"trainType_dictText",title:"培训类型","min-width":"120","edit-render":{name:"input"}},scopedSlots:e._u([{key:"edit",fn:function(r){var a=r.row;return[t("j-dict-select-tag",{staticStyle:{width:"100%"},attrs:{triggerChange:!0,dictCode:"bu_train_type"},model:{value:a.trainType,callback:function(t){e.$set(a,"trainType",t)},expression:"row.trainType"}})]}}])}),t("vxe-table-column",{attrs:{field:"address",title:"培训地点","min-width":"160","edit-render":{name:"input"}}}),t("vxe-table-column",{attrs:{field:"teacher",title:"讲师","min-width":"120","edit-render":{name:"input"}}}),t("vxe-table-column",{attrs:{field:"trainTime",title:"培训时间","min-width":"120","edit-render":{name:"input"}},scopedSlots:e._u([{key:"edit",fn:function(r){var a=r.row;return[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择培训时间",format:"YYYY-MM-DD"},model:{value:a.trainTime,callback:function(t){e.$set(a,"trainTime",t)},expression:"row.trainTime"}})]}}])}),t("vxe-table-column",{attrs:{field:"timeLength",title:"课时",width:"120","edit-render":{name:"input"}},scopedSlots:e._u([{key:"edit",fn:function(r){var a=r.row;return[t("a-input-number",{staticStyle:{width:"100%"},attrs:{defaultValue:1,min:1,max:1e4},model:{value:a.timeLength,callback:function(t){e.$set(a,"timeLength",t)},expression:"row.timeLength"}})]}}])}),t("vxe-table-column",{attrs:{field:"remark",title:"备注","min-width":"160",align:"left","header-align":"center","edit-render":{name:"input"}}}),t("vxe-table-column",{attrs:{title:"操作",width:"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.row;return[e.$refs.listTable.isActiveByRow(a)?[t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.saveRowEvent(a)}}},[e._v("保存")]),t("a-button",{staticStyle:{"margin-left":"2px"},attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.cancelRowEvent(a)}}},[e._v("取消")])]:[t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.editRowEvent(a)}}},[e._v("编辑")])]]}}])})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)}}})],1)])},n=[],i=r("8fad"),o=r("ca00"),s=r("c1df"),l=r.n(s),u=r("4ec3"),c={name:"TrainingInfo",props:{userId:{type:String,default:""}},data:function(){return{curEditMode:0,curRow:null,form:this.$form.createForm(this),queryParam:{title:"",trainTime:"",userId:"",pageNo:1,pageSize:10},trainingList:[],totalResult:0,allAlign:"center",validatorRules:{title:[{required:!0,message:"请输入培训名称!"},{max:32,message:"输入长度不能超过32个字符!"}],trainType_dictText:[{required:!0,message:"请选择培训类型!"}],address:[{required:!0,message:"请输入培训地点!"},{max:64,message:"输入长度不能超过64个字符!"}],trainTime:[{required:!0,message:"请选择培训时间!"}],remark:[{max:200,message:"备注长度不能超过200个字符!"}],teacher:[{max:32,message:"备注长度不能超过32个字符!"}]}}},mounted:function(){var e=this;Object(i["tc"])({id:this.userId}).then((function(t){t.success&&(e.trainingList=t.result.trainingList,e.totalResult=t.result.trainingList.length,e.$emit("trainingListMethod",e.trainingList))})),this.$forceUpdate()},methods:{editRowEvent:function(e){this.curEditMode=2,this.$refs.listTable.setActiveRow(e)},delRowEvent:function(e){var t=this;this.taskTools.map((function(r,a){e.id===r.id&&(t.trainingList.splice(a,1),t.$emit("update:trainingList",t.trainingList))}))},saveRowEvent:function(e){var t=this;e["trainType_dictText"]=e.trainType,this.$refs.listTable.validate(e,(function(r){if(r)for(var a in r){var n=r[a];n.forEach((function(e){e.rule&&t.$message.error(e.rule.message)}))}else 1===t.curEditMode&&(e["trainTime"]=l()(e.trainTime).format("YYYY-MM-DD"),Object(u["f"])("bu_train_type").then((function(r){r.success&&(r.result.map((function(t){t.value===e.trainType&&(e["trainType_dictText"]=t.title)})),t.trainingList.push(e),t.$emit("trainingListMethod",t.trainingList))}))),t.$refs.listTable.clearActived(),t.curEditMode=0}))},cancelRowEvent:function(e){this.$refs.listTable.clearActived(),1===this.curEditMode?this.$refs.listTable.remove(e):2===this.curEditMode&&this.$refs.listTable.revertData(e),this.curEditMode=0},handleAdd:function(){var e=this;if(!this.$refs.listTable.getActiveRecord()){this.curEditMode=1;var t={id:Object(o["p"])()};this.$refs.listTable.insertAt(t,-1).then((function(t){var r=t.row;e.$refs.listTable.setActiveCell(r,"title")}))}},searchTrainingPage:function(){var e=this;this.queryParam.trainTime=this.queryParam.trainTime?l()(this.queryParam.trainTime).format("YYYY-MM-DD"):"",Object(i["ad"])(this.queryParam).then((function(t){t.success&&(e.totalResult=t.result.total,e.trainingList=t.result.records)}))},searchQuery:function(){this.queryParam.userId=this.userId,this.searchTrainingPage()},searchReset:function(){},deleteRecord:function(){var e=this,t=this.$refs.listTable.getCheckboxRecords();t.length>0?this.$confirm({content:"是否删除选中".concat(t.length,"数据？"),onOk:function(){var r=t.map((function(e){return e.id}));e.trainingList=e.trainingList.filter((function(e){return!r.includes(e.id)})),e.$emit("trainingListMethod",e.trainingList)}}):this.$message.error("尚未选中任何数据!")}}},d=c,f=r("2877"),p=Object(f["a"])(d,a,n,!1,null,null,null);t["default"]=p.exports},ecb4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:7,sm:24}},[t("a-form-item",{attrs:{label:"工器具名称"}},[t("a-input",{attrs:{placeholder:"请输入名称或编码",allowClear:""},model:{value:e.queryParam.searchText,callback:function(t){e.$set(e.queryParam,"searchText",t)},expression:"queryParam.searchText"}})],1)],1),t("a-col",{attrs:{md:7,sm:8}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-button",{on:{click:e.findList}},[e._v("查询")]),t("a-button",{directives:[{name:"has",rawName:"v-has",value:"group:info:tool:add",expression:"'group:info:tool:add'"}],staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加工器具")])],1)])],1)],1)],1),t("div",{staticStyle:{height:"calc(100vh - 215px)"}},[t("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 290px)"},attrs:{border:"","max-height":"86%",align:e.allAlign,data:e.tableData,"show-overflow":"tooltip","checkbox-config":{trigger:"row",highlight:!0,range:!0},"edit-config":{trigger:"manual",mode:"row"}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"code",title:"工器具类型编码",width:"200"}}),t("vxe-table-column",{attrs:{field:"name",title:"工器具名称",width:"200"}}),t("vxe-table-column",{attrs:{field:"amount",title:"数量",width:"150","header-align":"center",align:"right"}}),t("vxe-table-column",{attrs:{field:"model",title:"规格","min-width":"120","header-align":"center",align:"left"}})],1),t("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryParam,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},"page-change":e.handlePageChange}})],1),t("tools-list",{ref:"tools",attrs:{multiple:!0,canSelectType:[4]},on:{ok:e.addTarget}})],1)},n=[],i=r("b9c3"),o=r("2b0e"),s=r("9fb0"),l=r("ca00"),u=r("d425"),c={name:"ToolsInfo",components:{ToolsList:u["default"]},data:function(){return{queryParam:{searchText:"",groupId:"",pageNo:1,pageSize:10},Group:"",totalResult:0,allAlign:"center",tableData:[],count:""}},created:function(){this.findList()},methods:{findList:function(){var e=this;this.loading=!0;var t=o["default"].ls.get(s["s"]);this.queryParam.groupId=t.departId,this.Group=t.departId,Object(i["O"])(this.queryParam).then((function(t){e.totalResult=t.result.total,e.loading=!1,e.tableData=t.result.records}))},handleAdd:function(){this.$refs.tools.showModal()},addTarget:function(e){var t=this;if(!Object(l["e"])(e)){var r=o["default"].ls.get(s["s"]),a=[];e.forEach((function(e){a.push(e.id)}));var n={toolsId:a,groupId:r.departId};Object(i["d"])(n).then((function(e){e.success?(t.findList(),t.$message.success(e.message)):t.$message.error(e.message)}))}},handlePageChange:function(e){var t=e.currentPage,r=e.pageSize;this.queryParam.pageNo=t,this.queryParam.pageSize=r,this.findList()},loadData:function(){this.findList()}}},d=c,f=r("2877"),p=Object(f["a"])(d,a,n,!1,null,"16d45199",null);t["default"]=p.exports},ee79:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{centered:"",width:"100%",title:e.title,dialogClass:"fullDialog no-footer",visible:e.visible,footer:null,destroyOnClose:!0},on:{cancel:e.handleCancel,ok:e.save}},[t("div",[t("a-tabs",{attrs:{activeKey:e.activeKey},on:{change:e.changeTab}},[t("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[e.currentUser?t("base-info2",{ref:"baseInfo",staticStyle:{"margin-top":"15px"},attrs:{"current-user":e.currentUser,isDisable:e.isDisable},on:{"update:currentUser":function(t){e.currentUser=t},"update:current-user":function(t){e.currentUser=t}}}):e._e()],1),t("a-tab-pane",{key:"2",attrs:{tab:"培训信息"}},[t("training-info",{ref:"trainingInfo",attrs:{userId:e.currentUser.id},on:{trainingListMethod:e.trainingListMethod}})],1),t("a-tab-pane",{key:"3",attrs:{tab:"作业证件"}},[t("cert-info",{attrs:{certList:e.currentUser.certList,userId:e.currentUser.id},on:{"update:certList":function(t){return e.$set(e.currentUser,"certList",t)},"update:cert-list":function(t){return e.$set(e.currentUser,"certList",t)}}})],1),t("a-tab-pane",{key:"4",attrs:{tab:"技能标签"}},[t("skill-tags-info",{attrs:{tagTitleList:e.currentUser.tagTitleList,userId:e.currentUser.id},on:{"update:tagTitleList":function(t){return e.$set(e.currentUser,"tagTitleList",t)},"update:tag-title-list":function(t){return e.$set(e.currentUser,"tagTitleList",t)}}})],1),t("a-tab-pane",{key:"5",attrs:{tab:"技能分布"}},[t("radar",{attrs:{skillList:e.currentUser.skillList,height:600,userId:e.currentUser.id},on:{"update:skillList":function(t){return e.$set(e.currentUser,"skillList",t)},"update:skill-list":function(t){return e.$set(e.currentUser,"skillList",t)}}})],1),e.isDisable?e._e():t("a-button",{staticClass:"margin-right8",attrs:{slot:"tabBarExtraContent",type:"primary"},on:{click:e.save},slot:"tabBarExtraContent"},[e._v(" 保存 ")]),e.isDisable?e._e():t("a-button",{staticClass:"margin-right8",attrs:{slot:"tabBarExtraContent",type:"dashed"},on:{click:e.handleCancel},slot:"tabBarExtraContent"},[e._v(" 取消 ")])],1)],1)])},n=[],i=r("d10c"),o=r("11e8"),s=r("e092"),l=r("4173"),u=r("29f1"),c=r("3981"),d=r("8fad"),f={components:{BaseInfo:i["default"],BaseInfo2:o["default"],TrainingInfo:s["default"],CertInfo:l["default"],SkillTagsInfo:u["default"],Radar:c["default"]},name:"StaffInfo",data:function(){return{isDisable:!1,title:"人员信息",activeKey:"1",visible:!1,loading:!1,queryParam:{id:""},currentUser:{tagTitleList:[],certList:[],trainingList:[],skillList:[]}}},methods:{changeTab:function(e){this.activeKey=e},handleCancel:function(){this.visible=!1,this.isDisable=!1,this.activeKey="1",this.currentUser={}},add:function(){this.edit({})},edit:function(e){Object.assign(this.currentUser,e),this.visible=!0},save:function(){var e=this;this.$refs.baseInfo.validateInput().then((function(){e.$refs.baseInfo.handleSubmit().then((function(t){var r={id:t.id};r.tagTitleList=e.currentUser.tagTitleList,r.certList=e.currentUser.certList,r.trainingList=e.currentUser.trainingList,Object(d["Ed"])(r).then((function(t){t.success?(e.$message.success("保存成功"),e.visible=!1,e.activeKey="1",e.$emit("ok"),e.handleCancel()):e.$message.error("保存失败")})).finally((function(){return e.currentUser={}}))})).catch((function(t){e.$message.error("保存基本信息失败")}))})).catch((function(t){e.$message.warn("你的输入验证不通过")}))},trainingListMethod:function(e){this.$set(this.currentUser,"trainingList",e)}}},p=f,m=(r("9317"),r("2877")),h=Object(m["a"])(p,a,n,!1,null,"0472974f",null);t["default"]=h.exports}}]);