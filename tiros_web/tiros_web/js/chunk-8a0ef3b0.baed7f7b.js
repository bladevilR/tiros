(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a0ef3b0","chunk-72e72170","chunk-2a45c3f6","chunk-2d21060b"],{"182f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{footer:null,title:"预览",visible:t.visible,width:"100%",height:"100%",dialogClass:"fullDialog",bodyStyle:{padding:"0 !important"},destroyOnClose:!1},on:{cancel:function(e){return t.closeModal()}}},[e("div",{staticClass:"panel-image"},[e("iframe",{staticClass:"filename",staticStyle:{height:"100%"},attrs:{src:t.fileUrl,width:"100%",frameborder:"0"}})])])},r=[],o=i("e2aa"),s={name:"VideoPreview",data:function(){return{visible:!1,conpomentName:"CostWorkshopPage",fileUrl:""}},methods:{showModal:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(o["c"])(e).then((function(e){e.success?(t.fileUrl=window._CONFIG["onlinePreviewDomainURL"]+"?url="+encodeURIComponent(e.result),t.visible=!0):t.$message.error("文件预览失败")}))},closeModal:function(){this.visible=!1}}},a=s,c=(i("d865"),i("2877")),l=Object(c["a"])(a,n,r,!1,null,"e5002f0a",null);e["default"]=l.exports},"1d46":function(t,e,i){},5371:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("a-row",{staticStyle:{"padding-bottom":"10px"},attrs:{gutter:24}},[e("a-col",{attrs:{md:24,sm:24}},[e("a-upload",{attrs:{multiple:!0,"file-list":t.fileList,remove:t.handleRemove,"before-upload":t.beforeUpload,"default-file-list":t.defaultFileList}},[e("a-button",{staticClass:"border-primary-4"},[t._v("添加文件")])],1)],1)],1),e("a-row",[t.showUpload?e("a-col",{attrs:{span:5}},[e("a-button",{attrs:{type:"primary",loading:t.isLoading},on:{click:t.beginUpload}},[t._v("上传至服务器")])],1):t._e(),e("a-col",{staticStyle:{color:"#cccccc"},attrs:{span:19}},[t._v("一次最多上传"+t._s(t.fileSize)+"个文件，且单个文件不能超过10MB")])],1)],1)},r=[],o=i("e2aa");function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",r=i.toStringTag||"@@toStringTag";function o(i,n,r,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(i,n,r){var o,s,a,l=0,u=r||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,i){return o=e,s=0,a=t,f.n=i,c}};function h(i,n){for(s=i,a=n,e=0;!d&&l&&!r&&e<u.length;e++){var r,o=u[e],h=f.p,p=o[2];i>3?(r=p===n)&&(a=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=h&&((r=i<2&&h<o[1])?(s=0,f.v=n,f.n=o[1]):h<p&&(r=i<3||o[0]>n||n>p)&&(o[4]=i,o[5]=n,f.n=p,s=0))}if(r||i>1)return c;throw d=!0,n}return function(r,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,a=p;(e=s<2?t:a)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,a)):f.n=a:f.v=a);try{if(l=2,o){if(s||(r="next"),e=o[r]){if(!(e=e.call(o,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=t}else if((e=(d=f.n<0)?a:i.call(n,f))!==c)break}catch(e){o=t,s=1,a=e}finally{l=1}}return{value:e,done:d}}}(i,r,o),!0),u}var c={};function l(){}function u(){}function d(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(a(e={},n,(function(){return this})),e),h=d.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a(t,r,"GeneratorFunction")),t.prototype=Object.create(h),t}return u.prototype=d,a(h,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,r,"GeneratorFunction"),a(h),a(h,r,"Generator"),a(h,n,(function(){return this})),a(h,"toString",(function(){return"[object Generator]"})),(s=function(){return{w:o,m:p}})()}function a(t,e,i,n){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}a=function(t,e,i,n){function o(e,i){a(t,e,(function(t){return this._invoke(e,i,t)}))}e?r?r(t,e,{value:i,enumerable:!n,configurable:!n,writable:!n}):t[e]=i:(o("next",0),o("throw",1),o("return",2))},a(t,e,i,n)}function c(t,e,i,n,r,o,s){try{var a=t[o](s),c=a.value}catch(t){return void i(t)}a.done?e(c):Promise.resolve(c).then(n,r)}function l(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function s(t){c(o,n,r,s,a,"next",t)}function a(t){c(o,n,r,s,a,"throw",t)}s(void 0)}))}}var u={name:"DocUpload",props:{path:{type:String,default:""},fileSize:{type:Number,default:5},defaultFileList:{type:Array,default:[]},showUpload:{type:Boolean,default:!0},isFileEmpty:{type:Boolean,default:!1}},watch:{uploadFiles:{immediate:!1,handler:function(){var t=l(s().m((function t(e){return s().w((function(t){while(1)switch(t.n){case 0:if(e.length!==this.fileList.length){t.n=1;break}return t.n=1,this.$emit("uploaded",this.uploadFiles);case 1:return t.a(2)}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},data:function(){return{fileList:[],uploadFiles:[],isLoading:!1}},methods:{beforeUpload:function(t){var e=t.size/1024/1024<10;return e?(this.fileList.push(t),this.$emit("fileNum",this.fileList.length),this.$emit("setBforeUploadStatus",!1),!1):(this.$message.error("文件不得大于10MB!"),!1)},handleRemove:function(t){var e=this.fileList.indexOf(t),i=this.fileList.slice();i.splice(e,1),this.fileList=i,this.$emit("fileNum",this.fileList.length),this.$emit("removed",t)},beginUpload:function(){var t=this;return new Promise((function(e,i){var n=t.fileList,r=t.fileSize;if(!t.isFileEmpty&&0===n.length)return t.$emit("upLoadingEnd"),t.$message.warning("请选择要上传的文件"),void i();n.length>r?(t.$message.error("一次最多上传"+r+"个文件!"),i()):t.customRequest().then((function(){e()})).catch((function(t){i()}))}))},customRequest:function(){var t=this,e=this.fileList;if(e.length<1)return this.$emit("uploaded",[]),this.$emit("upLoadingEnd"),Promise.resolve();this.isLoading=!0;var i=[];return e.forEach((function(e){var n=new FormData;n.append("file",e),i.push(t.saveFile(n,e))})),Promise.all(i).finally((function(){t.isLoading=!1,t.$emit("upLoadingEnd")}))},saveFile:function(){var t=l(s().m((function t(e,i){var n=this;return s().w((function(t){while(1)switch(t.n){case 0:return t.a(2,Object(o["d"])(e,this.path).then((function(t){t.success?(n.getUploadData(i,t),n.$emit("setUpLoadingEndStatus",!0)):(n.$message.error(t.message),n.$emit("uploadFail",i))})))}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),getUploadData:function(t,e){var i=this.uploadFiles,n={name:t.name,type:this.handleFileName(t),fileSize:Math.round(t.size/1024),savepath:e.result};i.push(n)},handleFileName:function(t){var e=t.name.lastIndexOf("."),i=t.name.length,n=t.name.substring(e+1,i);return n}}},d=u,f=(i("9615"),i("2877")),h=Object(f["a"])(d,n,r,!1,null,"69990be1",null);e["default"]=h.exports},"93b2":function(t,e,i){},"94c2d":function(t,e,i){},9615:function(t,e,i){"use strict";i("94c2d")},"96fa":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("a-row",[e("a-col",{attrs:{span:12}},[e("div",{staticClass:"vd-box"},[e("div",{staticStyle:{"margin-bottom":"-20px"}},[e("a",{staticStyle:{float:"right","margin-top":"10px"},attrs:{target:"_blank"},on:{click:function(e){return e.preventDefault(),t.previewFile(1)}}},[t._v("预览")]),e("p",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(t._s(t.screenName))])]),e("a-divider",{staticStyle:{"margin-bottom":"0"}}),e("div",[e("a-row",{staticStyle:{height:"75px"},attrs:{gutter:24,type:"flex",align:"middle"}},[e("a-col",{attrs:{flex:"110px"}},[t._v(" 投屏内容： ")]),e("a-col",{attrs:{flex:"200px",justify:"center"}},[e("a-form-item",{staticStyle:{margin:"0"},attrs:{labelCol:t.labelCol,labelAlign:"left",wrapperCol:t.wrapperCol,label:"大屏"}},[e("a-select",{ref:"select",on:{change:t.getName},model:{value:t.screen,callback:function(e){t.screen=e},expression:"screen"}},t._l(t.ledSetting,(function(i){return e("a-select-option",{key:i.screenCode,attrs:{value:i.id}},[t._v(t._s(i.screenName))])})),1)],1)],1),e("a-col",{attrs:{span:9}},[e("a-radio-group",{attrs:{name:"radioGroup"},on:{change:t.handleContent},model:{value:t.sysContentType,callback:function(e){t.sysContentType=e},expression:"sysContentType"}},[e("a-radio",{attrs:{value:1}},[t._v(" 系统内容 ")]),e("a-radio",{attrs:{value:2}},[t._v(" 自定义内容 ")])],1)],1)],1)],1),e("div",[e("div",{style:{display:t.syscontents?"block":"none"}},[e("a-card",{staticStyle:{"min-height":"410px"}},[e("a-row",{attrs:{gutter:[28,28],type:"flex"}},t._l(t.screenResourceList,(function(i){return e("a-col",{key:i.id,staticClass:"column-imgae",class:{active:t.activeLedItemAddress===i.url},attrs:{flex:"190px"}},[e("div",{staticStyle:{width:"100%",height:"100%"}},[e("h4",[t._v(t._s(i.title))]),e("img",{staticClass:"img-box",attrs:{src:i.preview},on:{click:function(e){return t.chooseLed(i.id)}}})])])})),1)],1)],1),e("div",{style:{display:t.contents?"block":"none"}},[e("a-card",{staticStyle:{"min-height":"410px"}},[e("div",{staticStyle:{"margin-bottom":"30px",width:"300px","margin-left":"60px"}},[e("a-upload",{attrs:{"before-upload":t.beforeLedUpload,multiple:!1,"file-list":t.activeLedFileList,remove:t.removeFile,disabled:t.uploading},on:{preview:t.previewImage}},[e("a-button",{attrs:{type:"primary",loading:t.uploading}},[t.uploading?t._e():e("a-icon",{attrs:{type:"upload"}}),t._v(" 添加文件 ")],1)],1)],1)])],1)])],1)]),e("a-col",{attrs:{span:12}},[e("div",{staticClass:"vd-box"},[e("div",{staticStyle:{"margin-bottom":"-20px"}},[e("a",{staticStyle:{float:"right","margin-top":"10px"},on:{click:function(e){return e.preventDefault(),t.previewFile(2)}}},[t._v("预览")]),e("p",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(t._s(t.screenworkName))])]),e("a-divider",{staticStyle:{"margin-bottom":"0"}}),e("div",[e("a-row",{staticStyle:{height:"75px"},attrs:{gutter:24,type:"flex",align:"middle"}},[e("a-col",{attrs:{flex:"110px"}},[t._v(" 投屏内容： ")]),e("a-col",{attrs:{flex:"280px",justify:"center"}},[e("a-form-item",{staticStyle:{margin:"0"},attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,labelAlign:"left",label:"工班"}},[e("a-select",{ref:"select",staticStyle:{width:"100%"},on:{change:t.getNamework},model:{value:t.screenwork,callback:function(e){t.screenwork=e},expression:"screenwork"}},t._l(t.workSetting,(function(i){return e("a-select-option",{key:i.id,attrs:{value:i.id}},[t._v(t._s(i.groupName))])})),1)],1)],1),e("a-col",{attrs:{span:9}},[e("a-radio-group",{attrs:{name:"radioGroup"},on:{change:t.handleContentWork},model:{value:t.sysGroupContentType,callback:function(e){t.sysGroupContentType=e},expression:"sysGroupContentType"}},[e("a-radio",{attrs:{value:1}},[t._v(" 系统内容 ")]),e("a-radio",{attrs:{value:2}},[t._v(" 自定义内容 ")])],1)],1)],1)],1),e("div",{staticStyle:{"margin-top":"0"}},[e("div",{style:{display:t.syscontentswork?"block":"none"}},[e("a-card",{staticStyle:{"min-height":"410px"}},[e("a-row",{attrs:{gutter:[24,24],type:"flex"}},t._l(t.screenResourceList,(function(i){return e("a-col",{key:i.id,staticClass:"column-imgae",class:{active:t.activeWorkItemAddress===i.url},attrs:{flex:"190px"}},[e("div",{staticStyle:{width:"100%",height:"100%"}},[e("h4",[t._v(t._s(i.title))]),e("img",{staticClass:"img-box",attrs:{src:i.preview},on:{click:function(e){return t.chooseWork(i.id)}}})])])})),1)],1)],1),e("div",{style:{display:t.contentswork?"block":"none"}},[e("a-card",{staticStyle:{"min-height":"410px"}},[e("div",{staticStyle:{"margin-bottom":"30px",width:"300px","margin-left":"60px"}},[e("a-upload",{attrs:{"before-upload":t.beforeWorkUpload,multiple:!1,"file-list":t.activeWorlFileList,remove:t.removeWorkFile,disabled:t.uploading}},[e("a-button",{attrs:{type:"primary",loading:t.uploading}},[t.uploading?t._e():e("a-icon",{attrs:{type:"upload"}}),t._v(" 添加文件 ")],1)],1)],1)])],1)])],1)])],1),e("video-preview",{ref:"preview"})],1)},r=[],o=i("b843"),s=i("b47d"),a=i("182f"),c=i("5371"),l=i("e2aa");function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",r=i.toStringTag||"@@toStringTag";function o(i,n,r,o){var c=n&&n.prototype instanceof a?n:a,l=Object.create(c.prototype);return d(l,"_invoke",function(i,n,r){var o,a,c,l=0,u=r||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,i){return o=e,a=0,c=t,f.n=i,s}};function h(i,n){for(a=i,c=n,e=0;!d&&l&&!r&&e<u.length;e++){var r,o=u[e],h=f.p,p=o[2];i>3?(r=p===n)&&(c=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=t):o[0]<=h&&((r=i<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<p&&(r=i<3||o[0]>n||n>p)&&(o[4]=i,o[5]=n,f.n=p,a=0))}if(r||i>1)return s;throw d=!0,n}return function(r,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),a=u,c=p;(e=a<2?t:c)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,c)):f.n=c:f.v=c);try{if(l=2,o){if(a||(r="next"),e=o[r]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=o.return)&&e.call(o),a<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),a=1);o=t}else if((e=(d=f.n<0)?c:i.call(n,f))!==s)break}catch(e){o=t,a=1,c=e}finally{l=1}}return{value:e,done:d}}}(i,r,o),!0),l}var s={};function a(){}function c(){}function l(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(d(e={},n,(function(){return this})),e),h=l.prototype=a.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,d(t,r,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,d(h,"constructor",l),d(l,"constructor",c),c.displayName="GeneratorFunction",d(l,r,"GeneratorFunction"),d(h),d(h,r,"Generator"),d(h,n,(function(){return this})),d(h,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:o,m:p}})()}function d(t,e,i,n){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}d=function(t,e,i,n){function o(e,i){d(t,e,(function(t){return this._invoke(e,i,t)}))}e?r?r(t,e,{value:i,enumerable:!n,configurable:!n,writable:!n}):t[e]=i:(o("next",0),o("throw",1),o("return",2))},d(t,e,i,n)}function f(t,e,i,n,r,o,s){try{var a=t[o](s),c=a.value}catch(t){return void i(t)}a.done?e(c):Promise.resolve(c).then(n,r)}function h(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function s(t){f(o,n,r,s,a,"next",t)}function a(t){f(o,n,r,s,a,"throw",t)}s(void 0)}))}}var p={name:"VideoPage",components:{Videochd:o["default"],VideoPreview:a["default"],DocUpload:c["default"]},data:function(){return{ledSetting:[],workSetting:[],syscontents:!0,contents:!1,syscontentswork:!0,contentswork:!1,Result:[],Resultwork:[],sysContentType:1,sysGroupContentType:1,count:"",screen:"1",screenName:"led大屏1",screenwork:null,screenworkName:"工班显示",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}},screenResourceList:[],uploading:!1}},computed:{activeLedItem:function(){var t=this;return this.ledSetting.find((function(e){return e.id===t.screen}))},activeLedItemAddress:function(){return this.activeLedItem&&this.activeLedItem.routeList.length>0?this.activeLedItem.routeList[0].url:""},activeLedPreviewUrl:function(){return this.activeLedItem&&this.activeLedItem.fileList.length>0?this.activeLedItem.fileList[0].url:""},activeLedFileList:function(){return this.activeLedItem?this.activeLedItem.fileList:[]},activeWorkItem:function(){var t=this;return this.workSetting.find((function(e){return e.id===t.screenwork}))},activeWorkItemAddress:function(){return this.activeWorkItem&&this.activeWorkItem.routeList.length>0?this.activeWorkItem.routeList[0].url:""},activeWorlPreviewUrl:function(){return this.activeWorkItem&&this.activeWorkItem.fileList.length>0?this.activeWorkItem.fileList[0].url:""},activeWorlFileList:function(){return this.activeWorkItem?this.activeWorkItem.fileList:[]}},created:function(){var t=this;this.initLedSetting().then((function(){t.findList()})),this.initWorkSetting().then((function(){t.findListwork()})),this.findScreenList()},methods:{initFileList:function(t){var e=this,i=/^\/video/g;t.forEach((function(n,r){(1==n.screenType&&n.id==e.screen||2==n.screenType&&n.id==e.screenwork)&&Object(s["hb"])({screenId:n.id}).then((function(e){e.success&&e.result.length>0&&(t[r].fileList.length=0,t[r].routeList.length=0,e.result.forEach((function(e){i.test(e.address)?t[r].fileList.push({uid:e.id,name:e.title,status:"done",url:e.address}):t[r].routeList.push({uid:e.id,name:e.title,status:"done",url:e.address})})))}))}))},initWorkSetting:function(){var t=h(u().m((function t(){var e=this;return u().w((function(t){while(1)switch(t.n){case 0:if(!(this.ledSetting.length>0)){t.n=1;break}return this.workSetting.forEach((function(t,i){e.$set(e.workSetting[i],"fileList",[]),e.$set(e.workSetting[i],"routeList",[])})),this.initFileList(this.workSetting),t.a(2);case 1:return t.a(2,Object(s["kb"])({screenType:2}).then((function(t){t.success&&t.result.length>0&&(e.workSetting=t.result,!e.screenwork&&e.workSetting.length>0&&(e.screenwork=e.workSetting[0].id),e.workSetting.forEach((function(t,i){e.$set(e.workSetting[i],"fileList",[]),e.$set(e.workSetting[i],"routeList",[])})),e.initFileList(e.workSetting))})));case 2:return t.a(2)}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initLedSetting:function(){var t=h(u().m((function t(){var e=this;return u().w((function(t){while(1)switch(t.n){case 0:if(!(this.ledSetting.length>0)){t.n=1;break}return this.ledSetting.forEach((function(t,i){e.$set(e.ledSetting[i],"fileList",[]),e.$set(e.ledSetting[i],"routeList",[])})),this.initFileList(this.ledSetting),t.a(2);case 1:return t.a(2,Object(s["kb"])({screenType:1}).then((function(t){t.success&&t.result.length>0&&(e.ledSetting=t.result,e.ledSetting.forEach((function(t,i){e.$set(e.ledSetting[i],"fileList",[]),e.$set(e.ledSetting[i],"routeList",[])})),e.initFileList(e.ledSetting))})));case 2:return t.a(2)}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),findList:function(){var t=h(u().m((function t(){var e,i=this;return u().w((function(t){while(1)switch(t.n){case 0:return this.loading=!0,e={screenId:this.screen},t.a(2,Object(s["hb"])(e).then((function(t){if(i.Result=t.result,t.success&&i.Result.length>0){var e=/^\/video/g;e.test(i.Result[0].address)?(i.sysContentType=2,i.contents=!0,i.syscontents=!1):(i.sysContentType=1,i.contents=!1,i.syscontents=!0),i.loading=!1}})))}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),findListwork:function(){var t=h(u().m((function t(){var e,i=this;return u().w((function(t){while(1)switch(t.n){case 0:this.loading=!0,e={screenId:this.screenwork},Object(s["ib"])(e).then((function(t){if(i.loading=!1,t.success&&t.result.length>0){var e=/^\/video/g;e.test(t.result[0].address)?(i.sysGroupContentType=2,i.contentswork=!0,i.syscontentswork=!1):(i.sysGroupContentType=1,i.contentswork=!1,i.syscontentswork=!0),i.loading=!1}}));case 1:return t.a(2)}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),findScreenList:function(){var t=this;Object(s["jb"])({}).then((function(e){e.success&&e.result.length>0&&(t.screenResourceList=e.result)}))},previewFile:function(t){if(1===t)if(1===this.sysContentType){var e=this.$router.resolve({path:this.activeLedItemAddress});window.open(e.href,"_blank")}else this.$refs.preview.showModal(this.activeLedPreviewUrl);if(2===t)if(1===this.sysGroupContentType){var i=this.$router.resolve({path:this.activeWorkItemAddress});window.open(i.href,"_blank")}else this.$refs.preview.showModal(this.activeWorlPreviewUrl)},getName:function(t,e){var i=this;this.screenName=this.ledSetting.find((function(e){return e.screenCode==t})).screenName,this.findList().then((function(){i.initLedSetting()}))},getNamework:function(t,e){var i=this;this.findListwork().then((function(){i.initWorkSetting()}))},handleContent:function(t){1==t.target.value&&(this.contents=!1,this.syscontents=!0),2==t.target.value&&(this.contents=!0,this.syscontents=!1)},handleContentWork:function(t){1==t.target.value&&(this.contentswork=!1,this.syscontentswork=!0),2==t.target.value&&(this.contentswork=!0,this.syscontentswork=!1)},chooseLed:function(t){var e=this;this.activeLedItem.fileList.forEach((function(t){e.removeFile(t)})),this.activeLedItem.routeList.forEach((function(t){e.removeFile(t)}));var i=new FormData;i.append("resourceId",t),i.append("screenId",this.activeLedItem.id),Object(s["Mb"])(i).then((function(t){t.success?e.initLedSetting():e.$message.error("保存失败")}))},chooseWork:function(t){var e=this;this.activeWorkItem.fileList.forEach((function(t){e.removeWorkFile(t)})),this.activeWorkItem.routeList.forEach((function(t){e.removeWorkFile(t)}));var i=new FormData;i.append("resourceId",t),i.append("screenId",this.activeWorkItem.id),Object(s["Mb"])(i).then((function(t){t.success?e.initWorkSetting():e.$message.error("保存失败")}))},beforeLedUpload:function(t,e){var i=this;if(!this.uploading)return this.uploading=!0,this.activeLedItem?(this.activeLedItem.fileList.forEach((function(t){i.removeFile(t)})),this.activeLedItem.routeList.forEach((function(t){i.removeFile(t)})),this.beginUploadFile(this.activeLedItem.id,t).then((function(t){t.success?i.initFileList(i.ledSetting):i.$message.error(t.message),i.uploading=!1})).catch((function(t){i.uploading=!1}))):(this.$message.error("大屏信息配置错误"),this.uploading=!1),!1},beforeWorkUpload:function(t){var e=this;if(!this.uploading)return this.uploading=!0,this.activeWorkItem?(this.activeWorkItem.fileList.forEach((function(t){e.removeWorkFile(t)})),this.activeWorkItem.routeList.forEach((function(t){e.removeWorkFile(t)})),this.beginUploadFile(this.activeWorkItem.id,t).then((function(t){t.success?e.initFileList(e.workSetting):e.$message.error(t.message),e.uploading=!1})).catch((function(t){e.uploading=!1}))):(this.uploading=!1,this.$message.error("大屏信息配置错误")),!1},beginUploadFile:function(){var t=h(u().m((function t(e,i){var n,r=this;return u().w((function(t){while(1)switch(t.n){case 0:return n=new FormData,n.append("file",i),t.a(2,Object(l["d"])(n,"/video").then((function(t){var n=new FormData;return n.append("filePath",t.result),n.append("screenId",e),n.append("title",i.name),Object(s["Lb"])(n)})).catch((function(t){r.$message.error("文件上传失败，请联系管理员")})))}}),t)})));function e(e,i){return t.apply(this,arguments)}return e}(),removeFile:function(t){var e=this,i=new FormData;i.append("ids",t.uid),Object(s["D"])(i).then((function(t){t.success&&e.initLedSetting()}))},removeWorkFile:function(t){var e=this,i=new FormData;i.append("ids",t.uid),Object(s["D"])(i).then((function(t){t.success&&e.initWorkSetting()}))},previewImage:function(t){return this.$refs.preview.showModal(this.activeLedPreviewUrl),!1}}},v=p,m=(i("9e30"),i("2877")),g=Object(m["a"])(v,n,r,!1,null,"1637faf0",null);e["default"]=g.exports},"9e30":function(t,e,i){"use strict";i("1d46")},b843:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("a-card",{staticStyle:{height:"300px"}},[e("div",{staticStyle:{"margin-bottom":"30px",width:"300px","margin-left":"60px"}},[e("a-upload",{attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","default-file-list":t.defaultFileList}},[e("a-button",{attrs:{type:"primary"}},[e("a-icon",{attrs:{type:"upload"}}),t._v(" 添加文件 ")],1),e("a-button",{staticStyle:{"background-color":"#67c23a","margin-left":"8px",color:"white"}},[t._v("上传至服务器")])],1)],1)])},r=[],o={name:"Videochd",data:function(){return{defaultFileList:[{uid:"1",name:"xxx.png",status:"done",response:"Server Error 500",url:"http://www.baidu.com/xxx.png"},{uid:"2",name:"yyy.png",status:"done",url:"http://www.baidu.com/yyy.png"},{uid:"3",name:"zzz.png",status:"error",response:"Server Error 500",url:"http://www.baidu.com/zzz.png"}]}}},s=o,a=i("2877"),c=Object(a["a"])(s,n,r,!1,null,"1054245d",null);e["default"]=c.exports},d865:function(t,e,i){"use strict";i("93b2")}}]);