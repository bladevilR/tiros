(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aab67"],{"11d5":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e._self._c;return a("div",{staticClass:"bodyWrapper",staticStyle:{height:"100% !important"},attrs:{"na-flex-height-full":""}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.findList.apply(null,arguments)}}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{attrs:{placeholder:"请输入名称","allow-clear":""},model:{value:e.queryParam.name,callback:function(a){e.$set(e.queryParam,"name",a)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"类型"}},[a("j-dict-select-tag",{attrs:{triggerChange:"",dictCode:"bu_form_type"},model:{value:e.queryParam.formType,callback:function(a){e.$set(e.queryParam,"formType",a)},expression:"queryParam.formType"}})],1)],1),a("a-col",{attrs:{md:3,sm:24}},[a("a-form-item",{attrs:{label:"线路"}},[a("line-select-list",{model:{value:e.queryParam.lineId,callback:function(a){e.$set(e.queryParam,"lineId",a)},expression:"queryParam.lineId"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"修程"}},[a("j-dict-select-tag",{attrs:{triggerChange:"",dictCode:"bu_repair_program,name,id"},on:{change:e.handleProgram},model:{value:e.queryParam.repairProgramId,callback:function(a){e.$set(e.queryParam,"repairProgramId",a)},expression:"queryParam.repairProgramId"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"规程"}},[a("j-dict-select-tag",{attrs:{triggerChange:"",dictCode:e.dicStr},on:{focus:e.handleFocusRegu},model:{value:e.queryParam.reguId,callback:function(a){e.$set(e.queryParam,"reguId",a)},expression:"queryParam.reguId"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-space",[a("a-button",{on:{click:e.findList}},[e._v("查询")]),a("a-button",{attrs:{disabled:1!=e.records.length,type:"primary"},on:{click:function(a){return e.setValue(e.records[0])}}},[e._v(" 阈值设置 ")])],1)],1)],1)],1)],1),a("div",{staticStyle:{height:"calc(100% - 87px)"}},[a("vxe-table",{ref:"listTable",attrs:{border:"",align:"center",height:"auto","auto-resize":"",data:e.tableData,"checkbox-config":{trigger:"row",highlight:!0,range:!0},"show-overflow":"tooltip"},on:{"checkbox-change":e.rangeChange,"checkbox-all":e.rangeChange}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),a("vxe-table-column",{attrs:{field:"name",title:"表单名称",align:"left","header-align":"center","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return a.stopPropagation(),e.viewForm(r)}}},[e._v(e._s(r.name))])]}}])}),a("vxe-table-column",{attrs:{field:"code",title:"编码",align:"left","header-align":"center",width:"80"}}),a("vxe-table-column",{attrs:{field:"type_dictText",title:"类型",width:"80"}}),a("vxe-table-column",{attrs:{field:"lineName",title:"线路",width:"100"}}),a("vxe-table-column",{attrs:{field:"repairProgramName",title:"修程",width:"100"}}),a("vxe-table-column",{attrs:{field:"reguName",title:"所属规程",width:"120"}}),a("vxe-table-column",{attrs:{field:"status_dictText",title:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",{style:{backgroundColor:e.statusColor[r.status+""],borderRadius:"4px"}},[e._v(" "+e._s(r.status_dictText)+" ")])]}}])})],1)],1),a("div",{staticStyle:{height:"45px","background-color":"#fff"}},[a("vxe-pager",{attrs:{perfect:"","current-page":e.queryParam.pageNo,"page-size":e.queryParam.pageSize,total:e.page.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(a){return e.$set(e.queryParam,"pageNo",a)},"update:current-page":function(a){return e.$set(e.queryParam,"pageNo",a)},"update:pageSize":function(a){return e.$set(e.queryParam,"pageSize",a)},"update:page-size":function(a){return e.$set(e.queryParam,"pageSize",a)},"page-change":e.handlePageChange}})],1),a("FormModalView",{ref:"FormModalView"})],1)},i=[],n=t("b7b4"),l=t("5633"),o=t("ca00"),s=t("a296"),u={name:"ThresholdValuePage",components:{LineSelectList:l["default"],FormModalView:s["default"]},data:function(){return{assetTypeName:void 0,records:[],dicStr:"",statusColor:{0:"#dedede",1:"#bad795"},queryParam:{name:"",formType:null,lineId:"",repairProgramId:"",reguId:"",status:1,pageNo:1,pageSize:10},tableData:[],page:{totalResult:1}}},mounted:function(){this.findList()},methods:{setValue:function(e){this.$refs.FormModalView.showModal(e)},viewForm:function(e){this.$refs.FormModalView.showModal(e,!0)},handleProgram:function(e){e?this.dicStr="bu_repair_regu_info,name,id,status=1 and repair_pro_id='".concat(e,"'"):(this.queryParam.reguId="",this.dicStr="")},handleFocusRegu:function(){var e=this.queryParam.repairProgramId;Object(o["e"])(e)&&this.$message.warn("请先选择修程类型")},rangeChange:function(e){var a=e.records;this.records=a},findList:function(){var e=this;Object(n["C"])(this.queryParam).then((function(a){e.page.totalResult=a.result.total,e.tableData=a.result.records}))},handlePageChange:function(e){var a=e.currentPage,t=e.pageSize;this.queryParam.pageNo=a,this.queryParam.pageSize=t,this.findList()}}},c=u,d=t("2877"),m=Object(d["a"])(c,r,i,!1,null,null,null);a["default"]=m.exports}}]);