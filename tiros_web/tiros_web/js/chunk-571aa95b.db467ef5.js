(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-571aa95b","chunk-42391c95"],{"260f":function(e,t,r){},"353a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{width:"80%",visible:e.visible,title:e.title,centered:"",bodyStyle:{height:"80vh"},confirmLoading:e.confirmLoading,destroyOnClose:!0,footer:null},on:{cancel:e.handleCancel}},[t("div",[t("iframe",{staticClass:"filename",staticStyle:{height:"calc(80vh - 25px)"},attrs:{src:e.filePath,width:"100%",frameborder:"0"}})])])},o=[],i=r("e2aa"),n={name:"DocPreviewModal",props:{title:{type:String,default:"文件预览"}},data:function(){return{visible:!1,confirmLoading:!1,filePath:""}},methods:{handleFilePath:function(e){var t=this;Object(i["c"])(e).then((function(e){if(e.success){var r=e.result;t.visible=!0,t.filePath=window._CONFIG["onlinePreviewDomainURL"]+"?url="+encodeURIComponent(r)}else t.$message.warning("查看文件失败")}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},l=n,d=(r("9216"),r("2877")),c=Object(d["a"])(l,a,o,!1,null,"484795fd",null);t["default"]=c.exports},"4fe7e":function(e,t,r){},9216:function(e,t,r){"use strict";r("260f")},a2a1:function(e,t,r){"use strict";r("4fe7e")},b7b4:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"i",(function(){return i})),r.d(t,"l",(function(){return n})),r.d(t,"c",(function(){return d})),r.d(t,"t",(function(){return c})),r.d(t,"v",(function(){return l})),r.d(t,"n",(function(){return u})),r.d(t,"C",(function(){return m})),r.d(t,"D",(function(){return f})),r.d(t,"p",(function(){return p})),r.d(t,"m",(function(){return h})),r.d(t,"j",(function(){return w})),r.d(t,"w",(function(){return v})),r.d(t,"a",(function(){return g})),r.d(t,"h",(function(){return y})),r.d(t,"k",(function(){return j})),r.d(t,"q",(function(){return O})),r.d(t,"z",(function(){return k})),r.d(t,"r",(function(){return x})),r.d(t,"e",(function(){return I})),r.d(t,"s",(function(){return _})),r.d(t,"B",(function(){return P})),r.d(t,"x",(function(){return q})),r.d(t,"y",(function(){return S})),r.d(t,"d",(function(){return C})),r.d(t,"f",(function(){return N})),r.d(t,"o",(function(){return b})),r.d(t,"A",(function(){return L})),r.d(t,"E",(function(){return T})),r.d(t,"g",(function(){return D})),r.d(t,"u",(function(){return s}));var a=r("0fea"),o=function(e){return Object(a["j"])("/quality/rectify/add",e)},i=function(e){return Object(a["j"])("/quality/rectify/delete",e)},n=function(e){return Object(a["j"])("/quality/rectify/edit",e)},l=function(e){return Object(a["d"])("/quality/rectify/page",e)},d=function(e){return Object(a["j"])("/quality/rectify/close",e)},c=function(e){return Object(a["d"])("/quality/rectify/get",e)},s=function(e){return Object(a["d"])("/quality/rectify/getCode",e)},u=function(e){return Object(a["d"])("/quality/measurealert/page",e)},m=function(e){return Object(a["d"])("/quality/measurethreshold/form/page-data-form",e)},f=function(e){return Object(a["j"])("/quality/measurethreshold/threshold/save",e)},p=function(e){return Object(a["d"])("/quality/measurethreshold/threshold/list/".concat(e))},b=function(e){return Object(a["d"])("/serialPlan/plan/forms/online-form/alert-records",{dataRecordId:e})},h=function(e){return Object(a["j"])("/quality/measurethreshold/threshold/edit",e)},w=function(e){return Object(a["j"])("/quality/measurethreshold/threshold/delete",e)},v=function(e){return Object(a["d"])("/quality/measurethreshold/threshold/get",e)},g=function(e){return Object(a["j"])("/quality/leaverecord/add",e)},y=function(e){return Object(a["j"])("/quality/leaverecord/delete",e)},C=function(e){return Object(a["j"])("/quality/leaverecord/close",e)},j=function(e){return Object(a["j"])("/quality/leaverecord/edit",e)},O=function(e){return Object(a["d"])("/quality/leaverecord/page",e)},k=function(e,t){return Object(a["c"])("/quality/leaverecord/workLeaveRecordExport",e,t)},x=function(e){return Object(a["d"])("/quality/record-confirm/list",e)},I=function(e){return Object(a["j"])("/quality/record-confirm/confirm",e)},_=function(e){return Object(a["d"])("/quality/record-confirm/work-record/get",e)},q=function(e){return Object(a["d"])("/serialPlan/plan/forms/check-record/get",e)},S=function(e){return Object(a["d"])("/workcheck/get",e)},N=function(e){return Object(a["j"])("/quality/record-confirm/confirm",e)},P=function(e){return Object(a["d"])("/quality/record-confirm/page",e)},L=function(e){return Object(a["d"])("/quality/record-confirm/page/check-record",e)},T=function(e){return Object(a["j"])("/serialPlan/plan/forms/judge/save",e)},D=function(e){return Object(a["j"])("/serialPlan/plan/forms/judge/delete",e)}},b8d8:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("j-modal",{attrs:{title:e.title,width:"90%",centered:"",visible:e.visible,footer:null,destroyOnClose:!0,fullscreen:"",cancelText:"关闭"},on:{cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"编码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["rectifyNo"],expression:"['rectifyNo']",modifiers:{trim:!0}}],attrs:{placeholder:"请输入",disabled:""}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"整改类型"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["rectifyType"],expression:"['rectifyType']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,dictCode:"bu_work_rectify_type",disabled:""}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"关联工单"}},[t("span",[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["orderName"],expression:"['orderName']",modifiers:{trim:!0}}],ref:"myOrderSelect",attrs:{"allow-clear":"",placeholder:"请选择工单",open:!1,showArrow:!0,disabled:""}},[t("a-icon",{attrs:{slot:"suffixIcon",type:"ellipsis"},slot:"suffixIcon"})],1)],1)])],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"责任班组"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["groupId"],expression:"['groupId']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,dictCode:e.dictGroupStr,disabled:""},on:{change:e.changeGroup}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"整改状态"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["status"],expression:"['status']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,dictCode:"bu_work_rectify_status",disabled:""}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"整改工位"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["workstationId"],expression:"['workstationId']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,dictCode:e.dictCodeStr,disabled:""}})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"车辆段"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["depotId"],expression:"['depotId']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,dictCode:"bu_mtr_depot,name,id",disabled:""}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"线路"}},[t("line-select-list",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineId"],expression:"['lineId']"}],attrs:{disabled:""}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"整改工序"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["orderTaskId"],expression:"['orderTaskId']",modifiers:{trim:!0}}],attrs:{triggerChange:!0,dictCode:e.dictCodeStrOrder,disabled:""}})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:16,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol2,wrapperCol:e.wrapperCol2,label:"任务名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["title"],expression:"['title']",modifiers:{trim:!0}}],attrs:{placeholder:"请输入",disabled:""}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"下发日期",width:"40"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["sendDate"],expression:"['sendDate']",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{disabled:""}})],1)],1)],1),t("a-row",{attrs:{gutter:24}}),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:23,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol1,wrapperCol:e.wrapperCol1,label:"备注说明"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["remark"],expression:"['remark']",modifiers:{trim:!0}}],attrs:{placeholder:"请输入",disabled:""}})],1)],1)],1),t("a-divider",{staticStyle:{"font-size":"14px"},attrs:{orientation:"left"}},[e._v("已上传列表")]),t("vxe-table",{staticStyle:{"margin-top":"12px"},attrs:{border:"",data:e.annexList,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[t("div",{}),t("vxe-table-column",{attrs:{type:"seq",title:"序号",width:"50px","header-align":"center",align:"center"}}),t("vxe-table-column",{attrs:{field:"title",title:"文件名","header-align":"left",align:"left"}}),t("vxe-table-column",{attrs:{title:"操作",width:"160px","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.row;return[t("a",{staticStyle:{"margin-right":"12px"},on:{click:function(t){return t.stopPropagation(),e.handleSeeing(a)}}},[e._v("查看")])]}}])})],1),t("doc-preview-modal",{ref:"docPreview",attrs:{title:e.fileName}})],1)],1)],1)},o=[],i=r("c1df"),n=r.n(i),l=r("353a"),d=r("b7b4"),c=r("5633");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=f(e,"string");return"symbol"==s(t)?t:t+""}function f(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p={name:"ViewFaultTaskItem",components:{DocPreviewModal:l["default"],LineSelectList:c["default"]},data:function(){var e;return e={title:"操作",dictGroupStr:"bu_mtr_workshop_group,group_name,id,workshop_id='"+this.$store.getters.userInfo.workshopId+"'|workshop_id",fileList:[],annexList:[],rectifyId:"",filePath:"",fileName:"",status:!1,uploading:!1,dictCodeStr:"bu_mtr_workstation,name,id",dictCodeStrOrder:""},u(u(u(u(u(u(u(u(u(u(e,"title","整改项信息"),"visible",!1),"model",{}),"labelCol",{xs:{span:24},sm:{span:7}}),"wrapperCol",{xs:{span:24},sm:{span:13}}),"labelCol1",{xs:{span:24},sm:{span:2}}),"wrapperCol1",{xs:{span:24},sm:{span:22}}),"labelCol2",{xs:{span:24},sm:{span:3}}),"wrapperCol2",{xs:{span:24},sm:{span:19}}),"dutyUsername",""),u(u(u(u(u(e,"dutyUserId",""),"isClose",!1),"confirmLoading",!1),"form",this.$form.createForm(this)),"workOrderId","")},created:function(){},methods:{view:function(e){var t=this;this.visible=!0,this.confirmLoading=!0,Object(d["t"])({id:e.taskObjId}).then((function(e){t.confirmLoading=!1,e.success&&(t.model=e.result,t.$nextTick((function(){t.form.setFieldsValue({rectifyNo:t.model.rectifyNo,rectifyType:t.model.rectifyType,groupId:t.model.groupId,workstationId:t.model.workstationId,lineId:t.model.lineId,status:t.model.status,sendDate:n()(t.model.sendDate||new Date,"YYYY-MM-DD"),depotId:t.model.depotId,title:t.model.title,remark:t.model.remark,orderTaskId:t.model.orderTaskId,orderName:t.model.orderName}),t.annexList=t.model.annexList||[]})))}))},changeGroup:function(e){this.dictCodeStr=e?"bu_mtr_workstation,name,id,id in (select workstation_id from bu_group_workstation where group_id = '"+e+"')":"bu_mtr_workstation,name,id"},handleSeeing:function(e){this.fileName=e.title,this.$refs.docPreview.handleFilePath(e.address)},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1,this.handleModel={}}}},b=p,h=(r("a2a1"),r("2877")),w=Object(h["a"])(b,a,o,!1,null,"415219de",null);t["default"]=w.exports}}]);