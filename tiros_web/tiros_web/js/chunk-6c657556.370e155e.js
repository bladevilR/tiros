(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c657556"],{3359:function(e,i,n){},"49c3":function(e,i,n){"use strict";n.r(i);var t=function(){var e=this,i=e._self._c;return i("div",{attrs:{id:"videoImage"}},[e.isVideo?e._e():i("img",{attrs:{src:e.fileUrl}}),e.isVideo?i("video",{ref:"videoElement",attrs:{src:e.fileUrl,autoplay:"autoplay",loop:"loop",name:"media"}}):e._e(),e.spanLoading?i("div",{staticStyle:{position:"fixed"}},[i("a-spin",{staticClass:"loading-animation",attrs:{size:"large"}})],1):e._e()])},o=[],s=n("e2aa"),d={name:"VideoPreview",data:function(){return{visible:!1,conpomentName:"CostWorkshopPage",fileUrl:"",windowEvent:window.ledFileUrl,isVideo:!1,spanLoading:!0}},created:function(){window.addEventListener("Led_Route_video",this.listenerFun)},destroyed:function(){window.removeEventListener("Led_Route_video",this.listenerFun),this.$refs.videoElement&&(this.$refs.videoElement.removeEventListener("error",this.onload),this.$refs.videoElement.removeEventListener("play",this.onPlaying)),this.fileUrl=""},mounted:function(){var e=this;this.$nextTick((function(){window.ledFileUrl&&e.loadingFile()}))},methods:{listenerFun:function(e){e.detail;this.loadingFile()},loadingFile:function(){var e=this,i=new RegExp(".mp4","i");this.isVideo=i.test(window.ledFileUrl),this.spanLoading=this.isVideo,this.$nextTick((function(){e.isVideo&&e.$refs.videoElement&&(e.$refs.videoElement.removeEventListener("error",e.onload),e.$refs.videoElement.addEventListener("error",e.onload),e.$refs.videoElement.removeEventListener("play",e.onPlaying),e.$refs.videoElement.addEventListener("play",e.onPlaying)),Object(s["c"])(window.ledFileUrl).then((function(i){i.success?e.$refs.videoElement?(e.fileUrl=i.result,e.$nextTick((function(){e.$refs.videoElement.load()}))):e.fileUrl=i.result:e.$message.error("文件预览失败")}))}))},onload:function(e){var i=this;setTimeout((function(){i.$refs.videoElement.load()}),500)},onPlaying:function(){this.spanLoading=!1}}},l=d,r=(n("57dd"),n("2877")),a=Object(r["a"])(l,t,o,!1,null,"ad66fc08",null);i["default"]=a.exports},"57dd":function(e,i,n){"use strict";n("3359")}}]);