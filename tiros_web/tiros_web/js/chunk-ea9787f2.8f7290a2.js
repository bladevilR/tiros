(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea9787f2"],{"5e47":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{id:"RecordLeftContent"}},[t("div",{staticClass:"typeTitle"},[e._v("作业项目")]),t("div",{staticClass:"opBtn"},[t("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[t("a-button",{attrs:{size:"small"},on:{click:e.handleAdd}},[e._v("新增")])],1),t("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[t("a-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"small"},on:{click:e.handleEdit}},[e._v("修改")])],1),t("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[t("a-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"small"},on:{click:e.handleDel}},[e._v("删除")])],1)],1),t("div",{staticStyle:{width:"90%",margin:"0 auto"}},[t("vxe-table",{ref:"listTable",attrs:{border:"",stripe:!1,"row-id":"id",align:e.allAlign,data:e.treeDataSource,"show-overflow":"tooltip","radio-config":{highlight:!0,trigger:"row"}},on:{"radio-change":e.radioChangeEvent}},[t("vxe-table-column",{attrs:{type:"radio",width:"40"}}),t("vxe-table-column",{attrs:{field:"recIndex",title:"序号",width:"60"}}),t("vxe-table-column",{attrs:{field:"reguTitle",title:"项目名称",align:"left","header-align":"center"}})],1)],1),t("cat-item-modal",{ref:"modalForm",attrs:{recordId:e.recordId},on:{ok:function(t){return e.loadData()}}})],1)},n=[],o=a("8fad"),r=a("f020"),s={name:"TrainTypeSysLeft",props:["recordId","value"],components:{CatItemModal:r["default"]},data:function(){return{cardLoading:!0,loading:!1,treeDataSource:[],selectedNode:{},defaultKey:[],allAlign:"center",tStyle:{"text-align":"center"}}},created:function(){this.queryTreeData()},methods:{queryTreeData:function(){var e=this;Object(o["Jc"])(this.recordId).then((function(t){t.success&&(e.defaultKey[0]=t.result[0].id,e.selectedNode=t.result[0],e.$emit("input",t.result[0].id),e.treeDataSource=t.result,e.$refs.listTable.setRadioRow(e.treeDataSource[0]))})).finally((function(){e.loading=!1,e.cardLoading=!1}))},handleTreeSelect:function(e,t){if(e.length>0){this.selectedNode=t.node.dataRef;var a=t.node.dataRef.id;this.$emit("input",a)}else this.selectedNode={}},radioChangeEvent:function(e){var t=e.row;this.selectedNode=t;var a=t.id;this.$emit("input",a)},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增"},handleEdit:function(){this.selectedNode.id?(this.$refs.modalForm.edit(this.selectedNode),this.$refs.modalForm.title="编辑"):this.$message.error("请先选择一条数据！")},handleDel:function(){var e=this;this.$confirm({content:"是否删除该作业项目",okText:"确认",cancelText:"取消",onOk:function(){e.selectedNode.id?Object(o["Z"])({ids:e.selectedNode.id}).then((function(t){t.success?(e.$message.success(t.message),e.selectedNode={},e.loadData()):e.$message.error(t.message)})):e.$message.error("请先选择一条数据！")}})},loadData:function(){this.queryTreeData()}}},d=s,l=(a("9818"),a("2877")),c=Object(l["a"])(d,i,n,!1,null,null,null);t["default"]=c.exports},7031:function(e,t,a){},9818:function(e,t,a){"use strict";a("7031")}}]);