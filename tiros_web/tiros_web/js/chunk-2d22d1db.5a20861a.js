(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d1db"],{f5b8:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:6,sm:8}},[t("a-form-item",[t("a-space",[t("a-button",{staticClass:"primary-color",attrs:{type:"dashed"},on:{click:e.handleAdd}},[e._v("添加")]),t("a-button",{attrs:{type:"dashed"},on:{click:e.handleDel}},[e._v("删除")])],1)],1)],1)],1)],1),t("vxe-table",{ref:"personsTable",attrs:{border:"","keep-source":"",align:"center",data:e.taskPersons,"checkbox-config":{trigger:"row",highlight:!0},"edit-rules":e.validRules,"edit-config":{key:"id",trigger:"manual",mode:"row",autoClear:!1,showStatus:!0}},on:{"update:data":function(t){e.taskPersons=t}}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),t("vxe-table-column",{attrs:{field:"amount",title:"所需人数",width:"150","edit-render":{name:"input"},align:"right","header-align":"center"},scopedSlots:e._u([{key:"edit",fn:function(r){var n=r.row;return[t("a-input-number",{staticStyle:{width:"100%"},attrs:{defaultValue:1,min:1,max:100},model:{value:n.amount,callback:function(t){e.$set(n,"amount",t)},expression:"row.amount"}})]}}])}),t("vxe-table-column",{attrs:{field:"requirePostion",title:"岗位要求",width:"300","edit-render":{name:"input"},align:"left","header-align":"center"},scopedSlots:e._u([{key:"edit",fn:function(r){var n=r.row;return[t("a-input",{attrs:{placeholder:"请输入岗位需求"},model:{value:n.requirePostion,callback:function(t){e.$set(n,"requirePostion",t)},expression:"row.requirePostion"}})]}}])}),t("vxe-table-column",{attrs:{field:"requireTech",title:"技能要求",width:"300","edit-render":{name:"input"},align:"left","header-align":"center"},scopedSlots:e._u([{key:"edit",fn:function(r){var n=r.row;return[t("a-input",{attrs:{placeholder:"请输入技能要求"},model:{value:n.requireTech,callback:function(t){e.$set(n,"requireTech",t)},expression:"row.requireTech"}})]}}])}),t("vxe-table-column",{attrs:{field:"requireCertificate",title:"证书要求",width:"300","edit-render":{name:"input"},align:"left","header-align":"center"},scopedSlots:e._u([{key:"edit",fn:function(r){var n=r.row;return[t("a-input",{attrs:{placeholder:"请输入证书要求"},model:{value:n.requireCertificate,callback:function(t){e.$set(n,"requireCertificate",t)},expression:"row.requireCertificate"}})]}}])}),t("vxe-table-column",{attrs:{field:"remark",title:"备注","edit-render":{name:"input"},align:"left","header-align":"center"},scopedSlots:e._u([{key:"edit",fn:function(r){var n=r.row;return[t("a-input",{attrs:{placeholder:"请输入备注"},model:{value:n.remark,callback:function(t){e.$set(n,"remark",t)},expression:"row.remark"}})]}}])}),t("vxe-table-column",{attrs:{title:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.row;return[e.$refs.personsTable.isActiveByRow(n)?[t("a-space",[t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.saveRowEvent(n)}}},[e._v("保存")]),t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.cancelRowEvent(n)}}},[e._v("取消")])],1)]:[t("a-button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return t.stopPropagation(),e.editRowEvent(n)}}},[e._v("编辑")])]]}}])})],1)],1)},a=[],i=r("ca00"),s={name:"VxeTableDemo",data:function(){return{taskPersons:[],curEditMode:0,validRules:{amount:[{required:!0,message:"数量必须填写"}],requireTech:[{required:!0,message:"技术要求必须填写"}]}}},methods:{handleAdd:function(){var e=this;if(!this.$refs.personsTable.getActiveRecord()){this.curEditMode=1;var t={id:Object(i["p"])()};this.$refs.personsTable.insertAt(t,-1).then((function(t){var r=t.row;return e.$refs.personsTable.setActiveCell(r,"amount")}))}},handleDel:function(){var e=this,t=this.$refs.personsTable.getCheckboxRecords();t.length<1?this.$message.warn("请选择要删除的数据"):this.$confirm({content:"确认删除选中的数据？",onOk:function(){t.map((function(t){e.taskPersons.map((function(r,n){t.id===r.id&&e.taskPersons.splice(n,1)}))}))}})},editRowEvent:function(e){this.curEditMode=2,this.$refs.personsTable.setActiveRow(e)},delRowEvent:function(e){var t=this;this.taskPersons.map((function(r,n){e.id===r.id&&t.taskPersons.splice(n,1)}))},saveRowEvent:function(e){var t=this;this.$refs.personsTable.validate(e,(function(r){r||(1===t.curEditMode&&t.taskPersons.push(e),t.$refs.personsTable.clearActived(),t.curEditMode=0)}))},cancelRowEvent:function(e){this.$refs.personsTable.clearActived(),1===this.curEditMode&&this.$refs.personsTable.remove(e),this.curEditMode=0}}},o=s,l=r("2877"),c=Object(l["a"])(o,n,a,!1,null,"154be865",null);t["default"]=c.exports}}]);