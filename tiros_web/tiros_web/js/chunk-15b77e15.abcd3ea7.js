(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15b77e15","chunk-2be8c511","chunk-7ec42f5e","chunk-16aa987a","chunk-42391c95","chunk-137732da","chunk-7b9ab844","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-1ffda959","chunk-75c336bb","chunk-42d86cfa","chunk-056e7708","chunk-88e6a632","chunk-2e6aa6aa","chunk-46a3fbfc","chunk-5c0dde06","chunk-2d0c89b7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7","chunk-2d0ea0c7"],{"0196":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticStyle:{height:"calc(100vh - 190px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 190px)"},attrs:{border:"","max-height":"100%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),e("vxe-table-column",{attrs:{field:"name",align:"left","header-align":"center",title:"设备名称","min-width":"120"}}),e("vxe-table-column",{attrs:{field:"code",title:"设备编码",width:"120"}}),e("vxe-table-column",{attrs:{field:"maximoAssetType",title:"设备类型",width:"100"}}),e("vxe-table-column",{attrs:{field:"vendor",title:"厂商",width:"120"}}),e("vxe-table-column",{attrs:{field:"brand",title:"品牌",width:"120"}}),e("vxe-table-column",{attrs:{field:"manufNo",title:"出厂编号",width:"120"}}),e("vxe-table-column",{attrs:{field:"model",title:"规格类型","min-width":"140",align:"left","header-align":"center"}})],1)],1)])},n=[],i=a("3bcd"),o={name:"ChileInfo",props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},data:function(){return{queryParam:{structureDetailId:"",trainNo:""},totalResult:0,allAlign:"center",tableData:[],count:""}},created:function(){},watch:{structureDetailId:{immediate:!0,handler:function(t){this.queryParam.parentId=t,this.queryParam.trainNo=this.trainNo,this.findList()}}},methods:{findList:function(){var t=this;this.loading=!0,Object(i["N"])(this.queryParam).then((function(e){t.loading=!1,t.tableData=e.result,null!=e.result&&null!=e.result.ext&&(t.tableData.brand=e.result.ext.brand,t.tableData.model=e.result.ext.model,t.tableData.vendor=e.result.ext.vendor,t.tableData.manufNo=e.result.ext.manufNo)}))},loadData:function(){this.findList()},jumpInfo:function(t){}}},c=o,u=a("2877"),l=Object(u["a"])(c,r,n,!1,null,"093d7b1e",null);e["default"]=l.exports},"079a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{"body-style":t.cardStyle}},[e("div",[e("a-form",{attrs:{form:t.form}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"设备编码"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["code"],expression:"[ 'code' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"设备名称"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["name"],expression:"[ 'name' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"上级设备"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["parentName"],expression:"['parentName' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"设备类型"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["maximoAssetType"],expression:"['maximoAssetType' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"设备品牌"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["brand"],expression:"[ 'brand' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"规格型号"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["model"],expression:"[ 'model' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"设备厂商"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["vendor"],expression:"[ 'vendor' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"出厂编号"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["manufNo"],expression:"[ 'manufNo' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"所属位置"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["locationCode"],expression:"[ 'locationCode' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"位置名称"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["locationName"],expression:"[ 'locationName' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:24,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol1,wrapperCol:t.wrapperCol1,label:"备注"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["remark"],expression:"[ 'remark' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1)],1)],1)])},n=[],i=a("3bcd"),o={name:"ResBasicInfo",props:["trainNo","structureDetail"],data:function(){return{cardStyle:{padding:"10px",height:"calc(100vh - 185px)"},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}},labelCol1:{xs:{span:24},sm:{span:2}},wrapperCol1:{xs:{span:24},sm:{span:21}},queryParam:{structureDetailId:"",trainNo:""},allAlign:"center",tableData:[],form:this.$form.createForm(this)}},watch:{structureDetail:{immediate:!0,handler:function(t){this.queryParam.structureDetailId=t,this.findList()}}},methods:{findList:function(){var t=this;this.queryParam.maximoAssetId=this.structureDetail,this.queryParam.trainNo=this.trainNo,Object(i["t"])({maximoAssetId:this.structureDetail}).then((function(e){t.tableData=e.result,null!=e.result&&(t.form.setFieldsValue({code:t.tableData.code,name:t.tableData.name,parentName:t.tableData.parentName,maximoAssetType:t.tableData.maximoAssetType,locationCode:t.tableData.locationCode,locationName:t.tableData.locationName,remark:t.tableData.remark}),null!=e.result.ext&&t.form.setFieldsValue({brand:t.tableData.ext.brand,model:t.tableData.ext.model,vendor:t.tableData.ext.vendor,manufNo:t.tableData.ext.manufNo}))}))}}},c=o,u=a("2877"),l=Object(u["a"])(c,r,n,!1,null,"c3ff4290",null);e["default"]=l.exports},2592:function(t,e,a){"use strict";a("5538")},"260f":function(t,e,a){},"353a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{width:"80%",visible:t.visible,title:t.title,centered:"",bodyStyle:{height:"80vh"},confirmLoading:t.confirmLoading,destroyOnClose:!0,footer:null},on:{cancel:t.handleCancel}},[e("div",[e("iframe",{staticClass:"filename",staticStyle:{height:"calc(80vh - 25px)"},attrs:{src:t.filePath,width:"100%",frameborder:"0"}})])])},n=[],i=a("e2aa"),o={name:"DocPreviewModal",props:{title:{type:String,default:"文件预览"}},data:function(){return{visible:!1,confirmLoading:!1,filePath:""}},methods:{handleFilePath:function(t){var e=this;Object(i["c"])(t).then((function(t){if(t.success){var a=t.result;e.visible=!0,e.filePath=window._CONFIG["onlinePreviewDomainURL"]+"?url="+encodeURIComponent(a)}else e.$message.warning("查看文件失败")}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},c=o,u=(a("9216"),a("2877")),l=Object(u["a"])(c,r,n,!1,null,"484795fd",null);e["default"]=l.exports},"3ab9":function(t,e,a){},"3bcd":function(t,e,a){"use strict";a.d(e,"P",(function(){return n})),a.d(e,"N",(function(){return i})),a.d(e,"F",(function(){return o})),a.d(e,"J",(function(){return c})),a.d(e,"t",(function(){return u})),a.d(e,"i",(function(){return g})),a.d(e,"j",(function(){return v})),a.d(e,"h",(function(){return j})),a.d(e,"g",(function(){return w})),a.d(e,"l",(function(){return y})),a.d(e,"c",(function(){return k})),a.d(e,"e",(function(){return C})),a.d(e,"f",(function(){return x})),a.d(e,"d",(function(){return O})),a.d(e,"b",(function(){return P})),a.d(e,"x",(function(){return N})),a.d(e,"z",(function(){return _})),a.d(e,"w",(function(){return D})),a.d(e,"H",(function(){return S})),a.d(e,"I",(function(){return q})),a.d(e,"y",(function(){return T})),a.d(e,"A",(function(){return I})),a.d(e,"B",(function(){return L})),a.d(e,"M",(function(){return R})),a.d(e,"r",(function(){return A})),a.d(e,"E",(function(){return z})),a.d(e,"k",(function(){return d})),a.d(e,"D",(function(){return f})),a.d(e,"u",(function(){return s})),a.d(e,"L",(function(){return l})),a.d(e,"a",(function(){return m})),a.d(e,"K",(function(){return $})),a.d(e,"m",(function(){return F})),a.d(e,"p",(function(){return J})),a.d(e,"o",(function(){return B})),a.d(e,"G",(function(){return p})),a.d(e,"v",(function(){return h})),a.d(e,"C",(function(){return b})),a.d(e,"n",(function(){return M})),a.d(e,"q",(function(){return Y})),a.d(e,"s",(function(){return U})),a.d(e,"O",(function(){return G}));var r=a("0fea"),n=function(t){return Object(r["d"])("/produce/train/history/tree/line-train",t)},i=function(t){return Object(r["d"])("/produce/train/history/maximo-asset/list-child",t)},o=function(t){return Object(r["d"])("/produce/train/history/train/get",t)},c=function(t){return Object(r["d"])("/produce/train/history/train/period",t)},u=function(t){return Object(r["d"])("/produce/train/history/maximo-asset/get",t)},l=function(t){return Object(r["d"])("/produce/train/history/work/page",t)},s=function(t){return Object(r["d"])("/produce/train/history/measure/page",t)},d=function(t){return Object(r["d"])("/produce/train/history/fault/page",t)},f=function(t){return Object(r["d"])("/produce/train/history/forms/page",t)},m=function(t){return Object(r["d"])("/produce/train/history/change/page",t)},p=function(t){return Object(r["d"])("/produce/train/history/train/period",t)},h=function(t){return Object(r["d"])("/produce/train/history/workLeaveRecord/page",t)},b=function(t){return Object(r["d"])("/produce/train/history/workRectify/page",t)},g=function(t){return Object(r["d"])("/produce/fault/detail/count",t)},v=function(t){return Object(r["d"])("/produce/fault/detail/page",t)},y=function(t){return Object(r["d"])("/produce/fault/statistics",t)},j=function(t){return Object(r["j"])("/produce/fault/compare",t)},w=function(t){return Object(r["d"])("/produce/fault/time-effect/data",t)},k=function(t){return Object(r["d"])("/produce/cost/detail/count",t)},C=function(t){return Object(r["d"])("/produce/cost/detail/page",t)},x=function(t){return Object(r["j"])("/produce/cost/statistics",t)},O=function(t){return Object(r["d"])("/produce/cost/compare/count-6year",t)},P=function(t){return Object(r["j"])("/produce/cost/compare",t)},N=function(t){return Object(r["d"])("/produce/plan/list",t)},_=function(t){return Object(r["d"])("/produce/plan/task/listByPlanId/".concat(t))},D=function(t){return Object(r["d"])("/produce/plan/get/".concat(t))},S=function(t){return Object(r["d"])("/serialPlan/plan/get/".concat(t))},q=function(t){return Object(r["d"])("/produce/plan/task/get/".concat(t))},T=function(t){return Object(r["d"])("/produce/plan/regu/list/".concat(t))},I=function(t){return Object(r["d"])("/produce/plan/train-struct/list/".concat(t))},L=function(t){return Object(r["d"])("/produce/plan/train-struct/orders/".concat(t))},R=function(t){return Object(r["d"])("/workshop/list",t)},A=function(t){return Object(r["d"])("/produce/workshop/fault/latest",t)},z=function(t){return Object(r["d"])("/produce/workshop/workstation/list",t)},$=function(t){return Object(r["d"])("/produce/workshop/train-track",t)},F=function(t){return Object(r["d"])("/produce/kpi/group",t)},J=function(t){return Object(r["d"])("/produce/kpi/user",t)},B=function(t){return Object(r["d"])("/produce/kpi/plan/list",t)},M=function(t){return Object(r["d"])("/produce/kpi/plan/get",t)},Y=function(t){return Object(r["d"])("/serialPlan/plan/material/lack",t)},U=function(t){return Object(r["d"])("/board/plan-group-statistic/get-last-working-plan",t)},G=function(t){return Object(r["d"])("/board/plan-group-statistic/list",t)}},"3cf2":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div")},n=[],i=a("e8ae"),o=a("21a6"),c=a("b7b4"),u="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",l={name:"JobCheckTableExport",data:function(){return{}},props:{},created:function(){},mounted:function(){},methods:{sortArray:function(t){return t.sort(this.compare("sortNo")),t},compare:function(t){return function(e,a){return e[t]-a[t]}},printByRow:function(t){t.itemList=this.sortArray(t.itemList),this.initWorkBook(t)},printById:function(t){var e=this;Object(c["y"])({id:t}).then((function(t){t.success&&(t.result.itemList=e.sortArray(t.result.itemList),e.initWorkBook(t.result))}))},initWorkBook:function(t){var e=new i["Workbook"];e.creator="GY",e.lastModifiedBy="2021-10-28",e.created=new Date,e.modified=new Date,e.lastPrinted=new Date;var a=e.addWorksheet("Sheet1",{properties:{defaultRowHeight:30,defaultColWidth:22},pageSetup:{paperSize:9}});a.addRows([["车辆连挂作业过程检查项点"]]),a.getCell("A2").value="车号："+(t.trainNo||""),a.getCell("D2").value="部件名称："+(t.assetName||""),a.getCell("G2").value="作业周期："+(t.period||""),a.getCell("A3").value="部件编号："+(t.assetNo||""),a.getCell("D3").value="作业位置："+(t.location||""),a.getCell("G3").value="作业班组："+(t.groupName||""),a.getColumn("A").width=15,a.getColumn("B").width=30,a.getColumn("C").width=60,a.mergeCells("A1:J1"),a.mergeCells("A2:C2"),a.mergeCells("D2:F2"),a.mergeCells("G2:J2"),a.mergeCells("A3:C3"),a.mergeCells("D3:F3"),a.mergeCells("G3:J3"),a.addRows([["序号","项点","检查内容","等级","检查情况","结果","作业时间","检查方式","检查人","检查时间"]]);var r=[];(t.itemList||[]).forEach((function(t,e,a){for(var n="",i=0,o=5;i<o;i++)t.checkLevel>i?n+="★":n+="☆";r.push([t.sortNo||"",t.title||"",t.content||"",n,t.checkDesc||"",t.checkUserName?t.checkResult_dictText:"",t.workTime||"",t.checkMethod||"",t.checkUserName||"",t.checkTime||""])})),a.addRows(r);var n=4+(t.itemList||[]).length+1;a.mergeCells("A".concat(n,":J").concat(n)),a.getCell("A".concat(n+1)).value="参考工艺文件",a.mergeCells("A".concat(n+1,":B").concat(n+1)),a.mergeCells("C".concat(n+1,":J").concat(n+1));var c="";(t.techLinkList||[]).forEach((function(t,e,a){c+="".concat(e+1,"、").concat(t.teckBookName).concat(e<a.length-1?"\n":"")})),a.getCell("C".concat(n+1)).value=c;var l=12*((t.techLinkList||[]).length||1)+18,s=n+2;a.mergeCells("A".concat(s,":J").concat(s)),a.mergeCells("A".concat(s+1,":G").concat(s+1)),a.getCell("A".concat(s+1)).value="不合格项汇总",a.getCell("H".concat(s+1)).value="整改情况",a.getCell("I".concat(s+1)).value="复查时间",a.getCell("J".concat(s+1)).value="复查人",(t.rectifyList||[]).forEach((function(t,e,r){a.mergeCells("A".concat(s+e+2,":G").concat(s+e+2)),a.getCell("A".concat(s+e+2)).value=t.itemInfo,a.getCell("H".concat(s+e+2)).value=t.rectifyDesc,a.getCell("I".concat(s+e+2)).value=t.reviewTime,a.getCell("J".concat(s+e+2)).value=t.reviewUserName}));var d=s+(t.rectifyList||[]).length+2;a.mergeCells("A".concat(d,":J").concat(d)),a.getCell("A".concat(d+1)).value="评定",a.mergeCells("A".concat(d+1,":B").concat(d+1)),a.mergeCells("C".concat(d+1,":J").concat(d+1));var f="";(t.judgeList||[]).forEach((function(t,e,a){f+="评定人：".concat(t.jdUserName,"；评定时间：").concat(t.jdTime,"；评定内容：").concat(t.jdContent,"；").concat(e<a.length-1?"\n":"")})),a.getCell("C".concat(d+1)).value=f;var m=12*((t.judgeList||[]).length||1)+18,p=d+2;a.mergeCells("A".concat(p,":J").concat(p));var h=["表中只列出关键项点，检查人员在检查时参照工艺文件标准执行。","检查人员必须对当天作业内容进行检查。","表中所有内容全部现场检查时填写完成，并悬挂于部件上，随部件流转。","作业时间由作业班组填写，其余由检查人员填写。“检查情况”一栏详细记录检查情况；“结果”一栏对检查合格的画“√”不合格的画“×”；“检查方式”一栏写明检查手段，如：目视、测量、操作等。","检查人员对不合格项视情节严重情况开具整改单，及时提出整改意见，并督促整改，整改完成后及时进行复查。","由检查人员、质量工程师及专业工程师对整体作业质量做出最终判定。"];a.getCell("A".concat(p+1)).value="说明",a.mergeCells("A".concat(p+1,":B").concat(p+1)),a.mergeCells("C".concat(p+1,":J").concat(p+1));var b="";h.forEach((function(t,e,a){b+="".concat(e+1,"、").concat(t).concat(e<a.length-1?"\n":"")})),a.getCell("C".concat(p+1)).value=b;var g=12*(h.length||1)+18;a._rows.forEach((function(e,r){a.getRow(r+1).height=n==r?l:d==r?m:p==r?g:30,e._cells.forEach((function(e,i){var o=a.getCell(e._address);o.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},[1,2].indexOf(r)>-1||r-3>=0&&r-3<=t.itemList.length&&[1,2,4].indexOf(i)>-1||n==r&&i>=2||d>r&&s<r&&i<7||d==r&&i>=2||p==r&&i>=2?o.alignment={vertical:"middle",horizontal:"left",wrapText:!0}:o.alignment={vertical:"middle",horizontal:"center",wrapText:!0},[0,1,2,3,s].indexOf(r)>-1?(o.fill={type:"pattern",pattern:"darkGray",fgColor:{argb:"FFe9e9e9"}},o.font={name:"黑体",family:4,size:14,underline:!1,bold:!0}):o.font=r<n&&3==i?{name:"黑体",family:4,size:18,underline:!1,bold:!1}:{name:"黑体",family:4,size:12,underline:!1,bold:!1}}))})),e.xlsx.writeBuffer().then((function(e){var a=new Blob([e],{type:u});o["saveAs"](a,"".concat(t.title,".xlsx"))}))}}},s=l,d=a("2877"),f=Object(d["a"])(s,r,n,!1,null,"188fb66a",null);e["default"]=f.exports},5538:function(t,e,a){},5633:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("span",[e("a-select",{key:t.key,attrs:{"allow-clear":"",value:t.getValueSting,disabled:t.disabled,placeholder:"线路"},on:{change:t.handleChange,select:t.onSelect}},[e("a-select-option",{attrs:{value:void 0}},[t._v("请选择")]),t._l(t.optionData,(function(a,r){return e("a-select-option",{key:r,attrs:{value:a.lineId}},[e("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:a.lineName}},[t._v(" "+t._s(a.lineName)+" ")])])}))],2)],1)},n=[],i=a("8fad"),o={name:"LineSelectList",props:{value:[String],triggerChange:Boolean,disabled:Boolean,defaultFirst:Boolean},data:function(){return{optionData:[],selectValue:"",key:0}},created:function(){this.findList()},computed:{getValueSting:function(){return null!=this.value?this.value.toString():void 0}},methods:{findList:function(){var t=this;Object(i["wb"])().then((function(e){e.success&&(t.optionData=e.result,t.defaultFirst&&t.optionData&&t.optionData.length>0&&setTimeout((function(){t.$emit("change",t.optionData[0].lineId),t.$emit("input",t.optionData[0].lineId)}),500))}))},handleChange:function(t,e){var a="";if(e&&e.componentOptions.children[0].data&&(a=e.componentOptions.children[0].data.attrs.title),this.$emit("change",t),this.$emit("input",t),this.$emit("changeName",a),this.triggerChange)if(t){var r=this.optionData[e.key];this.$emit("change",t,r)}else this.$emit("change",t,null)},onSelect:function(t,e){if(t){var a=this.optionData[e.data.key];this.$emit("select",t,a)}else this.$emit("select","",null)}}},c=o,u=a("2877"),l=Object(u["a"])(c,r,n,!1,null,"77265147",null);e["default"]=l.exports},"6ee5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("a-row",{attrs:{type:"flex",gutter:16}},[e("a-col",{staticClass:"leftPart",attrs:{md:5,sm:24}},[e("a-card",{attrs:{id:"leftPart"}},[e("div",{staticClass:"titleDiv"},[e("a-icon",{attrs:{type:"apartment"}}),t._v(" 车辆履历树 ")],1),t.treeData.length?e("a-tree",{attrs:{"tree-data":t.treeData,replaceFields:{title:"longTitle",key:"id"},defaultExpandedKeys:t.defaultSelectedKeys,"default-selected-keys":t.defaultKey,"load-data":t.queryTreeData},on:{select:t.selectPid}}):t._e()],1)],1),e("a-col",{staticClass:"rightPart",attrs:{md:19,sm:24}},[e("a-card",{attrs:{id:"rightPart"}},[e("a-tabs",{attrs:{activeKey:t.activeKey},on:{change:t.changeTab}},[e("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[this.type?e("train-res-basic-info",{attrs:{structureDetail:t.FstructureDetailId,"train-no":t.trainNo}}):e("res-basic-info",{attrs:{structureDetail:t.FstructureDetailId,"train-no":t.trainNo}})],1),e("a-tab-pane",{key:"2",attrs:{tab:"工单记录"}},[e("work-record",{attrs:{trainNo:t.trainNo,structureDetailId:t.FstructureDetailId}})],1),e("a-tab-pane",{key:"3",attrs:{tab:"更换记录"}},[e("replace-record",{attrs:{trainNo:t.trainNo,structureDetailId:t.FstructureDetailId}})],1),e("a-tab-pane",{key:"4",attrs:{tab:"故障记录"}},[e("fault-record",{attrs:{trainNo:t.trainNo,structureDetailId:t.FstructureDetailId}})],1),this.type?t._e():e("a-tab-pane",{key:"6",attrs:{tab:"子部件"}},[e("child-info",{attrs:{trainNo:t.trainNo,structureDetailId:t.FstructureDetailId}})],1),e("a-tab-pane",{key:"7",attrs:{tab:"作业表单"}},[e("related-form",{attrs:{trainNo:t.trainNo,structureDetailId:t.FstructureDetailId}})],1),this.type?e("a-tab-pane",{key:"8",attrs:{tab:"整改项"}},[e("rectify-record",{attrs:{trainNo:t.trainNo}})],1):t._e(),this.type?e("a-tab-pane",{key:"9",attrs:{tab:"开口项"}},[e("open-item-record",{attrs:{trainNo:t.trainNo}})],1):t._e()],1)],1)],1)],1)],1)},n=[],i=a("079a"),o=a("3bcd"),c=a("0196"),u=a("c35b"),l=a("dc2e"),s=a("8029"),d=a("abf6"),f=a("b016"),m=a("8019"),p=a("9a7a"),h=a("b2ea");function b(t){return j(t)||y(t)||v(t)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,e){if(t){if("string"==typeof t)return w(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(t,e):void 0}}function y(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function j(t){if(Array.isArray(t))return w(t)}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var k={name:"ResumePage",components:{TrainResBasicInfo:u["default"],ChildInfo:c["default"],ResBasicInfo:i["default"],ReplaceRecord:l["default"],FaultRecord:s["default"],MeasurementRecord:d["default"],relatedForm:m["default"],WorkRecord:f["default"],RectifyRecord:p["default"],OpenItemRecord:h["default"]},data:function(){return{activeKey:"1",defaultSelectedKeys:[],treeData:[],FstructureDetailId:"",defaultKey:[],type:"",trainNo:"",queryParam:{structureDetailId:""},isequ:""}},created:function(){this.treeLineTrains()},methods:{changeTab:function(t){this.activeKey=t},treeLineTrains:function(){var t=this;Object(o["P"])({}).then((function(e){e.success?(t.treeData=e.result,Array.from(t.treeData,(function(t){t.disabled=!1}))):t.$message.warn("获取线路车辆信息失败")}))},queryTreeData:function(t){var e=this;return new Promise((function(a){if(2===t.dataRef.type&&(e.trainNo=t.dataRef.title),t.dataRef.children&&t.dataRef.children.length>0)a();else{var r=null;3===t.dataRef.type&&(r=t.dataRef.id_);var n={trainNo:e.trainNo,parentId:r};Object(o["N"])(n).then((function(r){r.success&&(t.dataRef.children=r.result.map((function(t){return{id:e.trainNo+"$"+t.id,id_:t.id,title:t.name,longTitle:t.name,type:3,trainNo:e.trainNo}})),e.treeData=b(e.treeData),a())}))}}))},selectPid:function(t,e){var a=e.node.dataRef.type;1!=a&&(this.FstructureDetailId=e.node.dataRef.title,this.type=2===a,this.type&&(this.trainNo=e.node.dataRef.title),3===a&&(this.FstructureDetailId=e.node.dataRef.id_,this.trainNo=e.node.dataRef.trainNo))}}},C=k,x=(a("2592"),a("2877")),O=Object(x["a"])(C,r,n,!1,null,null,null);e["default"]=O.exports},8019:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"修程"}},[e("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_repair_program,name,id"},model:{value:t.queryParam.repairProgramId,callback:function(e){t.$set(t.queryParam,"repairProgramId",e)},expression:"queryParam.repairProgramId"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"班组:"}},[e("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_mtr_workshop_group,group_name,id"},model:{value:t.queryParam.groupId,callback:function(e){t.$set(t.queryParam,"groupId",e)},expression:"queryParam.groupId"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"类型:"}},[e("a-select",{attrs:{placeholder:"请选择类型",allowClear:""},model:{value:t.queryParam.formRecordType,callback:function(e){t.$set(t.queryParam,"formRecordType",e)},expression:"queryParam.formRecordType"}},[e("a-select-option",{attrs:{value:""}},[t._v("所有")]),e("a-select-option",{attrs:{value:"1"}},[t._v("作业记录表")]),e("a-select-option",{attrs:{value:"2"}},[t._v("数据记录表")]),e("a-select-option",{attrs:{value:"3"}},[t._v("检查记录表")]),e("a-select-option",{attrs:{value:"4"}},[t._v("工单附件")])],1)],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"工单日期"}},[e("a-date-picker",{attrs:{format:"YYYY-MM-DD"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),e("a-col",{attrs:{md:6,sm:8}},[e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-space",[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)],1)])],1)],1)],1),e("a-spin",{attrs:{spinning:t.loading}},[e("div",[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 298px)"},attrs:{border:"","max-height":"90%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),e("vxe-table-column",{attrs:{field:"formRecordName",title:"表单名称","min-width":"180",align:"left","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return e.stopPropagation(),t.showDetail(r)}}},[t._v(t._s(r.formRecordName))])]}}])}),e("vxe-table-column",{attrs:{field:"formRecordTypeName",title:"表单类型",width:"120"}}),e("vxe-table-column",{attrs:{field:"orderName",title:"所属工单","min-width":"160",align:"left","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"orderTime",title:"工单日期",width:"100"}})],1),e("vxe-pager",{attrs:{perfect:"","current-page":t.queryParam.pageNo,"page-size":t.queryParam.pageSize,total:t.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:current-page":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:pageSize":function(e){return t.$set(t.queryParam,"pageSize",e)},"update:page-size":function(e){return t.$set(t.queryParam,"pageSize",e)},"page-change":t.handlePageChange}})],1)]),e("ViewWorkForm",{ref:"viewWorkForm",on:{ok:function(e){return t.loadData()}}}),e("doc-preview-modal",{ref:"docPreview",attrs:{title:t.previewFileName}})],1)},n=[],i=a("3bcd"),o=a("88da"),c=a("353a"),u=a("c1df"),l=a.n(u),s={name:"FaultRecord",props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},components:{ViewWorkForm:o["default"],DocPreviewModal:c["default"]},data:function(){return{previewFileName:"",dicSysIdStr:"bu_train_asset_type,name,id,struct_type=1 and train_type_id=(select train_type_id from bu_train_info where train_no='".concat(this.trainNo,"')"),date:null,queryParam:{trainNo:this.trainNo,structureDetailId:"",repairProgramId:"",groupId:"",formRecordType:"",orderTime:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],loading:!1}},watch:{structureDetailId:{immediate:!0,handler:function(t){this.queryParam.structureDetailId=t!==this.trainNo?t:"",this.findList()}},trainNo:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,this.findList()}}},methods:{showDetail:function(t){switch(t.formRecordType){case 1:this.jumpFormInfo(t);break;case 2:this.jumpFormInfo(t);break;case 3:this.jumpFormInfo(t);break;case 4:this.previewImage(t);break}},jumpFormInfo:function(t){t.instType=t.formType,t.formInstId=t.formRecordId,t.formName=t.formRecordName,this.$refs.viewWorkForm.showModal(t,this.trainNo)},previewImage:function(t){this.previewFileName=t.formRecordName,this.$refs.docPreview.handleFilePath(t.orderAnnexPath)},findList:function(){var t=this;this.loading=!0,this.date?this.queryParam.orderTime=l()(this.date).format("YYYY-MM-DD"):this.queryParam.orderTime="",Object(i["D"])(this.queryParam).then((function(e){t.totalResult=e.result.total,t.tableData=e.result.records})).finally((function(){return t.loading=!1}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.queryParam.pageNo=e,this.queryParam.pageSize=a,this.findList()},loadData:function(){this.findList()}}},d=s,f=a("2877"),m=Object(f["a"])(d,r,n,!1,null,"4fa751bf",null);e["default"]=m.exports},8029:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"故障"}},[e("a-input",{attrs:{placeholder:"故障编号或描述"},model:{value:t.queryParam.searchText,callback:function(e){t.$set(t.queryParam,"searchText",e)},expression:"queryParam.searchText"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"发现日期"}},[e("a-date-picker",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),e("a-col",{attrs:{md:6,sm:8}},[e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-space",[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)],1)])],1)],1)],1),e("a-spin",{attrs:{spinning:t.loading}},[e("div",{staticStyle:{height:"calc(100vh - 250px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 298px)"},attrs:{border:"","max-height":"90%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),e("vxe-table-column",{attrs:{field:"faultSn",title:"故障编号",width:"140"}}),e("vxe-table-column",{attrs:{field:"fromType_dictText",title:"来源",width:"120"}}),e("vxe-table-column",{attrs:{field:"sysName",title:"故障系统",width:"120"}}),e("vxe-table-column",{attrs:{field:"faultAssetName",title:"故障部件",width:"120"}}),e("vxe-table-column",{attrs:{field:"faultDesc",title:"故障描述","min-width":"140","header-align":"center",align:"left"}}),e("vxe-table-column",{attrs:{field:"handleTime",title:"处理日期",width:"100"}}),e("vxe-table-column",{attrs:{field:"reportUserId",title:"提报人员",width:"100"}}),e("vxe-table-column",{attrs:{field:"reportTime",title:"提报日期",width:"100"}}),e("vxe-table-column",{attrs:{field:"status_dictText",title:"状态",width:"80"}})],1),e("vxe-pager",{attrs:{perfect:"","current-page":t.queryParam.pageNo,"page-size":t.queryParam.pageSize,total:t.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:current-page":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:pageSize":function(e){return t.$set(t.queryParam,"pageSize",e)},"update:page-size":function(e){return t.$set(t.queryParam,"pageSize",e)},"page-change":t.handlePageChange}})],1)])],1)},n=[],i=a("3bcd"),o=a("c1df"),c=a.n(o),u={name:"FaultRecord",props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},data:function(){return{date:null,queryParam:{assetId:"",searchText:"",happenTime:"",trainNo:this.trainNo,structureDetailId:this.structureDetailId,pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],loading:!1}},watch:{structureDetailId:{immediate:!0,handler:function(t){this.queryParam.structureDetailId=t!==this.trainNo?t:"",this.findList()}},trainNo:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,this.findList()}}},methods:{findList:function(){var t=this;this.loading=!0,this.date?this.queryParam.happenTime=c()(this.date).format("YYYY-MM-DD"):this.queryParam.happenTime="",Object(i["k"])(this.queryParam).then((function(e){t.totalResult=e.result.total,t.tableData=e.result.records})).finally((function(){return t.loading=!1}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.queryParam.pageNo=e,this.queryParam.pageSize=a,this.findList()}}},l=u,s=a("2877"),d=Object(s["a"])(l,r,n,!1,null,"0274a849",null);e["default"]=d.exports},"8fad":function(t,e,a){"use strict";a.d(e,"Kb",(function(){return o})),a.d(e,"yb",(function(){return c})),a.d(e,"Gc",(function(){return u})),a.d(e,"fc",(function(){return l})),a.d(e,"Sc",(function(){return s})),a.d(e,"W",(function(){return d})),a.d(e,"Vc",(function(){return p})),a.d(e,"Ec",(function(){return f})),a.d(e,"f",(function(){return b})),a.d(e,"Y",(function(){return g})),a.d(e,"tb",(function(){return v})),a.d(e,"g",(function(){return y})),a.d(e,"y",(function(){return j})),a.d(e,"l",(function(){return C})),a.d(e,"bb",(function(){return x})),a.d(e,"Tb",(function(){return O})),a.d(e,"I",(function(){return P})),a.d(e,"kc",(function(){return w})),a.d(e,"Tc",(function(){return k})),a.d(e,"j",(function(){return N})),a.d(e,"Z",(function(){return _})),a.d(e,"Qb",(function(){return D})),a.d(e,"G",(function(){return S})),a.d(e,"Rb",(function(){return q})),a.d(e,"Fc",(function(){return I})),a.d(e,"yc",(function(){return L})),a.d(e,"Ic",(function(){return R})),a.d(e,"s",(function(){return A})),a.d(e,"q",(function(){return z})),a.d(e,"gb",(function(){return $})),a.d(e,"dc",(function(){return F})),a.d(e,"N",(function(){return J})),a.d(e,"Zc",(function(){return U})),a.d(e,"r",(function(){return G})),a.d(e,"hb",(function(){return W})),a.d(e,"O",(function(){return E})),a.d(e,"Yb",(function(){return V})),a.d(e,"o",(function(){return Q})),a.d(e,"eb",(function(){return H})),a.d(e,"cc",(function(){return X})),a.d(e,"L",(function(){return Z})),a.d(e,"v",(function(){return tt})),a.d(e,"p",(function(){return et})),a.d(e,"fb",(function(){return at})),a.d(e,"bc",(function(){return rt})),a.d(e,"M",(function(){return nt})),a.d(e,"pc",(function(){return it})),a.d(e,"n",(function(){return ot})),a.d(e,"db",(function(){return ut})),a.d(e,"Zb",(function(){return lt})),a.d(e,"K",(function(){return st})),a.d(e,"m",(function(){return dt})),a.d(e,"cb",(function(){return ft})),a.d(e,"J",(function(){return mt})),a.d(e,"Hc",(function(){return pt})),a.d(e,"oc",(function(){return jt})),a.d(e,"Ub",(function(){return ht})),a.d(e,"Xb",(function(){return bt})),a.d(e,"kb",(function(){return gt})),a.d(e,"Uc",(function(){return vt})),a.d(e,"Wb",(function(){return yt})),a.d(e,"xc",(function(){return kt})),a.d(e,"Vb",(function(){return wt})),a.d(e,"w",(function(){return Ot})),a.d(e,"a",(function(){return Ct})),a.d(e,"jb",(function(){return xt})),a.d(e,"gc",(function(){return Pt})),a.d(e,"Jb",(function(){return Nt})),a.d(e,"mb",(function(){return _t})),a.d(e,"Ab",(function(){return Dt})),a.d(e,"A",(function(){return Tt})),a.d(e,"dd",(function(){return It})),a.d(e,"tc",(function(){return Lt})),a.d(e,"i",(function(){return St})),a.d(e,"t",(function(){return qt})),a.d(e,"zb",(function(){return Rt})),a.d(e,"Db",(function(){return At})),a.d(e,"h",(function(){return zt})),a.d(e,"z",(function(){return $t})),a.d(e,"Sb",(function(){return Ft})),a.d(e,"bd",(function(){return Jt})),a.d(e,"Bb",(function(){return Bt})),a.d(e,"Cb",(function(){return Mt})),a.d(e,"nc",(function(){return Yt})),a.d(e,"k",(function(){return Ut})),a.d(e,"ab",(function(){return Gt})),a.d(e,"H",(function(){return Wt})),a.d(e,"Dc",(function(){return Et})),a.d(e,"zc",(function(){return Vt})),a.d(e,"ib",(function(){return Kt})),a.d(e,"Ib",(function(){return Qt})),a.d(e,"Nc",(function(){return Ht})),a.d(e,"u",(function(){return Xt})),a.d(e,"C",(function(){return Zt})),a.d(e,"Fb",(function(){return te})),a.d(e,"D",(function(){return ie})),a.d(e,"Oc",(function(){return ee})),a.d(e,"Hb",(function(){return ae})),a.d(e,"mc",(function(){return re})),a.d(e,"Ac",(function(){return ce})),a.d(e,"jc",(function(){return ue})),a.d(e,"b",(function(){return le})),a.d(e,"ad",(function(){return se})),a.d(e,"Q",(function(){return de})),a.d(e,"cd",(function(){return fe})),a.d(e,"sc",(function(){return me})),a.d(e,"rb",(function(){return pe})),a.d(e,"lb",(function(){return he})),a.d(e,"Bc",(function(){return be})),a.d(e,"Pb",(function(){return T})),a.d(e,"Jc",(function(){return ve})),a.d(e,"S",(function(){return ye})),a.d(e,"vc",(function(){return je})),a.d(e,"Lc",(function(){return we})),a.d(e,"T",(function(){return ke})),a.d(e,"wc",(function(){return Ce})),a.d(e,"Kc",(function(){return xe})),a.d(e,"U",(function(){return Oe})),a.d(e,"xb",(function(){return ge})),a.d(e,"c",(function(){return Se})),a.d(e,"x",(function(){return qe})),a.d(e,"ob",(function(){return Le})),a.d(e,"Eb",(function(){return Ae})),a.d(e,"pb",(function(){return Ie})),a.d(e,"Wc",(function(){return ze})),a.d(e,"qb",(function(){return Fe})),a.d(e,"d",(function(){return $e})),a.d(e,"X",(function(){return Te})),a.d(e,"uc",(function(){return Je})),a.d(e,"B",(function(){return Re})),a.d(e,"Gb",(function(){return ne})),a.d(e,"vb",(function(){return M})),a.d(e,"ec",(function(){return B})),a.d(e,"ac",(function(){return ct})),a.d(e,"ub",(function(){return K})),a.d(e,"wb",(function(){return Y})),a.d(e,"Xc",(function(){return m})),a.d(e,"lc",(function(){return oe})),a.d(e,"nb",(function(){return Be})),a.d(e,"rc",(function(){return Pe})),a.d(e,"Ob",(function(){return Ye})),a.d(e,"Rc",(function(){return Ue})),a.d(e,"F",(function(){return Ge})),a.d(e,"Mb",(function(){return We})),a.d(e,"Qc",(function(){return Ve})),a.d(e,"E",(function(){return Ke})),a.d(e,"Nb",(function(){return Ee})),a.d(e,"qc",(function(){return ta})),a.d(e,"hc",(function(){return Qe})),a.d(e,"P",(function(){return Ze})),a.d(e,"ic",(function(){return He})),a.d(e,"Mc",(function(){return Xe})),a.d(e,"Yc",(function(){return h})),a.d(e,"Lb",(function(){return Me})),a.d(e,"sb",(function(){return Ne})),a.d(e,"R",(function(){return _e})),a.d(e,"e",(function(){return De})),a.d(e,"Cc",(function(){return ea})),a.d(e,"Pc",(function(){return aa})),a.d(e,"V",(function(){return ra}));var r=a("0fea"),n=a("4328"),i=a.n(n),o=function(t){return Object(r["d"])("/sys/serialNumber/generate",t)},c=function(t){return Object(r["d"])("/org/tree",t)},u=function(t){return Object(r["d"])("/org/user/page",t)},l=function(t){return Object(r["d"])("/org/user/get",t)},s=function(t){return Object(r["j"])("/org/user/save",t)},d=function(t){return Object(r["j"])("/org/user/delete",i.a.stringify(t))},f=function(t){return Object(r["d"])("/org/user/training/page",t)},m=function(t){return Object(r["d"])("/org/user/skill-compare",t)},p=function(t){return Object(r["d"])("/group/information/workShopGroup/save",t)},h=function(t){return Object(r["d"])("/uuv/sync",t)},b=function(t){return Object(r["j"])("/holiday/add",t)},g=function(t){return Object(r["k"])("/holiday/edit",t)},v=function(t){return Object(r["d"])("/holiday/list",t)},y=function(t){return Object(r["j"])("/holiday/addByNetWork",t)},j=function(t){return Object(r["a"])("/holiday/delete",t)},w=function(t){return Object(r["d"])("/workshop/get/".concat(t))},k=function(t){return Object(r["j"])("/workshop/edit",t)},C=function(t){return Object(r["j"])("/track/add",t)},x=function(t){return Object(r["k"])("/track/edit",t)},O=function(t){return Object(r["d"])("/track/list",t)},P=function(t){return Object(r["a"])("/track/delete",t)},N=function(t){return Object(r["j"])("/workstation/add",t)},_=function(t){return Object(r["j"])("/workstation/edit",t)},D=function(t){return Object(r["d"])("/workstation/list",t)},S=function(t){return Object(r["j"])("/workstation/delete",t)},q=function(t){return Object(r["d"])("/workstation/workstationTree",t)},T=function(t){return Object(r["d"])("/workstation/fromGroupId/".concat(t))},I=function(t){return Object(r["d"])("/workstation/form/page-unrelated",t)},L=function(t){return Object(r["d"])("/workstation/form/list-related",t)},R=function(t){return Object(r["j"])("/workstation/form/relate",t)},A=function(t){return Object(r["j"])("/workstation/form/cancel-relate",i.a.stringify(t))},z=function(t){return Object(r["j"])("/trainType/add",t)},$=function(t){return Object(r["k"])("/trainType/edit",t)},F=function(t){return Object(r["d"])("/trainType/list",t)},J=function(t){return Object(r["a"])("/trainType/delete",t)},B=function(){return Object(r["d"])("/trainType/listAll")},M=function(t){return Object(r["d"])("/line/get",t)},Y=function(){return Object(r["d"])("/line/list")},U=function(t){return Object(r["d"])("/trainAssetType/listChildren",t)},G=function(t){return Object(r["j"])("/trainAssetType/add",t)},W=function(t){return Object(r["k"])("/trainAssetType/edit",t)},E=function(t){return Object(r["a"])("/trainAssetType/delete",t)},V=function(t){return Object(r["d"])("/trainAssetType/get",t)},K=function(t){return Object(r["d"])("/line/get",t)},Q=function(t){return Object(r["j"])("/trainStructure/add",t)},H=function(t){return Object(r["k"])("/trainStructure/edit",t)},X=function(t){return Object(r["d"])("/trainStructure/list",t)},Z=function(t){return Object(r["a"])("/trainStructure/delete",t)},tt=function(t){return Object(r["j"])("/trainStructure/copy",t)},et=function(t){return Object(r["j"])("/trainStructureDetail/add",t)},at=function(t){return Object(r["k"])("/trainStructureDetail/edit",t)},rt=function(t){return Object(r["d"])("/trainStructureDetail/listChildren",t)},nt=function(t){return Object(r["a"])("/trainStructureDetail/delete",t)},it=function(t){return Object(r["j"])("/trainStructureDetail/importStructure",t)},ot=function(t){return Object(r["j"])("/traininfo/add",t)},ct=function(){return Object(r["d"])("traininfo/line-train-tree")},ut=function(t){return Object(r["k"])("/traininfo/edit",t)},lt=function(t){return Object(r["d"])("/traininfo/list",t)},st=function(t){return Object(r["a"])("/traininfo/delete",t)},dt=function(t){return Object(r["j"])("/trainAsset/add",t)},ft=function(t){return Object(r["k"])("/trainAsset/edit",t)},mt=function(t){return Object(r["a"])("/trainAsset/delete",t)},pt=function(t){return Object(r["d"])("/trainAsset/produceTrainAsset",t)},ht=function(t){return Object(r["d"])("/trainAsset/listChildren",t)},bt=function(t){return Object(r["d"])("/maximo-asset/list-child",t)},gt=function(t){return Object(r["d"])("/maximo-asset/get",t)},vt=function(t){return Object(r["j"])("/maximo-asset/ext/save",t)},yt=function(t){return Object(r["d"])("/maximo-asset/list-child",t)},jt=function(t){return Object(r["j"])("/trainAsset/importStructure",t)},wt=function(t){return Object(r["d"])("/trainAsset/list-child",t)},kt=function(t){return Object(r["d"])("/trainAsset/list-tree",t)},Ct=function(t){return Object(r["j"])("/alertAccept/add",t)},xt=function(t){return Object(r["d"])("/alertAccept/list",t)},Ot=function(t){return Object(r["a"])("/alertAccept/delete",t)},Pt=function(t){return Object(r["d"])("/sys/user/list",t)},Nt=function(t){return Object(r["d"])("/sys/role/list",t)},_t=function(t){return Object(r["d"])("/sys/sysDepart/queryTreeList",t)},Dt=function(t){return Object(r["d"])("/tp-plan/page",t)},St=function(t){return Object(r["j"])("/tp-plan/save",t)},qt=function(t){return Object(r["j"])("/tp-plan/copy",t)},Tt=function(t){return Object(r["a"])("/tp-plan/delete",t)},It=function(t){return Object(r["j"])("/tp-plan/valid",t)},Lt=function(t){return Object(r["j"])("/tp-plan/invalid",t)},Rt=function(t){return Object(r["d"])("/tp-plan/detail/".concat(t))},At=function(t){return Object(r["d"])("/tp-plan/relation/".concat(t))},zt=function(t){return Object(r["j"])("/tp-plan/task/save",t)},$t=function(t){return Object(r["a"])("/tp-plan/task/delete",t)},Ft=function(t){return Object(r["d"])("/tp-plan/task/detail/".concat(t))},Jt=function(t){return Object(r["j"])("/tp-plan/task/update-no-wbs",t)},Bt=function(t){return Object(r["d"])("/tp-plan/not-related-regu/count",t)},Mt=function(t){return Object(r["d"])("/tp-plan/not-related-regu/detail",t)},Yt=function(t){return Object(r["j"])("/import/tp-plan",t)},Ut=function(t){return Object(r["j"])("/tp-plan/forms/add",t)},Gt=function(t){return Object(r["j"])("/tp-plan/forms/edit",t)},Wt=function(t){return Object(r["j"])("/tp-plan/forms/delete",t)},Et=function(t){return Object(r["d"])("/tp-plan/forms/page",t)},Vt=function(t){return Object(r["d"])("/tp-plan/forms/list",t)},Kt=function(t,e){return Object(r["c"])("/tp-plan/planInfo/export",t,e)},Qt=function(t){return Object(r["d"])("/regu/reguInfo/list/reguInfo",t)},Ht=function(t){return Object(r["j"])("/regu/reguInfo/saveOrUpdate/reguInfo",t)},Xt=function(t){return Object(r["j"])("/regu/reguInfo/copy/reguInfo/".concat(t))},Zt=function(t){return Object(r["a"])("/regu/reguInfo/delete/".concat(t))},te=function(t){return Object(r["d"])("/regu/reguInfo/get/".concat(t))},ee=function(t){return Object(r["j"])("/regu/reguInfo/saveOrUpdate/reguDetail",t)},ae=function(t){return Object(r["d"])("/regu/reguInfo/list/reguDetail",t)},re=function(t){return Object(r["j"])("/regu/reguInfo/importTechBook",t)},ne=function(t){return Object(r["d"])("/regu/reguInfo/detail/get",t)},ie=function(t){return Object(r["a"])("/regu/reguInfo/deleteBatch/reguDetail",t)},oe=function(t){return Object(r["j"])("/import/regu",t)},ce=function(t){return Object(r["d"])("/formTemplate/page",t)},ue=function(t){return Object(r["d"])("/workcheck/list",t)},le=function(t){return Object(r["j"])("/formTemplate/add",t)},se=function(t){return Object(r["k"])("/formTemplate/edit",t)},de=function(t){return Object(r["a"])("/formTemplate/delete",t)},fe=function(t){return Object(r["j"])("/formTemplate/valid",t)},me=function(t){return Object(r["j"])("/formTemplate/invalid",t)},pe=function(t){return Object(r["d"])("/formTemplate/getContent/".concat(t))},he=function(t){return Object(r["d"])("/formTemplate/getDataJson/".concat(t))},be=function(t){return Object(r["d"])("/workRecord/page",t)},ge=function(t){return Object(r["d"])("/workRecord/get",t)},ve=function(t){return Object(r["j"])("/workRecord/saveOrUpdate",t)},ye=function(t){return Object(r["a"])("/workRecord/delete",t)},je=function(t){return Object(r["d"])("/workRecord/category/list/".concat(t))},we=function(t){return Object(r["j"])("/workRecord/category/saveOrUpdate",t)},ke=function(t){return Object(r["a"])("/workRecord/category/delete",t)},Ce=function(t){return Object(r["d"])("/workRecord/detail/list",t)},xe=function(t){return Object(r["j"])("/workRecord/detail/saveOrUpdate",t)},Oe=function(t){return Object(r["a"])("/workRecord/detail/delete/".concat(t))},Pe=function(t){return Object(r["j"])("/import/workRecord",t)},Ne=function(t){return Object(r["d"])("/serialPlan/plan/forms/instance/list",t)},_e=function(t){return Object(r["j"])("/serialPlan/plan/forms/instance/delete",t)},De=function(t){return Object(r["j"])("/serialPlan/plan/forms/instance/add",t)},Se=function(t){return Object(r["j"])("/doc/file/add",t)},qe=function(t){return Object(r["j"])("/doc/file/delete",t)},Te=function(t){return Object(r["j"])("/doc/file/edit",t)},Ie=function(t){return Object(r["d"])("/doc/file/directoryTree",t)},Le=function(t){return Object(r["d"])("/doc/file/page",t)},Re=function(t){return Object(r["j"])("/doc/file/privilege/delete/".concat(t),t)},Ae=function(t){return Object(r["d"])("/doc/file/privilege/".concat(t))},ze=function(t){return Object(r["j"])("/doc/file/privilege/setting",t)},$e=function(t){return Object(r["j"])("/doc/file/addFile",t)},Fe=function(){return Object(r["d"])("/doc/file/fileType")},Je=function(t){return Object(r["d"])("/doc/file/isPrivilege",t)},Be=function(t){return Object(r["d"])("/doc/file/dirParentId/".concat(t))},Me=function(t){return Object(r["d"])("/doc/file/shared/".concat(t))},Ye=function(t){return Object(r["d"])("/base/tech-book/page",t)},Ue=function(t){return Object(r["j"])("/base/tech-book/save",t)},Ge=function(t){return Object(r["j"])("/base/tech-book/delete",t)},We=function(t){return Object(r["d"])("/base/tech-book/detail/page",t)},Ee=function(t){return Object(r["d"])("/base/tech-book/detail/get",t)},Ve=function(t){return Object(r["j"])("/base/tech-book/detail/save",t)},Ke=function(t){return Object(r["j"])("/base/tech-book/detail/delete",t)},Qe=function(t){return Object(r["d"])("/workcheck/list",t)},He=function(t){return Object(r["d"])("/workcheck/get",t)},Xe=function(t){return Object(r["j"])("/workcheck/saveOrUpdate",t)},Ze=function(t){return Object(r["j"])("/workcheck/deleteBatch",t)},ta=function(t){return Object(r["j"])("/import/workCheck",t)},ea=function(t){return Object(r["d"])("/base/repair/attr/page",t)},aa=function(t){return Object(r["j"])("/base/repair/attr/save",t)},ra=function(t){return Object(r["j"])("/base/repair/attr/delete",t)}},9216:function(t,e,a){"use strict";a("260f")},"9a7a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:5,sm:24}},[e("a-form-item",{attrs:{label:"整改"}},[e("a-input",{attrs:{placeholder:"请输入名称或编码"},model:{value:t.queryParam.searchText,callback:function(e){t.$set(t.queryParam,"searchText",e)},expression:"queryParam.searchText"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"状态"}},[e("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_work_rectify_status"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"下发日期"}},[e("a-date-picker",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"类型"}},[e("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_work_rectify_type"},model:{value:t.queryParam.rectifyType,callback:function(e){t.$set(t.queryParam,"rectifyType",e)},expression:"queryParam.rectifyType"}})],1)],1),e("a-col",{attrs:{md:3,sm:8}},[e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)])],1)],1)],1),e("a-spin",{attrs:{spinning:t.loading}},[e("div",{staticStyle:{height:"calc(100vh - 250px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 298px)"},attrs:{border:"","max-height":"90%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{field:"rectifyNo",title:"编号",width:"8%"}}),e("vxe-table-column",{attrs:{field:"lineName",title:"所属线路",width:"8%"}}),e("vxe-table-column",{attrs:{field:"trainNo",title:"所属车辆",width:"10%"}}),e("vxe-table-column",{attrs:{field:"title",title:"任务名称",align:"left","header-align":"center",width:"15%"}}),e("vxe-table-column",{attrs:{field:"rectifyType_dictText",title:"整改类型",width:"10%"}}),e("vxe-table-column",{attrs:{field:"groupName",align:"left","header-align":"center",title:"责任工班",width:"10%"}}),e("vxe-table-column",{attrs:{field:"sendDate",title:"下达日期",width:"8%"}}),e("vxe-table-column",{attrs:{field:"finishDate",title:"完成时间",width:"8%"}}),e("vxe-table-column",{attrs:{field:"status_dictText",title:"整改状态",width:"8%"}}),e("vxe-table-column",{attrs:{title:"附件描述",width:"15%",align:"left","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return t._l(r.annexList,(function(a,r){return e("a",{key:r,on:{click:function(e){return e.stopPropagation(),t.handleSeeing(a)}}},[t._v(t._s(a.title))])}))}}])})],1),e("vxe-pager",{attrs:{perfect:"","current-page":t.queryParam.pageNo,"page-size":t.queryParam.pageSize,total:t.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:current-page":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:pageSize":function(e){return t.$set(t.queryParam,"pageSize",e)},"update:page-size":function(e){return t.$set(t.queryParam,"pageSize",e)},"page-change":t.handlePageChange}})],1),e("doc-preview-modal",{ref:"docPreview",attrs:{title:t.fileName}})],1)],1)},n=[],i=a("3bcd"),o=a("c1df"),c=a.n(o),u=a("8fad"),l=a("353a");function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",n=a.toStringTag||"@@toStringTag";function i(a,r,n,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return d(l,"_invoke",function(a,r,n){var i,c,u,l=0,s=n||[],d=!1,f={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,a){return i=e,c=0,u=t,f.n=a,o}};function m(a,r){for(c=a,u=r,e=0;!d&&l&&!n&&e<s.length;e++){var n,i=s[e],m=f.p,p=i[2];a>3?(n=p===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=m&&((n=a<2&&m<i[1])?(c=0,f.v=r,f.n=i[1]):m<p&&(n=a<3||i[0]>r||r>p)&&(i[4]=a,i[5]=r,f.n=p,c=0))}if(n||a>1)return o;throw d=!0,r}return function(n,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),c=s,u=p;(e=c<2?t:u)||!d;){i||(c?c<3?(c>1&&(f.n=-1),m(c,u)):f.n=u:f.v=u);try{if(l=2,i){if(c||(n="next"),e=i[n]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),c=1);i=t}else if((e=(d=f.n<0)?u:a.call(r,f))!==o)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:d}}}(a,n,i),!0),l}var o={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(d(e={},r,(function(){return this})),e),m=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,d(t,n,"GeneratorFunction")),t.prototype=Object.create(m),t}return u.prototype=l,d(m,"constructor",l),d(l,"constructor",u),u.displayName="GeneratorFunction",d(l,n,"GeneratorFunction"),d(m),d(m,n,"Generator"),d(m,r,(function(){return this})),d(m,"toString",(function(){return"[object Generator]"})),(s=function(){return{w:i,m:p}})()}function d(t,e,a,r){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}d=function(t,e,a,r){function i(e,a){d(t,e,(function(t){return this._invoke(e,a,t)}))}e?n?n(t,e,{value:a,enumerable:!r,configurable:!r,writable:!r}):t[e]=a:(i("next",0),i("throw",1),i("return",2))},d(t,e,a,r)}function f(t,e,a,r,n,i,o){try{var c=t[i](o),u=c.value}catch(t){return void a(t)}c.done?e(u):Promise.resolve(u).then(r,n)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function o(t){f(i,r,n,o,c,"next",t)}function c(t){f(i,r,n,o,c,"throw",t)}o(void 0)}))}}var p={name:"RectifyRecord",components:{DocPreviewModal:l["default"]},props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},data:function(){return{date:null,queryParam:{sendDate:"",searchText:"",rectifyType:"",trainNo:this.trainNo,status:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],loading:!1,filePath:"",fileName:"",status:!1}},watch:{trainNo:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,this.findList()}}},methods:{handlePrivilege:function(){var t=m(s().m((function t(e,a){var r,n=this;return s().w((function(t){while(1)switch(t.n){case 0:return r={id:e,operation:a},t.n=1,Object(u["uc"])(r).then((function(t){n.status=t.result}));case 1:return t.a(2)}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleSeeing:function(){var t=m(s().m((function t(e){return s().w((function(t){while(1)switch(t.n){case 0:return t.n=1,this.handlePrivilege(e.id,2);case 1:this.status?(this.fileName=e.title,this.$refs.docPreview.handleFilePath(e.address)):this.$message.error("您没有权限!");case 2:return t.a(2)}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),findList:function(){var t=this;this.loading=!0,this.date?this.queryParam.sendDate=c()(this.date).format("YYYY-MM-DD"):this.queryParam.sendDate="",Object(i["C"])(this.queryParam).then((function(e){t.totalResult=e.result.total,t.tableData=e.result.records})).finally((function(){return t.loading=!1}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.queryParam.pageNo=e,this.queryParam.pageSize=a,this.findList()}}},h=p,b=a("2877"),g=Object(b["a"])(h,r,n,!1,null,"e9f87ede",null);e["default"]=g.exports},abf6:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"测点名称"}},[e("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.measureName,callback:function(e){t.$set(t.queryParam,"measureName",e)},expression:"queryParam.measureName"}})],1)],1),e("a-col",{attrs:{md:6,sm:8}},[e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-space",[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)],1)])],1)],1)],1),e("a-spin",{attrs:{spinning:t.loading}},[e("div",{staticStyle:{height:"calc(100vh - 250px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 298px)"},attrs:{border:"","max-height":"90%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),e("vxe-table-column",{attrs:{field:"trainName",title:"车辆",width:"100"}}),e("vxe-table-column",{attrs:{field:"trainAssetName",title:"设备",width:"120"}}),e("vxe-table-column",{attrs:{field:"measureName",title:"测量项名称","min-width":"100"}}),e("vxe-table-column",{attrs:{field:"values",title:"测量值",width:"100",align:"right","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"workUser",title:"测量人",width:"100"}}),e("vxe-table-column",{attrs:{field:"workTime",title:"测量日期",width:"100"}}),e("vxe-table-column",{attrs:{field:"alertMessage",title:"预警信息","min-width":"100","header-align":"center",align:"left"}}),e("vxe-table-column",{attrs:{field:"alertReason",title:"预警原因","min-width":"100","header-align":"center",align:"left"}}),e("vxe-table-column",{attrs:{field:"fixValues",title:"修正值",width:"100",align:"right","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"tools",title:"测量器具",width:"100"}})],1),e("vxe-pager",{attrs:{perfect:"","current-page":t.queryParam.pageNo,"page-size":t.queryParam.pageSize,total:t.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:current-page":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:pageSize":function(e){return t.$set(t.queryParam,"pageSize",e)},"update:page-size":function(e){return t.$set(t.queryParam,"pageSize",e)},"page-change":t.handlePageChange}})],1)])],1)},n=[],i=a("3bcd"),o={name:"MeasurementRecord",props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},data:function(){return{queryParam:{trainNo:this.trainNo,assetId:"",measureName:"",structureDetailId:this.structureDetailId,pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],loading:!1}},watch:{structureDetailId:{immediate:!0,handler:function(t){this.queryParam.structureDetailId=t!==this.trainNo?t:"",this.findList()}},trainNo:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,this.findList()}}},methods:{findList:function(){var t=this;this.loading=!0,Object(i["u"])(this.queryParam).then((function(e){t.totalResult=e.result.total,t.tableData=e.result.records})).finally((function(){return t.loading=!1}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.queryParam.pageNo=e,this.queryParam.pageSize=a,this.findList()}}},c=o,u=a("2877"),l=Object(u["a"])(c,r,n,!1,null,"4ed66e23",null);e["default"]=l.exports},b016:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"工单"}},[e("a-input",{attrs:{placeholder:"工单编号或名称"},model:{value:t.queryParam.searchText,callback:function(e){t.$set(t.queryParam,"searchText",e)},expression:"queryParam.searchText"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"状态"}},[e("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:"bu_group_order_status"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"工单日期"}},[e("a-date-picker",{attrs:{format:"YYYY-MM-DD"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),e("a-col",{attrs:{md:6,sm:8}},[e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-space",[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)],1)])],1)],1)],1),e("a-spin",{attrs:{spinning:t.loading}},[e("div",{staticStyle:{height:"calc(100vh - 250px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 298px)"},attrs:{border:"","max-height":"90%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),e("vxe-table-column",{attrs:{field:"orderCode",title:"工单编号",width:"120"}}),e("vxe-table-column",{attrs:{field:"orderName",title:"工单名称","min-width":"120"}}),e("vxe-table-column",{attrs:{field:"orderType_dictText",title:"工单类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.orderType_dictText||a.orderType)+" ")]}}])}),e("vxe-table-column",{attrs:{field:"groupName",title:"作业工班",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.groupName||a.groupId)+" ")]}}])}),e("vxe-table-column",{attrs:{field:"lineName",title:"线路",width:"100"}}),e("vxe-table-column",{attrs:{field:"trainName",title:"车号",width:"100"}}),e("vxe-table-column",{attrs:{field:"startTime",title:"计划开始",width:"100"}}),e("vxe-table-column",{attrs:{field:"planName",title:"作业任务","min-width":"140",align:"left","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"orderStatus_dictText",title:"工单状态",width:"80"}})],1),e("vxe-pager",{attrs:{perfect:"","current-page":t.queryParam.pageNo,"page-size":t.queryParam.pageSize,total:t.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:current-page":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:pageSize":function(e){return t.$set(t.queryParam,"pageSize",e)},"update:page-size":function(e){return t.$set(t.queryParam,"pageSize",e)},"page-change":t.handlePageChange}})],1)])],1)},n=[],i=a("3bcd"),o=a("c1df"),c=a.n(o),u={name:"WorkRecord",props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},data:function(){return{date:null,queryParam:{searchText:"",status:"",workOrderDate:"",trainNo:this.trainNo,structureDetailId:"",pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],loading:!1}},watch:{structureDetailId:{immediate:!0,handler:function(t){this.queryParam.structureDetailId=t!==this.trainNo?t:"",this.findList()}},trainNo:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,this.findList()}}},methods:{findList:function(){var t=this;this.loading=!0,this.date?this.queryParam.workOrderDate=c()(this.date).format("YYYY-MM-DD"):this.queryParam.workOrderDate="",Object(i["L"])(this.queryParam).then((function(e){t.totalResult=e.result.total,t.tableData=e.result.records})).finally((function(){return t.loading=!1}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.queryParam.pageNo=e,this.queryParam.pageSize=a,this.findList()}}},l=u,s=a("2877"),d=Object(s["a"])(l,r,n,!1,null,"06291508",null);e["default"]=d.exports},b2ea:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:5,sm:24}},[e("a-form-item",{attrs:{label:"开口项"}},[e("a-input",{attrs:{placeholder:"请输入名称或编码"},model:{value:t.queryParam.searchText,callback:function(e){t.$set(t.queryParam,"searchText",e)},expression:"queryParam.searchText"}})],1)],1),e("a-col",{attrs:{md:5,sm:24}},[e("a-form-item",{attrs:{label:"线路"}},[e("line-select-list",{on:{change:t.changeLine},model:{value:t.queryParam.lineId,callback:function(e){t.$set(t.queryParam,"lineId",e)},expression:"queryParam.lineId"}})],1)],1),e("a-col",{attrs:{md:5,sm:24}},[e("a-form-item",{attrs:{label:"状态"}},[e("j-dict-select-tag",{attrs:{triggerChange:!0,dictCode:"bu_repair_leave_status"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}})],1)],1),e("a-col",{attrs:{md:3,sm:8}},[e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-space",[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)],1)])],1)],1)],1),e("a-spin",{attrs:{spinning:t.loading}},[e("div",{staticStyle:{height:"calc(100vh - 250px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 298px)"},attrs:{border:"","max-height":"90%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{field:"recordCode",title:"编号","min-width":"100"}}),e("vxe-table-column",{attrs:{field:"trainNo",title:"所属车辆",width:"80"}}),e("vxe-table-column",{attrs:{field:"lineName",title:"所属线路",width:"80"}}),e("vxe-table-column",{attrs:{field:"recordName",title:"开口项目名称","min-width":"100",align:"left","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"recordDesc",title:"内容描述","min-width":"120",align:"left","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"createTime",title:"创建日期",width:"100"}}),e("vxe-table-column",{attrs:{field:"orderName",title:"所属工单","min-width":"120",align:"left","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"orderTaskName",title:"关联故障/任务","min-width":"120",align:"left","header-align":"center"}}),e("vxe-table-column",{attrs:{field:"status_dictText",title:"状态",width:"80"}})],1),e("vxe-pager",{attrs:{perfect:"","current-page":t.queryParam.pageNo,"page-size":t.queryParam.pageSize,total:t.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:current-page":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:pageSize":function(e){return t.$set(t.queryParam,"pageSize",e)},"update:page-size":function(e){return t.$set(t.queryParam,"pageSize",e)},"page-change":t.handlePageChange}})],1)])],1)},n=[],i=a("3bcd"),o=(a("c1df"),a("5633")),c={name:"OpenItemRecord",components:{LineSelectList:o["default"]},props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},data:function(){return{date:null,queryParam:{lineId:"",searchText:"",status:"",trainNo:this.trainNo,pageNo:1,pageSize:10},totalResult:0,allAlign:"center",tableData:[],loading:!1}},watch:{trainNo:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,this.findList()}}},methods:{changeLine:function(t,e){this.dictTrainStr="",t&&(this.dictTrainStr="bu_train_info,train_no,train_no,line_id="+t+"|train_struct_id")},findList:function(){var t=this;this.loading=!0,Object(i["v"])(this.queryParam).then((function(e){t.totalResult=e.result.total,t.tableData=e.result.records})).finally((function(){return t.loading=!1}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.queryParam.pageNo=e,this.queryParam.pageSize=a,this.findList()}}},u=c,l=a("2877"),s=Object(l["a"])(u,r,n,!1,null,"5249c6b8",null);e["default"]=s.exports},bd18:function(t,e,a){"use strict";a("3ab9")},c35b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{"body-style":t.cardStyle}},[e("a-form",{attrs:{form:t.form}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"所属路线"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["line"],expression:"['line' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"车辆编码"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["trainNo"],expression:"[ 'trainNo' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"车型"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["trainType"],expression:"['trainType' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"编组数"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["groupNum"],expression:"[ 'groupNum' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"车辆状态"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["status_dictText"],expression:"['status_dictText' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"行走里程"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["mileage"],expression:"[ 'mileage' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"投入运营"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["useDate"],expression:"[ 'useDate' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"质保有效期"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["warrantyDate"],expression:"[ 'warrantyDate' ]",modifiers:{trim:!0}}],attrs:{disabled:""}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"停放股道"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["track"],expression:"['track' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1),e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"所属厂商"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["supplier"],expression:"['supplier' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"检修系统编码"}},[e("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["maximoTrainCode"],expression:"['maximoTrainCode' ]",modifiers:{trim:!0}}],attrs:{disabled:"",triggerChange:!0}})],1)],1)],1)],1),e("a-row",{staticStyle:{"margin-top":"40px"}},[e("a-col",{attrs:{md:20,sm:24}},[e("a-form-item",{attrs:{labelCol:t.labelCol1,wrapperCol:t.wrapperCol1,label:"架大修时间"}},[e("a-steps",{attrs:{"progress-dot":"",current:t.currentStepIndex},scopedSlots:t._u([{key:"progressDot",fn:function(a){var r=a.index,n=a.status,i=a.prefixCls;return e("a-popover",{},[e("template",{slot:"content"},[e("span",[t._v("step "+t._s(r)+" status: "+t._s(n))])]),e("span",{class:"".concat(i,"-icon-dot")})],2)}}])},t._l(t.trainPeriodList,(function(t,a){return e("a-step",{key:a,attrs:{title:t.date,description:t.description}})})),1)],1)],1)],1)],1)},n=[],i=a("3bcd"),o={name:"TrainResBasicInfo",props:["structureDetail","trainNo"],data:function(){return{cardStyle:{padding:"10px",height:"calc(100vh - 185px)"},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}},labelCol1:{xs:{span:24},sm:{span:3}},wrapperCol1:{xs:{span:24},sm:{span:21}},queryParam:{trainNo:""},allAlign:"center",tableData:[],form:this.$form.createForm(this),trainPeriodList:[],currentStepIndex:0}},watch:{structureDetail:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,this.findList()}}},methods:{findList:function(){var t=this;this.loading=!0,Object(i["F"])(this.queryParam).then((function(e){t.loading=!1,t.tableData=e.result,t.form.setFieldsValue({line:t.tableData.lineName,trainNo:t.tableData.trainNo,trainType:t.tableData.trainTypeName,groupNum:t.tableData.groupNum,status_dictText:t.tableData.status_dictText,mileage:t.tableData.mileage,useDate:t.tableData.useDate,warrantyDate:t.tableData.warrantyDate,track:t.tableData.trackName,supplier:t.tableData.supplierName,maximoTrainCode:t.tableData.id})})),this.findTrainPeriod()},findTrainPeriod:function(){var t=this;Object(i["G"])({trainNo:this.trainNo}).then((function(e){t.trainPeriodList=e.result,t.trainPeriodList.length>0&&t.trainPeriodList.map((function(e,a){e.isCurrent&&!0===e.isCurrent&&(t.currentStepIndex=a)}))}))}}},c=o,u=a("2877"),l=Object(u["a"])(c,r,n,!1,null,"4490ed0a",null);e["default"]=l.exports},dc2e:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bodyWrapper"},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"部件"}},[e("a-input",{attrs:{placeholder:"名称"},model:{value:t.queryParam.assetName,callback:function(e){t.$set(t.queryParam,"assetName",e)},expression:"queryParam.assetName"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"系统"}},[e("j-dict-select-tag",{attrs:{placeholder:"请选择",dictCode:t.dicSysIdStr},model:{value:t.queryParam.sysId,callback:function(e){t.$set(t.queryParam,"sysId",e)},expression:"queryParam.sysId"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"更换日期"}},[e("a-date-picker",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),e("a-col",{attrs:{md:6,sm:8}},[e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-space",[e("a-button",{on:{click:t.findList}},[t._v("查询")])],1)],1)])],1)],1)],1),e("a-spin",{attrs:{spinning:t.loading}},[e("div",{staticStyle:{height:"calc(100vh - 250px)"}},[e("vxe-table",{ref:"listTable",staticStyle:{height:"calc(100vh - 298px)"},attrs:{border:"","max-height":"90%",align:t.allAlign,data:t.tableData,"show-overflow":"tooltip","edit-config":{trigger:"manual",mode:"row"}}},[e("vxe-table-column",{attrs:{type:"checkbox",width:"40"}}),e("vxe-table-column",{attrs:{field:"downAssetName",title:"更换部件名称","min-width":"120"}}),e("vxe-table-column",{attrs:{field:"sysName",title:"所属系统",width:"120"}}),e("vxe-table-column",{attrs:{field:"downAssetSn",title:"原部件序列号",width:"120"}}),e("vxe-table-column",{attrs:{field:"upAssetSn",title:"换上件序列号",width:"120"}}),e("vxe-table-column",{attrs:{field:"brand",title:"更换原因","min-width":"140","header-align":"center",align:"left"}}),e("vxe-table-column",{attrs:{field:"exchangeTime",title:"更换时间",width:"100"}}),e("vxe-table-column",{attrs:{field:"workUser",title:"更换人员",width:"100"}}),e("vxe-table-column",{attrs:{field:"alertDescribe",title:"更换阶段",width:"100"}})],1),e("vxe-pager",{attrs:{perfect:"","current-page":t.queryParam.pageNo,"page-size":t.queryParam.pageSize,total:t.totalResult,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"update:currentPage":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:current-page":function(e){return t.$set(t.queryParam,"pageNo",e)},"update:pageSize":function(e){return t.$set(t.queryParam,"pageSize",e)},"update:page-size":function(e){return t.$set(t.queryParam,"pageSize",e)},"page-change":t.handlePageChange}})],1)])],1)},n=[],i=a("3bcd"),o=a("c1df"),c=a.n(o),u=a("ca00"),l={name:"ReplaceRecord",props:{trainNo:{type:String,default:""},structureDetailId:{type:String,default:""}},data:function(){return{date:null,queryParam:{trainNo:this.trainNo,assetId:"",assetName:"",sysId:"",structureDetailId:"",changeDate:"",pageNo:1,pageSize:10},dicSysIdStr:"bu_train_asset_type,name,id,struct_type=1",totalResult:0,allAlign:"center",tableData:[],loading:!1}},watch:{structureDetailId:{immediate:!0,handler:function(t){this.queryParam.structureDetailId=t!==this.trainNo?t:"",this.findList()}},trainNo:{immediate:!0,handler:function(t){this.queryParam.trainNo=t,Object(u["e"])(t)?this.dicSysIdStr="bu_train_asset_type,name,id,struct_type=1":this.dicSysIdStr="bu_train_asset_type,name,id,struct_type=1 and train_type_id=(select train_type_id from bu_train_info where train_no='".concat(this.trainNo,"')"),this.findList()}}},methods:{findList:function(){var t=this;this.loading=!0,this.date?this.queryParam.changeDate=c()(this.date).format("YYYY-MM-DD"):this.queryParam.changeDate="",Object(i["a"])(this.queryParam).then((function(e){t.totalResult=e.result.total,t.tableData=e.result.records})).finally((function(){return t.loading=!1}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.queryParam.pageNo=e,this.queryParam.pageSize=a,this.findList()}}},s=l,d=a("2877"),f=Object(d["a"])(s,r,n,!1,null,"3d3965fe",null);e["default"]=f.exports},e0ce:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",{staticClass:"tg-d1f0",attrs:{colspan:"10"}},[t._v(t._s(t.sheetData.title))])])]),e("tbody",[e("tr",[e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("车号："+t._s(t.sheetData.trainNo))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("部件名称："+t._s(t.sheetData.assetName))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"4"}},[t._v("作业周期："+t._s(t.sheetData.period))])]),e("tr",[e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("部件编号："+t._s(t.sheetData.assetNo))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("作业位置："+t._s(t.sheetData.location))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"4"}},[t._v("作业班组："+t._s(t.sheetData.groupName))])]),t._m(0),t._l(t.sheetData.itemList,(function(a,r){return e("tr",{key:r},[e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(a.sortNo))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(a.title))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(a.content))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[e("a-rate",{attrs:{disabled:"",count:3},model:{value:a.checkLevel,callback:function(e){t.$set(a,"checkLevel",e)},expression:"item.checkLevel"}})],1),e("td",{staticClass:"tg-0pky"},[t._v(t._s(a.checkDesc))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(a.checkUserName?a.checkResult_dictText:""))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(a.workTime))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(a.checkMethod_dictText))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(a.checkUserName))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(a.checkTime))])])})),t._m(1),e("tr",[e("td",{staticClass:"tg-9wq8",attrs:{colspan:"2"}},[t._v("参考工艺文件")]),e("td",{staticClass:"tg-0pky",attrs:{colspan:"8"}},t._l(t.sheetData.techLinkList,(function(a,r){return e("p",{key:r,staticStyle:{margin:"0","font-size":"12px","line-height":"18px"}},[t._v(" "+t._s(a.teckBookName)+" ")])})),0)]),t._m(2),t._m(3),t._l(t.sheetData.rectifyList,(function(a,r){return e("tr",{key:r},[e("td",{staticClass:"tg-0pky",attrs:{colspan:"7"}},[t._v(t._s(a.itemInfo))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(a.rectifyDesc))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(a.reviewTime))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(a.reviewUserName))])])})),t._m(4),e("tr",[e("td",{staticClass:"tg-9wq8",attrs:{colspan:"2"}},[t._v("评定：")]),e("td",{staticClass:"tg-0pky",attrs:{colspan:"8"}},[t._l(t.sheetData.judgeList,(function(a){return e("div",{key:a.id,staticClass:"qualityBox"},[e("div",{staticClass:"flex1",style:t.qualityEvaluation&&"padding-right: 20px;"},[e("span",[t._v(t._s("评定人：".concat(a.jdUserName)))]),e("span",[t._v(t._s("评定时间：".concat(a.jdTime)))]),e("span",[t._v(t._s("评定内容：".concat(a.jdContent)))])]),t.qualityEvaluation&&a.jdUserId===t.$store.getters.userInfo.id?e("div",[e("a-button",{directives:[{name:"has",rawName:"v-has",value:"jobchekc:evaluation:add",expression:"'jobchekc:evaluation:add'"}],attrs:{type:"link"},on:{click:t.openJudgeModal}},[t._v("质量评定")]),e("a-button",{directives:[{name:"has",rawName:"v-has",value:"jobchekc:evaluation:del",expression:"'jobchekc:evaluation:del'"}],attrs:{type:"link"},on:{click:function(e){return t.delJudge(a.id)}}},[t._v("删除")])],1):t._e()])})),t.sheetData.judgeList&&0!==t.sheetData.judgeList.length&&t.isJudge?t._e():e("div",{staticClass:"qualityBox"},[e("div",{staticClass:"flex1",style:t.qualityEvaluation&&"padding-right: 20px;"}),e("div",[t.fromData?e("a-button",{directives:[{name:"has",rawName:"v-has",value:"jobchekc:evaluation:add",expression:"'jobchekc:evaluation:add'"}],attrs:{type:"link"},on:{click:t.openJudgeModal}},[t._v("质量评定")]):t._e()],1)])],2)]),t._m(5),e("tr",[e("td",{staticClass:"tg-9wq8",attrs:{colspan:"2"}},[t._v("说明："+t._s(t.sheetData.remark))]),t._m(6)])],2),e("a-modal",{attrs:{title:"作业质量评定",width:800,visible:t.visible,centered:"",cancelText:"关闭",destroyOnClose:!0},on:{ok:t.handleOk,cancel:function(e){t.visible=!1}}},[e("a-form",{ref:"initForm",attrs:{form:t.form}},[e("a-form-item",[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["jdContent",t.validatorRules.jdContent],expression:"['jdContent', validatorRules.jdContent]"}],attrs:{"auto-size":{minRows:8,maxRows:8}}})],1)],1)],1)],1)},n=[function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-87ij",staticStyle:{width:"6%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("序号")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"12%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("项点")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"18%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查内容")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"8%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("等级")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"8%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查情况")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"8%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("结果")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("作业时间")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查方式")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查人")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查时间")])])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-87ij",attrs:{colspan:"7"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("不合格项汇总")])]),e("td",{staticClass:"tg-87ij"},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("整改情况")])]),e("td",{staticClass:"tg-87ij"},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("复查时间")])]),e("td",{staticClass:"tg-87ij"},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("复查人")])])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"tg-0pky",attrs:{colspan:"8"}},[t._v(" 1、表中只列出关键项点，检查人员在检查时参照工艺文件标准执行。"),e("br"),t._v(" 2、检查人员必须对当天作业内容进行检查。"),e("br"),t._v(" 3、表中所有内容全部现场检查时填写完成，并悬挂于部件上，随部件流转。"),e("br"),t._v(" 4、作业时间由作业班组填写，其余由检查人员填写。“检查情况”一栏详细记录检查情况；“结果”一栏对检查合格的画“√”不合格的画“×”；“检查方式”一栏写明检查手段，如：目视、测量、操作等。"),e("br"),t._v(" 5、检查人员对不合格项视情节严重情况开具整改单，及时提出整改意见，并督促整改，整改完成后及时进行复查。"),e("br"),t._v(" 6、由检查人员、质量工程师及专业工程师对整体作业质量做出最终判定。 ")])}],i=a("b7b4");function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",n=a.toStringTag||"@@toStringTag";function i(a,r,n,i){var o=r&&r.prototype instanceof l?r:l,s=Object.create(o.prototype);return c(s,"_invoke",function(a,r,n){var i,o,c,l=0,s=n||[],d=!1,f={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,a){return i=e,o=0,c=t,f.n=a,u}};function m(a,r){for(o=a,c=r,e=0;!d&&l&&!n&&e<s.length;e++){var n,i=s[e],m=f.p,p=i[2];a>3?(n=p===r)&&(c=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=t):i[0]<=m&&((n=a<2&&m<i[1])?(o=0,f.v=r,f.n=i[1]):m<p&&(n=a<3||i[0]>r||r>p)&&(i[4]=a,i[5]=r,f.n=p,o=0))}if(n||a>1)return u;throw d=!0,r}return function(n,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),o=s,c=p;(e=o<2?t:c)||!d;){i||(o?o<3?(o>1&&(f.n=-1),m(o,c)):f.n=c:f.v=c);try{if(l=2,i){if(o||(n="next"),e=i[n]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,o<2&&(o=0)}else 1===o&&(e=i.return)&&e.call(i),o<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),o=1);i=t}else if((e=(d=f.n<0)?c:a.call(r,f))!==u)break}catch(e){i=t,o=1,c=e}finally{l=1}}return{value:e,done:d}}}(a,n,i),!0),s}var u={};function l(){}function s(){}function d(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(c(e={},r,(function(){return this})),e),m=d.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,n,"GeneratorFunction")),t.prototype=Object.create(m),t}return s.prototype=d,c(m,"constructor",d),c(d,"constructor",s),s.displayName="GeneratorFunction",c(d,n,"GeneratorFunction"),c(m),c(m,n,"Generator"),c(m,r,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),(o=function(){return{w:i,m:p}})()}function c(t,e,a,r){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}c=function(t,e,a,r){function i(e,a){c(t,e,(function(t){return this._invoke(e,a,t)}))}e?n?n(t,e,{value:a,enumerable:!r,configurable:!r,writable:!r}):t[e]=a:(i("next",0),i("throw",1),i("return",2))},c(t,e,a,r)}function u(t,e,a,r,n,i,o){try{var c=t[i](o),u=c.value}catch(t){return void a(t)}c.done?e(u):Promise.resolve(u).then(r,n)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function o(t){u(i,r,n,o,c,"next",t)}function c(t){u(i,r,n,o,c,"throw",t)}o(void 0)}))}}var s={name:"JobCheckSheetTable",data:function(){return{jdContentText:"",form:this.$form.createForm(this),validatorRules:{jdContent:{rules:[{required:!0,message:"请输入评定内容!"}]}},judgeQueryParam:{id:null,checkInstId:"",checkInstName:"",jdContent:"",jdTime:null,jdUserId:this.$store.getters.userInfo.id,jdUserName:this.$store.getters.userInfo.username},visible:!1,sheetData:{}}},props:{data:{type:Object,default:function(){return{}}},qualityEvaluation:{type:Boolean,default:!1},fromData:{type:Object,default:function(){}}},created:function(){this.sheetData=Object.assign({},this.data),this.sheetData.itemList=this.sortArray(this.sheetData.itemList)},mounted:function(){},computed:{isJudge:function(){var t=this;return!(!this.sheetData||!this.sheetData.judgeList||this.sheetData.judgeList.length<1)&&!!this.sheetData.judgeList.find((function(e){return e.jdUserId===t.$store.getters.userInfo.id}))}},methods:{getWorkCheckForm:function(){var t=l(o().m((function t(){var e,a=this;return o().w((function(t){while(1)switch(t.n){case 0:return e=this.fromData,t.a(2,Object(i["x"])({task2InstId:e.task2InstId,formInstId:e.id}).then((function(t){return t.success&&t.result&&(t.result.itemList=a.sortArray(t.result.itemList),a.sheetData=t.result),a.sheetData})))}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openJudgeModal:function(){var t=this,e=this.fromData;this.judgeQueryParam.checkInstId=e.id,this.judgeQueryParam.checkInstName=e.name,this.visible=!0;var a=e.judgeList.find((function(e){return e.jdUserId===t.$store.getters.userInfo.id}));a?(this.judgeQueryParam.jdContent=a.jdContent,this.judgeQueryParam.id=a.id,this.form.getFieldDecorator("jdContent"),this.$nextTick((function(){t.form.setFieldsValue({jdContent:t.jdContentText||t.judgeQueryParam.jdContent})}))):(this.judgeQueryParam.jdContent="",this.judgeQueryParam.id=null,this.form.getFieldDecorator("jdContent"),this.$nextTick((function(){t.form.setFieldsValue({jdContent:""})})))},handleOk:function(){var t=this;this.form.validateFields((function(e,a){e||(Object.assign(t.judgeQueryParam,a),Object(i["E"])(t.judgeQueryParam).then((function(e){e.success?(t.jdContentText=a.jdContent,t.$message.success("保存成功"),t.$emit("brush"),t.getWorkCheckForm().then((function(e){t.$emit("judgeChange",t.sheetData)}))):t.$message.error(e.message)})),t.visible=!1)}))},sortArray:function(t){return t.sort(this.compare("sortNo")),t},compare:function(t){return function(e,a){return e[t]-a[t]}},delJudge:function(t){var e=this;this.$confirm({content:"是否删除作业质量评定？",okText:"确定",cancelText:"取消",onOk:function(){var a=new FormData;a.append("ids",t),Object(i["g"])(a).then((function(t){t.success?(e.$message.success("执行成功"),e.$emit("brush"),e.getWorkCheckForm().then((function(t){e.$emit("judgeChange",e.sheetData)}))):e.$message.error(t.message)}))}})}}},d=s,f=(a("bd18"),a("2877")),m=Object(f["a"])(d,r,n,!1,null,"3c8c4fbe",null);e["default"]=m.exports}}]);