(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bc23118"],{"3ab9":function(t,e,n){},b7b4:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"n",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"v",(function(){return u})),n.d(e,"x",(function(){return o})),n.d(e,"p",(function(){return d})),n.d(e,"F",(function(){return f})),n.d(e,"H",(function(){return h})),n.d(e,"r",(function(){return g})),n.d(e,"o",(function(){return v})),n.d(e,"l",(function(){return p})),n.d(e,"y",(function(){return j})),n.d(e,"a",(function(){return m})),n.d(e,"i",(function(){return b})),n.d(e,"m",(function(){return k})),n.d(e,"s",(function(){return C})),n.d(e,"B",(function(){return w})),n.d(e,"C",(function(){return O})),n.d(e,"G",(function(){return q})),n.d(e,"J",(function(){return x})),n.d(e,"g",(function(){return D})),n.d(e,"k",(function(){return S})),n.d(e,"t",(function(){return I})),n.d(e,"e",(function(){return T})),n.d(e,"u",(function(){return P})),n.d(e,"E",(function(){return F})),n.d(e,"z",(function(){return L})),n.d(e,"A",(function(){return N})),n.d(e,"d",(function(){return _})),n.d(e,"f",(function(){return $})),n.d(e,"q",(function(){return y})),n.d(e,"D",(function(){return J})),n.d(e,"I",(function(){return Q})),n.d(e,"h",(function(){return E})),n.d(e,"w",(function(){return l}));var r=n("0fea"),a=function(t){return Object(r["j"])("/quality/rectify/add",t)},s=function(t){return Object(r["j"])("/quality/rectify/delete",t)},i=function(t){return Object(r["j"])("/quality/rectify/edit",t)},o=function(t){return Object(r["d"])("/quality/rectify/page",t)},c=function(t){return Object(r["j"])("/quality/rectify/close",t)},u=function(t){return Object(r["d"])("/quality/rectify/get",t)},l=function(t){return Object(r["d"])("/quality/rectify/getCode",t)},d=function(t){return Object(r["d"])("/quality/measurealert/page",t)},f=function(t){return Object(r["d"])("/quality/measurethreshold/form/page-data-form",t)},h=function(t){return Object(r["j"])("/quality/measurethreshold/threshold/save",t)},g=function(t){return Object(r["d"])("/quality/measurethreshold/threshold/list/".concat(t))},y=function(t){return Object(r["d"])("/serialPlan/plan/forms/online-form/alert-records",{dataRecordId:t})},v=function(t){return Object(r["j"])("/quality/measurethreshold/threshold/edit",t)},p=function(t){return Object(r["j"])("/quality/measurethreshold/threshold/delete",t)},j=function(t){return Object(r["d"])("/quality/measurethreshold/threshold/get",t)},m=function(t){return Object(r["j"])("/quality/leaverecord/add",t)},b=function(t){return Object(r["j"])("/quality/leaverecord/delete",t)},_=function(t){return Object(r["j"])("/quality/leaverecord/close",t)},k=function(t){return Object(r["j"])("/quality/leaverecord/edit",t)},C=function(t){return Object(r["d"])("/quality/leaverecord/page",t)},w=function(t,e){return Object(r["c"])("/quality/leaverecord/workLeaveRecordExport",t,e)},O=function(t){return Object(r["d"])("/quality/exception-transfer/page",t)},q=function(t){return Object(r["j"])("/quality/exception-transfer/add",t)},x=function(t){return Object(r["j"])("/quality/exception-transfer/edit",t)},D=function(t){return Object(r["j"])("/quality/exception-transfer/decide",t)},S=function(t){return Object(r["j"])("/quality/exception-transfer/delete",t)},I=function(t){return Object(r["d"])("/quality/record-confirm/list",t)},T=function(t){return Object(r["j"])("/quality/record-confirm/confirm",t)},P=function(t){return Object(r["d"])("/quality/record-confirm/work-record/get",t)},L=function(t){return Object(r["d"])("/serialPlan/plan/forms/check-record/get",t)},N=function(t){return Object(r["d"])("/workcheck/get",t)},$=function(t){return Object(r["j"])("/quality/record-confirm/confirm",t)},F=function(t){return Object(r["d"])("/quality/record-confirm/page",t)},J=function(t){return Object(r["d"])("/quality/record-confirm/page/check-record",t)},Q=function(t){return Object(r["j"])("/serialPlan/plan/forms/judge/save",t)},E=function(t){return Object(r["j"])("/serialPlan/plan/forms/judge/delete",t)}},bd18:function(t,e,n){"use strict";n("3ab9")},e0ce:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",{staticClass:"tg-d1f0",attrs:{colspan:"10"}},[t._v(t._s(t.sheetData.title))])])]),e("tbody",[e("tr",[e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("车号："+t._s(t.sheetData.trainNo))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("部件名称："+t._s(t.sheetData.assetName))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"4"}},[t._v("作业周期："+t._s(t.sheetData.period))])]),e("tr",[e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("部件编号："+t._s(t.sheetData.assetNo))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"3"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("作业位置："+t._s(t.sheetData.location))])]),e("td",{staticClass:"tg-ld8d",attrs:{colspan:"4"}},[t._v("作业班组："+t._s(t.sheetData.groupName))])]),t._m(0),t._l(t.sheetData.itemList,(function(n,r){return e("tr",{key:r},[e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(n.sortNo))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(n.title))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(n.content))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[e("a-rate",{attrs:{disabled:"",count:3},model:{value:n.checkLevel,callback:function(e){t.$set(n,"checkLevel",e)},expression:"item.checkLevel"}})],1),e("td",{staticClass:"tg-0pky"},[t._v(t._s(n.checkDesc))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(n.checkUserName?n.checkResult_dictText:""))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(n.workTime))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(n.checkMethod_dictText))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(n.checkUserName))]),e("td",{staticClass:"tg-0pky tg-9wq8"},[t._v(t._s(n.checkTime))])])})),t._m(1),e("tr",[e("td",{staticClass:"tg-9wq8",attrs:{colspan:"2"}},[t._v("参考工艺文件")]),e("td",{staticClass:"tg-0pky",attrs:{colspan:"8"}},t._l(t.sheetData.techLinkList,(function(n,r){return e("p",{key:r,staticStyle:{margin:"0","font-size":"12px","line-height":"18px"}},[t._v(" "+t._s(n.teckBookName)+" ")])})),0)]),t._m(2),t._m(3),t._l(t.sheetData.rectifyList,(function(n,r){return e("tr",{key:r},[e("td",{staticClass:"tg-0pky",attrs:{colspan:"7"}},[t._v(t._s(n.itemInfo))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(n.rectifyDesc))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(n.reviewTime))]),e("td",{staticClass:"tg-0pky"},[t._v(t._s(n.reviewUserName))])])})),t._m(4),e("tr",[e("td",{staticClass:"tg-9wq8",attrs:{colspan:"2"}},[t._v("评定：")]),e("td",{staticClass:"tg-0pky",attrs:{colspan:"8"}},[t._l(t.sheetData.judgeList,(function(n){return e("div",{key:n.id,staticClass:"qualityBox"},[e("div",{staticClass:"flex1",style:t.qualityEvaluation&&"padding-right: 20px;"},[e("span",[t._v(t._s("评定人：".concat(n.jdUserName)))]),e("span",[t._v(t._s("评定时间：".concat(n.jdTime)))]),e("span",[t._v(t._s("评定内容：".concat(n.jdContent)))])]),t.qualityEvaluation&&n.jdUserId===t.$store.getters.userInfo.id?e("div",[e("a-button",{directives:[{name:"has",rawName:"v-has",value:"jobchekc:evaluation:add",expression:"'jobchekc:evaluation:add'"}],attrs:{type:"link"},on:{click:t.openJudgeModal}},[t._v("质量评定")]),e("a-button",{directives:[{name:"has",rawName:"v-has",value:"jobchekc:evaluation:del",expression:"'jobchekc:evaluation:del'"}],attrs:{type:"link"},on:{click:function(e){return t.delJudge(n.id)}}},[t._v("删除")])],1):t._e()])})),t.sheetData.judgeList&&0!==t.sheetData.judgeList.length&&t.isJudge?t._e():e("div",{staticClass:"qualityBox"},[e("div",{staticClass:"flex1",style:t.qualityEvaluation&&"padding-right: 20px;"}),e("div",[t.fromData?e("a-button",{directives:[{name:"has",rawName:"v-has",value:"jobchekc:evaluation:add",expression:"'jobchekc:evaluation:add'"}],attrs:{type:"link"},on:{click:t.openJudgeModal}},[t._v("质量评定")]):t._e()],1)])],2)]),t._m(5),e("tr",[e("td",{staticClass:"tg-9wq8",attrs:{colspan:"2"}},[t._v("说明："+t._s(t.sheetData.remark))]),t._m(6)])],2),e("a-modal",{attrs:{title:"作业质量评定",width:800,visible:t.visible,centered:"",cancelText:"关闭",destroyOnClose:!0},on:{ok:t.handleOk,cancel:function(e){t.visible=!1}}},[e("a-form",{ref:"initForm",attrs:{form:t.form}},[e("a-form-item",[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["jdContent",t.validatorRules.jdContent],expression:"['jdContent', validatorRules.jdContent]"}],attrs:{"auto-size":{minRows:8,maxRows:8}}})],1)],1)],1)],1)},a=[function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-87ij",staticStyle:{width:"6%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("序号")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"12%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("项点")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"18%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查内容")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"8%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("等级")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"8%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查情况")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"8%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("结果")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("作业时间")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查方式")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查人")])]),e("td",{staticClass:"tg-87ij",staticStyle:{width:"10%"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("检查时间")])])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-87ij",attrs:{colspan:"7"}},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("不合格项汇总")])]),e("td",{staticClass:"tg-87ij"},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("整改情况")])]),e("td",{staticClass:"tg-87ij"},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("复查时间")])]),e("td",{staticClass:"tg-87ij"},[e("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[t._v("复查人")])])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"tg-0pky",attrs:{colspan:"10"}})])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"tg-0pky",attrs:{colspan:"8"}},[t._v(" 1、表中只列出关键项点，检查人员在检查时参照工艺文件标准执行。"),e("br"),t._v(" 2、检查人员必须对当天作业内容进行检查。"),e("br"),t._v(" 3、表中所有内容全部现场检查时填写完成，并悬挂于部件上，随部件流转。"),e("br"),t._v(" 4、作业时间由作业班组填写，其余由检查人员填写。“检查情况”一栏详细记录检查情况；“结果”一栏对检查合格的画“√”不合格的画“×”；“检查方式”一栏写明检查手段，如：目视、测量、操作等。"),e("br"),t._v(" 5、检查人员对不合格项视情节严重情况开具整改单，及时提出整改意见，并督促整改，整改完成后及时进行复查。"),e("br"),t._v(" 6、由检查人员、质量工程师及专业工程师对整体作业质量做出最终判定。 ")])}],s=n("b7b4");function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,r,a,s){var i=r&&r.prototype instanceof u?r:u,l=Object.create(i.prototype);return o(l,"_invoke",function(n,r,a){var s,i,o,u=0,l=a||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return s=e,i=0,o=t,f.n=n,c}};function h(n,r){for(i=n,o=r,e=0;!d&&u&&!a&&e<l.length;e++){var a,s=l[e],h=f.p,g=s[2];n>3?(a=g===r)&&(o=s[(i=s[4])?5:(i=3,3)],s[4]=s[5]=t):s[0]<=h&&((a=n<2&&h<s[1])?(i=0,f.v=r,f.n=s[1]):h<g&&(a=n<3||s[0]>r||r>g)&&(s[4]=n,s[5]=r,f.n=g,i=0))}if(a||n>1)return c;throw d=!0,r}return function(a,l,g){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,g),i=l,o=g;(e=i<2?t:o)||!d;){s||(i?i<3?(i>1&&(f.n=-1),h(i,o)):f.n=o:f.v=o);try{if(u=2,s){if(i||(a="next"),e=s[a]){if(!(e=e.call(s,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,i<2&&(i=0)}else 1===i&&(e=s.return)&&e.call(s),i<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),i=1);s=t}else if((e=(d=f.n<0)?o:n.call(r,f))!==c)break}catch(e){s=t,i=1,o=e}finally{u=1}}return{value:e,done:d}}}(n,a,s),!0),l}var c={};function u(){}function l(){}function d(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(o(e={},r,(function(){return this})),e),h=d.prototype=u.prototype=Object.create(f);function g(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,o(t,a,"GeneratorFunction")),t.prototype=Object.create(h),t}return l.prototype=d,o(h,"constructor",d),o(d,"constructor",l),l.displayName="GeneratorFunction",o(d,a,"GeneratorFunction"),o(h),o(h,a,"Generator"),o(h,r,(function(){return this})),o(h,"toString",(function(){return"[object Generator]"})),(i=function(){return{w:s,m:g}})()}function o(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}o=function(t,e,n,r){function s(e,n){o(t,e,(function(t){return this._invoke(e,n,t)}))}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(s("next",0),s("throw",1),s("return",2))},o(t,e,n,r)}function c(t,e,n,r,a,s,i){try{var o=t[s](i),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function i(t){c(s,r,a,i,o,"next",t)}function o(t){c(s,r,a,i,o,"throw",t)}i(void 0)}))}}var l={name:"JobCheckSheetTable",data:function(){return{jdContentText:"",form:this.$form.createForm(this),validatorRules:{jdContent:{rules:[{required:!0,message:"请输入评定内容!"}]}},judgeQueryParam:{id:null,checkInstId:"",checkInstName:"",jdContent:"",jdTime:null,jdUserId:this.$store.getters.userInfo.id,jdUserName:this.$store.getters.userInfo.username},visible:!1,sheetData:{}}},props:{data:{type:Object,default:function(){return{}}},qualityEvaluation:{type:Boolean,default:!1},fromData:{type:Object,default:function(){}}},created:function(){this.sheetData=Object.assign({},this.data),this.sheetData.itemList=this.sortArray(this.sheetData.itemList)},mounted:function(){},computed:{isJudge:function(){var t=this;return!(!this.sheetData||!this.sheetData.judgeList||this.sheetData.judgeList.length<1)&&!!this.sheetData.judgeList.find((function(e){return e.jdUserId===t.$store.getters.userInfo.id}))}},methods:{getWorkCheckForm:function(){var t=u(i().m((function t(){var e,n=this;return i().w((function(t){while(1)switch(t.n){case 0:return e=this.fromData,t.a(2,Object(s["z"])({task2InstId:e.task2InstId,formInstId:e.id}).then((function(t){return t.success&&t.result&&(t.result.itemList=n.sortArray(t.result.itemList),n.sheetData=t.result),n.sheetData})))}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openJudgeModal:function(){var t=this,e=this.fromData;this.judgeQueryParam.checkInstId=e.id,this.judgeQueryParam.checkInstName=e.name,this.visible=!0;var n=e.judgeList.find((function(e){return e.jdUserId===t.$store.getters.userInfo.id}));n?(this.judgeQueryParam.jdContent=n.jdContent,this.judgeQueryParam.id=n.id,this.form.getFieldDecorator("jdContent"),this.$nextTick((function(){t.form.setFieldsValue({jdContent:t.jdContentText||t.judgeQueryParam.jdContent})}))):(this.judgeQueryParam.jdContent="",this.judgeQueryParam.id=null,this.form.getFieldDecorator("jdContent"),this.$nextTick((function(){t.form.setFieldsValue({jdContent:""})})))},handleOk:function(){var t=this;this.form.validateFields((function(e,n){e||(Object.assign(t.judgeQueryParam,n),Object(s["I"])(t.judgeQueryParam).then((function(e){e.success?(t.jdContentText=n.jdContent,t.$message.success("保存成功"),t.$emit("brush"),t.getWorkCheckForm().then((function(e){t.$emit("judgeChange",t.sheetData)}))):t.$message.error(e.message)})),t.visible=!1)}))},sortArray:function(t){return t.sort(this.compare("sortNo")),t},compare:function(t){return function(e,n){return e[t]-n[t]}},delJudge:function(t){var e=this;this.$confirm({content:"是否删除作业质量评定？",okText:"确定",cancelText:"取消",onOk:function(){var n=new FormData;n.append("ids",t),Object(s["h"])(n).then((function(t){t.success?(e.$message.success("执行成功"),e.$emit("brush"),e.getWorkCheckForm().then((function(t){e.$emit("judgeChange",e.sheetData)}))):e.$message.error(t.message)}))}})}}},d=l,f=(n("bd18"),n("2877")),h=Object(f["a"])(d,r,a,!1,null,"3c8c4fbe",null);e["default"]=h.exports}}]);