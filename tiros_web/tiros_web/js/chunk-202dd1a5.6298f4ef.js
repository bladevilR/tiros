(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-202dd1a5","chunk-73168c84","chunk-2d0ba8d9"],{"1f45":function(t,e,a){},"277b":function(t,e,a){},3864:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("a-card",{staticStyle:{height:"100%"},attrs:{loading:t.cardLoading,bordered:!1}},[e("a-spin",{attrs:{spinning:t.loading}},[e("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"输入机构名称查询...",enterButton:""},on:{search:t.handleSearch}}),e("a-tree",{attrs:{showLine:"",checkStrictly:"",expandedKeys:t.expandedKeys,selectedKeys:t.selectedKeys,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:t.treeDataSource},on:{"update:expandedKeys":function(e){t.expandedKeys=e},"update:expanded-keys":function(e){t.expandedKeys=e},select:t.handleTreeSelect}})],1)],1)},n=[],i=a("4ec3"),o={name:"AddressListLeft",props:["value"],data:function(){return{cardLoading:!0,loading:!1,treeDataSource:[],selectedKeys:[],expandedKeys:[]}},created:function(){this.queryTreeData()},methods:{queryTreeData:function(t){this.commonRequestThen(Object(i["H"])({departName:t||void 0}))},handleSearch:function(t){t?this.commonRequestThen(Object(i["Y"])({keyWord:t})):this.queryTreeData()},handleTreeSelect:function(t,e){if(t.length>0&&this.selectedKeys[0]!==t[0]){this.selectedKeys=[t[0]];var a=e.node.dataRef.orgCode;this.emitInput(a)}},emitInput:function(t){this.$emit("input",t)},commonRequestThen:function(t){var e=this;this.loading=!0,t.then((function(t){t.success?e.treeDataSource=t.result:e.$message.warn(t.message)})).finally((function(){e.loading=!1,e.cardLoading=!1}))}}},s=o,c=a("2877"),l=Object(c["a"])(s,r,n,!1,null,"1d28f146",null);e["default"]=l.exports},6515:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("a-row",{attrs:{type:"flex",gutter:16}},[e("a-col",{attrs:{md:5,sm:24}},[e("address-list-left",{model:{value:t.currentOrgCode,callback:function(e){t.currentOrgCode=e},expression:"currentOrgCode"}})],1),e("a-col",{attrs:{md:19,sm:24}},[e("address-list-right",{model:{value:t.currentOrgCode,callback:function(e){t.currentOrgCode=e},expression:"currentOrgCode"}})],1)],1)},n=[],i=a("3864"),o=a("cb6b"),s={name:"AddressList",components:{AddressListLeft:i["default"],AddressListRight:o["default"]},data:function(){return{description:"通讯录页面",currentOrgCode:""}},methods:{}},c=s,l=(a("928f"),a("2877")),d=Object(l["a"])(c,r,n,!1,null,"0f56c3a6",null);e["default"]=d.exports},"85c2":function(t,e,a){},"928f":function(t,e,a){"use strict";a("85c2")},ca7d:function(t,e,a){"use strict";a("1f45")},cb6b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("a-card",{staticClass:"j-address-list-right-card-box",attrs:{loading:t.cardLoading,bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:10}},[e("a-col",{attrs:{md:6,sm:12}},[e("a-form-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"姓名"}},[e("a-input",{attrs:{placeholder:"请输入姓名查询"},model:{value:t.queryParam.realname,callback:function(e){t.$set(t.queryParam,"realname",e)},expression:"queryParam.realname"}})],1)],1),e("a-col",{attrs:{md:6,sm:12}},[e("a-form-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"工号"}},[e("a-input",{attrs:{placeholder:"请输入工号查询"},model:{value:t.queryParam.workNo,callback:function(e){t.$set(t.queryParam,"workNo",e)},expression:"queryParam.workNo"}})],1)],1),e("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[e("a-col",{attrs:{md:6,sm:24}},[e("a-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"primary",icon:"search"},on:{click:t.searchQuery}},[t._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:t.searchReset}},[t._v("重置")])],1)],1)],1)],1)],1),e("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"userId",pagination:t.ipagination,columns:t.columns,dataSource:t.dataSource,loading:t.loading},on:{change:t.handleTableChange}})],1)},n=[],i=a("0fea"),o=a("b65a");function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return(e=u(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function u(t){var e=f(t,"string");return"symbol"==s(e)?e:e+""}function f(t,e){if("object"!=s(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h={name:"AddressListRight",mixins:[o["a"]],components:{},props:["value"],data:function(){var t=this;return{description:"用户信息",cardLoading:!0,positionInfo:{},columns:[{title:"#",key:"rowIndex",dataIndex:"",width:60,align:"center",customRender:function(t,e,a){return parseInt(a)+1}},{title:"姓名",width:"15%",align:"center",dataIndex:"realname"},{title:"工号",width:"15%",align:"center",dataIndex:"workNo"},{title:"部门",width:"20%",align:"center",dataIndex:"departName"},{title:"职务",width:"15%",align:"center",dataIndex:"post",customRender:function(e){return(e||"").split(",").map((function(e){return t.positionInfo[e]?t.positionInfo[e]:e})).join(",")}},{title:"手机",width:"15%",align:"center",dataIndex:"telephone"},{title:"公司邮箱",width:"15%",align:"center",dataIndex:"email"}],url:{list:"/sys/user/queryByOrgCodeForAddressList",listByPosition:"/sys/position/list"}}},watch:{value:{immediate:!0,handler:function(t){this.dataSource=[],this.loadData(1,t)}}},created:function(){this.queryPositionInfo()},methods:{loadData:function(t,e){var a=this;this.loading=!0,1===t&&(this.ipagination.current=1),e?Object(i["d"])(this.url.list,l({orgCode:e},this.getQueryParams())).then((function(t){t.success&&(a.dataSource=t.result.records,a.ipagination.total=t.result.total)})).finally((function(){a.loading=!1,a.cardLoading=!1})):Object(i["d"])(this.url.list,l({},this.getQueryParams())).then((function(t){t.success&&(a.dataSource=t.result.records,a.ipagination.total=t.result.total)})).finally((function(){a.loading=!1,a.cardLoading=!1}))},searchQuery:function(){this.loadData(1,this.value)},searchReset:function(){this.queryParam={},this.loadData(1,this.value)},handleTableChange:function(t,e,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"===a.order?"asc":"desc"),this.ipagination=t,this.loadData(null,this.value)},queryPositionInfo:function(){var t=this;Object(i["d"])(this.url.listByPosition,{pageSize:99999}).then((function(e){if(e.success){var a={};e.result.records.forEach((function(t){a[t["code"]]=t["name"]})),t.positionInfo=a}}))}}},p=h,m=(a("ca7d"),a("d299"),a("2877")),y=Object(m["a"])(p,r,n,!1,null,"4c512d05",null);e["default"]=y.exports},d299:function(t,e,a){"use strict";a("277b")}}]);