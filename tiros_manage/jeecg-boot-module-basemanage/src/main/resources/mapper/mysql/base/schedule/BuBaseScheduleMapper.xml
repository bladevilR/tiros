<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.basemanage.schedule.mapper.BuBaseScheduleMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="org.jeecg.modules.basemanage.schedule.bean.BuBaseSchedule">
        <id column="id" property="id"/>
        <result column="title" property="title"/>
        <result column="content" property="content"/>
        <result column="user_id" property="userId"/>
        <result column="schedule_type" property="scheduleType"/>
        <result column="start_time" property="startTime"/>
        <result column="end_time" property="endTime"/>
        <result column="finished" property="finished"/>
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, title, content, user_id, schedule_type, start_time, end_time, finished
    </sql>


    <select id="selectListByUserIdAndTime" resultType="org.jeecg.modules.basemanage.schedule.bean.BuBaseSchedule">
        select t.*
        from bu_base_schedule t
        where t.user_id = #{userId}
          and (t.start_time &gt;= #{startTime} and t.end_time &lt;= #{endTime})
        order by start_time desc
    </select>

    <select id="selectListByUserIdAndDate" resultType="org.jeecg.modules.basemanage.schedule.bean.BuBaseSchedule">
        select t.*
        from bu_base_schedule t
        where t.user_id = #{userId}
          and (TO_DAYS(t.start_time) &lt;= TO_DAYS(#{date}) and t.end_time &gt;= #{date})
        order by start_time desc
    </select>

</mapper>
